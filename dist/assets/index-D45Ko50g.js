function Pf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Of(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uc={exports:{}},_i={},Dc={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),Rf=Symbol.for("react.portal"),Af=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),Uf=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),zf=Symbol.for("react.memo"),Bf=Symbol.for("react.lazy"),Kl=Symbol.iterator;function Ff(e){return e===null||typeof e!="object"?null:(e=Kl&&e[Kl]||e["@@iterator"],typeof e=="function"?e:null)}var Mc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zc=Object.assign,Bc={};function en(e,t,r){this.props=e,this.context=t,this.refs=Bc,this.updater=r||Mc}en.prototype.isReactComponent={};en.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};en.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fc(){}Fc.prototype=en.prototype;function Uo(e,t,r){this.props=e,this.context=t,this.refs=Bc,this.updater=r||Mc}var Do=Uo.prototype=new Fc;Do.constructor=Uo;zc(Do,en.prototype);Do.isPureReactComponent=!0;var Gl=Array.isArray,Vc=Object.prototype.hasOwnProperty,Mo={current:null},Wc={key:!0,ref:!0,__self:!0,__source:!0};function qc(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Vc.call(t,n)&&!Wc.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ss,type:e,key:i,ref:a,props:s,_owner:Mo.current}}function Vf(e,t){return{$$typeof:ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ss}function Wf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jl=/\/+/g;function Hi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wf(""+e.key):t.toString(36)}function Is(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ss:case Rf:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Hi(a,0):n,Gl(s)?(r="",e!=null&&(r=e.replace(Jl,"$&/")+"/"),Is(s,t,r,"",function(c){return c})):s!=null&&(zo(s)&&(s=Vf(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Jl,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Gl(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+Hi(i,o);a+=Is(i,t,r,l,s)}else if(l=Ff(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+Hi(i,o++),a+=Is(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function fs(e,t,r){if(e==null)return e;var n=[],s=0;return Is(e,n,"","",function(i){return t.call(r,i,s++)}),n}function qf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},$s={transition:null},Hf={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:$s,ReactCurrentOwner:Mo};function Hc(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:fs,forEach:function(e,t,r){fs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!zo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Component=en;L.Fragment=Af;L.Profiler=$f;L.PureComponent=Uo;L.StrictMode=If;L.Suspense=Mf;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hf;L.act=Hc;L.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Mo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Vc.call(t,l)&&!Wc.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ss,type:e.type,key:s,ref:i,props:n,_owner:a}};L.createContext=function(e){return e={$$typeof:Uf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lf,_context:e},e.Consumer=e};L.createElement=qc;L.createFactory=function(e){var t=qc.bind(null,e);return t.type=e,t};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:Df,render:e}};L.isValidElement=zo;L.lazy=function(e){return{$$typeof:Bf,_payload:{_status:-1,_result:e},_init:qf}};L.memo=function(e,t){return{$$typeof:zf,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};L.unstable_act=Hc;L.useCallback=function(e,t){return _e.current.useCallback(e,t)};L.useContext=function(e){return _e.current.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};L.useEffect=function(e,t){return _e.current.useEffect(e,t)};L.useId=function(){return _e.current.useId()};L.useImperativeHandle=function(e,t,r){return _e.current.useImperativeHandle(e,t,r)};L.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};L.useMemo=function(e,t){return _e.current.useMemo(e,t)};L.useReducer=function(e,t,r){return _e.current.useReducer(e,t,r)};L.useRef=function(e){return _e.current.useRef(e)};L.useState=function(e){return _e.current.useState(e)};L.useSyncExternalStore=function(e,t,r){return _e.current.useSyncExternalStore(e,t,r)};L.useTransition=function(){return _e.current.useTransition()};L.version="18.3.1";Dc.exports=L;var k=Dc.exports;const Kc=Of(k),Kf=Pf({__proto__:null,default:Kc},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=k,Jf=Symbol.for("react.element"),Qf=Symbol.for("react.fragment"),Xf=Object.prototype.hasOwnProperty,Yf=Gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zf={key:!0,ref:!0,__self:!0,__source:!0};function Gc(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Xf.call(t,n)&&!Zf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Jf,type:e,key:i,ref:a,props:s,_owner:Yf.current}}_i.Fragment=Qf;_i.jsx=Gc;_i.jsxs=Gc;Uc.exports=_i;var u=Uc.exports,Ta={},Jc={exports:{}},Le={},Qc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var $=T.length;T.push(A);e:for(;0<$;){var Z=$-1>>>1,oe=T[Z];if(0<s(oe,A))T[Z]=A,T[$]=oe,$=Z;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var A=T[0],$=T.pop();if($!==A){T[0]=$;e:for(var Z=0,oe=T.length,ds=oe>>>1;Z<ds;){var qt=2*(Z+1)-1,qi=T[qt],Ht=qt+1,hs=T[Ht];if(0>s(qi,$))Ht<oe&&0>s(hs,qi)?(T[Z]=hs,T[Ht]=$,Z=Ht):(T[Z]=qi,T[qt]=$,Z=qt);else if(Ht<oe&&0>s(hs,$))T[Z]=hs,T[Ht]=$,Z=Ht;else break e}}return A}function s(T,A){var $=T.sortIndex-A.sortIndex;return $!==0?$:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,p=3,w=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(T){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=T)n(c),A.sortIndex=A.expirationTime,t(l,A);else break;A=r(c)}}function _(T){if(y=!1,h(T),!v)if(r(l)!==null)v=!0,Vi(S);else{var A=r(c);A!==null&&Wi(_,A.startTime-T)}}function S(T,A){v=!1,y&&(y=!1,g(C),C=-1),w=!0;var $=p;try{for(h(A),f=r(l);f!==null&&(!(f.expirationTime>A)||T&&!We());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var oe=Z(f.expirationTime<=A);A=e.unstable_now(),typeof oe=="function"?f.callback=oe:f===r(l)&&n(l),h(A)}else n(l);f=r(l)}if(f!==null)var ds=!0;else{var qt=r(c);qt!==null&&Wi(_,qt.startTime-A),ds=!1}return ds}finally{f=null,p=$,w=!1}}var b=!1,j=null,C=-1,U=5,I=-1;function We(){return!(e.unstable_now()-I<U)}function an(){if(j!==null){var T=e.unstable_now();I=T;var A=!0;try{A=j(!0,T)}finally{A?on():(b=!1,j=null)}}else b=!1}var on;if(typeof m=="function")on=function(){m(an)};else if(typeof MessageChannel<"u"){var Hl=new MessageChannel,Tf=Hl.port2;Hl.port1.onmessage=an,on=function(){Tf.postMessage(null)}}else on=function(){x(an,0)};function Vi(T){j=T,b||(b=!0,on())}function Wi(T,A){C=x(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,Vi(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var $=p;p=A;try{return T()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=p;p=T;try{return A()}finally{p=$}},e.unstable_scheduleCallback=function(T,A,$){var Z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Z+$:Z):$=Z,T){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=$+oe,T={id:d++,callback:A,priorityLevel:T,startTime:$,expirationTime:oe,sortIndex:-1},$>Z?(T.sortIndex=$,t(c,T),r(l)===null&&T===r(c)&&(y?(g(C),C=-1):y=!0,Wi(_,$-Z))):(T.sortIndex=oe,t(l,T),v||w||(v=!0,Vi(S))),T},e.unstable_shouldYield=We,e.unstable_wrapCallback=function(T){var A=p;return function(){var $=p;p=A;try{return T.apply(this,arguments)}finally{p=$}}}})(Xc);Qc.exports=Xc;var ep=Qc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=k,$e=ep;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yc=new Set,Rn={};function hr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Rn[e]=t,e=0;e<t.length;e++)Yc.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=Object.prototype.hasOwnProperty,rp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ql={},Xl={};function np(e){return Pa.call(Xl,e)?!0:Pa.call(Ql,e)?!1:rp.test(e)?Xl[e]=!0:(Ql[e]=!0,!1)}function sp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ip(e,t,r,n){if(t===null||typeof t>"u"||sp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bo=/[\-:]([a-z])/g;function Fo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bo,Fo);pe[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bo,Fo);pe[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bo,Fo);pe[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vo(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ip(t,r,s,n)&&(r=null),n||s===null?np(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gt=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Er=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),Wo=Symbol.for("react.strict_mode"),Oa=Symbol.for("react.profiler"),Zc=Symbol.for("react.provider"),ed=Symbol.for("react.context"),qo=Symbol.for("react.forward_ref"),Ra=Symbol.for("react.suspense"),Aa=Symbol.for("react.suspense_list"),Ho=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),td=Symbol.for("react.offscreen"),Yl=Symbol.iterator;function ln(e){return e===null||typeof e!="object"?null:(e=Yl&&e[Yl]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,Ki;function gn(e){if(Ki===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ki=t&&t[1]||""}return`
`+Ki+e}var Gi=!1;function Ji(e,t){if(!e||Gi)return"";Gi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Gi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gn(e):""}function ap(e){switch(e.tag){case 5:return gn(e.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 2:case 15:return e=Ji(e.type,!1),e;case 11:return e=Ji(e.type.render,!1),e;case 1:return e=Ji(e.type,!0),e;default:return""}}function Ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jr:return"Fragment";case Er:return"Portal";case Oa:return"Profiler";case Wo:return"StrictMode";case Ra:return"Suspense";case Aa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ed:return(e.displayName||"Context")+".Consumer";case Zc:return(e._context.displayName||"Context")+".Provider";case qo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ho:return t=e.displayName||null,t!==null?t:Ia(e.type)||"Memo";case xt:t=e._payload,e=e._init;try{return Ia(e(t))}catch{}}return null}function op(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ia(t);case 8:return t===Wo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lp(e){var t=rd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ms(e){e._valueTracker||(e._valueTracker=lp(e))}function nd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $a(e,t){var r=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zl(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sd(e,t){t=t.checked,t!=null&&Vo(e,"checked",t,!1)}function La(e,t){sd(e,t);var r=Dt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ua(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ua(e,t.type,Dt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ua(e,t,r){(t!=="number"||Hs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vn=Array.isArray;function Mr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(vn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dt(r)}}function id(e,t){var r=Dt(t.value),n=Dt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ru(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ad(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ad(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gs,od=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gs=gs||document.createElement("div"),gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function An(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},up=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(e){up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_n[t]=_n[e]})});function ld(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_n.hasOwnProperty(e)&&_n[e]?(""+t).trim():t+"px"}function ud(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ld(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var cp=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function za(e,t){if(t){if(cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Ba(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fa=null;function Ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,zr=null,Br=null;function nu(e){if(e=os(e)){if(typeof Va!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ji(t),Va(e.stateNode,e.type,t))}}function cd(e){zr?Br?Br.push(e):Br=[e]:zr=e}function dd(){if(zr){var e=zr,t=Br;if(Br=zr=null,nu(e),t)for(e=0;e<t.length;e++)nu(t[e])}}function hd(e,t){return e(t)}function fd(){}var Qi=!1;function pd(e,t,r){if(Qi)return e(t,r);Qi=!0;try{return hd(e,t,r)}finally{Qi=!1,(zr!==null||Br!==null)&&(fd(),dd())}}function In(e,t){var r=e.stateNode;if(r===null)return null;var n=ji(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var Wa=!1;if(ht)try{var un={};Object.defineProperty(un,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Wa=!1}function dp(e,t,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var kn=!1,Ks=null,Gs=!1,qa=null,hp={onError:function(e){kn=!0,Ks=e}};function fp(e,t,r,n,s,i,a,o,l){kn=!1,Ks=null,dp.apply(hp,arguments)}function pp(e,t,r,n,s,i,a,o,l){if(fp.apply(this,arguments),kn){if(kn){var c=Ks;kn=!1,Ks=null}else throw Error(E(198));Gs||(Gs=!0,qa=c)}}function fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function md(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function su(e){if(fr(e)!==e)throw Error(E(188))}function mp(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return su(s),e;if(i===n)return su(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function gd(e){return e=mp(e),e!==null?vd(e):null}function vd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vd(e);if(t!==null)return t;e=e.sibling}return null}var yd=$e.unstable_scheduleCallback,iu=$e.unstable_cancelCallback,gp=$e.unstable_shouldYield,vp=$e.unstable_requestPaint,ee=$e.unstable_now,yp=$e.unstable_getCurrentPriorityLevel,Go=$e.unstable_ImmediatePriority,wd=$e.unstable_UserBlockingPriority,Js=$e.unstable_NormalPriority,wp=$e.unstable_LowPriority,xd=$e.unstable_IdlePriority,ki=null,st=null;function xp(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(ki,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Sp,_p=Math.log,kp=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(_p(e)/kp|0)|0}var vs=64,ys=4194304;function yn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=yn(o):(i&=a,i!==0&&(n=yn(i)))}else a=r&~s,a!==0?n=yn(a):i!==0&&(n=yn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ye(t),s=1<<r,n|=e[r],t&=~s;return n}function bp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ep(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ye(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=bp(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Ha(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _d(){var e=vs;return vs<<=1,!(vs&4194240)&&(vs=64),e}function Xi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function is(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=r}function jp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ye(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Jo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ye(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var M=0;function kd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sd,Qo,bd,Ed,jd,Ka=!1,ws=[],Tt=null,Pt=null,Ot=null,$n=new Map,Ln=new Map,St=[],Np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function cn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=os(t),t!==null&&Qo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Cp(e,t,r,n,s){switch(t){case"focusin":return Tt=cn(Tt,e,t,r,n,s),!0;case"dragenter":return Pt=cn(Pt,e,t,r,n,s),!0;case"mouseover":return Ot=cn(Ot,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return $n.set(i,cn($n.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ln.set(i,cn(Ln.get(i)||null,e,t,r,n,s)),!0}return!1}function Nd(e){var t=tr(e.target);if(t!==null){var r=fr(t);if(r!==null){if(t=r.tag,t===13){if(t=md(r),t!==null){e.blockedOn=t,jd(e.priority,function(){bd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fa=n,r.target.dispatchEvent(n),Fa=null}else return t=os(r),t!==null&&Qo(t),e.blockedOn=r,!1;t.shift()}return!0}function ou(e,t,r){Ls(e)&&r.delete(t)}function Tp(){Ka=!1,Tt!==null&&Ls(Tt)&&(Tt=null),Pt!==null&&Ls(Pt)&&(Pt=null),Ot!==null&&Ls(Ot)&&(Ot=null),$n.forEach(ou),Ln.forEach(ou)}function dn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ka||(Ka=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,Tp)))}function Un(e){function t(s){return dn(s,e)}if(0<ws.length){dn(ws[0],e);for(var r=1;r<ws.length;r++){var n=ws[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Tt!==null&&dn(Tt,e),Pt!==null&&dn(Pt,e),Ot!==null&&dn(Ot,e),$n.forEach(t),Ln.forEach(t),r=0;r<St.length;r++)n=St[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<St.length&&(r=St[0],r.blockedOn===null);)Nd(r),r.blockedOn===null&&St.shift()}var Fr=gt.ReactCurrentBatchConfig,Xs=!0;function Pp(e,t,r,n){var s=M,i=Fr.transition;Fr.transition=null;try{M=1,Xo(e,t,r,n)}finally{M=s,Fr.transition=i}}function Op(e,t,r,n){var s=M,i=Fr.transition;Fr.transition=null;try{M=4,Xo(e,t,r,n)}finally{M=s,Fr.transition=i}}function Xo(e,t,r,n){if(Xs){var s=Ga(e,t,r,n);if(s===null)oa(e,t,n,Ys,r),au(e,n);else if(Cp(s,e,t,r,n))n.stopPropagation();else if(au(e,n),t&4&&-1<Np.indexOf(e)){for(;s!==null;){var i=os(s);if(i!==null&&Sd(i),i=Ga(e,t,r,n),i===null&&oa(e,t,n,Ys,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else oa(e,t,n,null,r)}}var Ys=null;function Ga(e,t,r,n){if(Ys=null,e=Ko(n),e=tr(e),e!==null)if(t=fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=md(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ys=e,null}function Cd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yp()){case Go:return 1;case wd:return 4;case Js:case wp:return 16;case xd:return 536870912;default:return 16}default:return 16}}var jt=null,Yo=null,Us=null;function Td(){if(Us)return Us;var e,t=Yo,r=t.length,n,s="value"in jt?jt.value:jt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Us=s.slice(e,1<n?1-n:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function lu(){return!1}function Ue(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xs:lu,this.isPropagationStopped=lu,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=Ue(tn),as=J({},tn,{view:0,detail:0}),Rp=Ue(as),Yi,Zi,hn,Si=J({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:el,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&e.type==="mousemove"?(Yi=e.screenX-hn.screenX,Zi=e.screenY-hn.screenY):Zi=Yi=0,hn=e),Yi)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),uu=Ue(Si),Ap=J({},Si,{dataTransfer:0}),Ip=Ue(Ap),$p=J({},as,{relatedTarget:0}),ea=Ue($p),Lp=J({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Up=Ue(Lp),Dp=J({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mp=Ue(Dp),zp=J({},tn,{data:0}),cu=Ue(zp),Bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vp[e])?!!t[e]:!1}function el(){return Wp}var qp=J({},as,{key:function(e){if(e.key){var t=Bp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:el,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hp=Ue(qp),Kp=J({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),du=Ue(Kp),Gp=J({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:el}),Jp=Ue(Gp),Qp=J({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=Ue(Qp),Yp=J({},Si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zp=Ue(Yp),em=[9,13,27,32],tl=ht&&"CompositionEvent"in window,Sn=null;ht&&"documentMode"in document&&(Sn=document.documentMode);var tm=ht&&"TextEvent"in window&&!Sn,Pd=ht&&(!tl||Sn&&8<Sn&&11>=Sn),hu=" ",fu=!1;function Od(e,t){switch(e){case"keyup":return em.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function rm(e,t){switch(e){case"compositionend":return Rd(t);case"keypress":return t.which!==32?null:(fu=!0,hu);case"textInput":return e=t.data,e===hu&&fu?null:e;default:return null}}function nm(e,t){if(Nr)return e==="compositionend"||!tl&&Od(e,t)?(e=Td(),Us=Yo=jt=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sm[e.type]:t==="textarea"}function Ad(e,t,r,n){cd(n),t=Zs(t,"onChange"),0<t.length&&(r=new Zo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bn=null,Dn=null;function im(e){Wd(e,0)}function bi(e){var t=Pr(e);if(nd(t))return e}function am(e,t){if(e==="change")return t}var Id=!1;if(ht){var ta;if(ht){var ra="oninput"in document;if(!ra){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),ra=typeof mu.oninput=="function"}ta=ra}else ta=!1;Id=ta&&(!document.documentMode||9<document.documentMode)}function gu(){bn&&(bn.detachEvent("onpropertychange",$d),Dn=bn=null)}function $d(e){if(e.propertyName==="value"&&bi(Dn)){var t=[];Ad(t,Dn,e,Ko(e)),pd(im,t)}}function om(e,t,r){e==="focusin"?(gu(),bn=t,Dn=r,bn.attachEvent("onpropertychange",$d)):e==="focusout"&&gu()}function lm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(Dn)}function um(e,t){if(e==="click")return bi(t)}function cm(e,t){if(e==="input"||e==="change")return bi(t)}function dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:dm;function Mn(e,t){if(et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pa.call(t,s)||!et(e[s],t[s]))return!1}return!0}function vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yu(e,t){var r=vu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vu(r)}}function Ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ud(){for(var e=window,t=Hs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hs(e.document)}return t}function rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hm(e){var t=Ud(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ld(r.ownerDocument.documentElement,r)){if(n!==null&&rl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=yu(r,i);var a=yu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fm=ht&&"documentMode"in document&&11>=document.documentMode,Cr=null,Ja=null,En=null,Qa=!1;function wu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qa||Cr==null||Cr!==Hs(n)||(n=Cr,"selectionStart"in n&&rl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),En&&Mn(En,n)||(En=n,n=Zs(Ja,"onSelect"),0<n.length&&(t=new Zo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Cr)))}function _s(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Tr={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},na={},Dd={};ht&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Ei(e){if(na[e])return na[e];if(!Tr[e])return e;var t=Tr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Dd)return na[e]=t[r];return e}var Md=Ei("animationend"),zd=Ei("animationiteration"),Bd=Ei("animationstart"),Fd=Ei("transitionend"),Vd=new Map,xu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zt(e,t){Vd.set(e,t),hr(t,[e])}for(var sa=0;sa<xu.length;sa++){var ia=xu[sa],pm=ia.toLowerCase(),mm=ia[0].toUpperCase()+ia.slice(1);zt(pm,"on"+mm)}zt(Md,"onAnimationEnd");zt(zd,"onAnimationIteration");zt(Bd,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(Fd,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(wn));function _u(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,pp(n,t,void 0,e),e.currentTarget=null}function Wd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;_u(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;_u(s,o,c),i=l}}}if(Gs)throw e=qa,Gs=!1,qa=null,e}function F(e,t){var r=t[to];r===void 0&&(r=t[to]=new Set);var n=e+"__bubble";r.has(n)||(qd(t,e,2,!1),r.add(n))}function aa(e,t,r){var n=0;t&&(n|=4),qd(r,e,n,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function zn(e){if(!e[ks]){e[ks]=!0,Yc.forEach(function(r){r!=="selectionchange"&&(gm.has(r)||aa(r,!1,e),aa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,aa("selectionchange",!1,t))}}function qd(e,t,r,n){switch(Cd(t)){case 1:var s=Pp;break;case 4:s=Op;break;default:s=Xo}r=s.bind(null,t,r,e),s=void 0,!Wa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function oa(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=tr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}pd(function(){var c=i,d=Ko(r),f=[];e:{var p=Vd.get(e);if(p!==void 0){var w=Zo,v=e;switch(e){case"keypress":if(Ds(r)===0)break e;case"keydown":case"keyup":w=Hp;break;case"focusin":v="focus",w=ea;break;case"focusout":v="blur",w=ea;break;case"beforeblur":case"afterblur":w=ea;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Jp;break;case Md:case zd:case Bd:w=Up;break;case Fd:w=Xp;break;case"scroll":w=Rp;break;case"wheel":w=Zp;break;case"copy":case"cut":case"paste":w=Mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=du}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var m=c,h;m!==null;){h=m;var _=h.stateNode;if(h.tag===5&&_!==null&&(h=_,g!==null&&(_=In(m,g),_!=null&&y.push(Bn(m,_,h)))),x)break;m=m.return}0<y.length&&(p=new w(p,v,null,r,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",p&&r!==Fa&&(v=r.relatedTarget||r.fromElement)&&(tr(v)||v[ft]))break e;if((w||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,w?(v=r.relatedTarget||r.toElement,w=c,v=v?tr(v):null,v!==null&&(x=fr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=c),w!==v)){if(y=uu,_="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=du,_="onPointerLeave",g="onPointerEnter",m="pointer"),x=w==null?p:Pr(w),h=v==null?p:Pr(v),p=new y(_,m+"leave",w,r,d),p.target=x,p.relatedTarget=h,_=null,tr(d)===c&&(y=new y(g,m+"enter",v,r,d),y.target=h,y.relatedTarget=x,_=y),x=_,w&&v)t:{for(y=w,g=v,m=0,h=y;h;h=mr(h))m++;for(h=0,_=g;_;_=mr(_))h++;for(;0<m-h;)y=mr(y),m--;for(;0<h-m;)g=mr(g),h--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=mr(y),g=mr(g)}y=null}else y=null;w!==null&&ku(f,p,w,y,!1),v!==null&&x!==null&&ku(f,x,v,y,!0)}}e:{if(p=c?Pr(c):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var S=am;else if(pu(p))if(Id)S=cm;else{S=lm;var b=om}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=um);if(S&&(S=S(e,c))){Ad(f,S,r,d);break e}b&&b(e,p,c),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&Ua(p,"number",p.value)}switch(b=c?Pr(c):window,e){case"focusin":(pu(b)||b.contentEditable==="true")&&(Cr=b,Ja=c,En=null);break;case"focusout":En=Ja=Cr=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,wu(f,r,d);break;case"selectionchange":if(fm)break;case"keydown":case"keyup":wu(f,r,d)}var j;if(tl)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Nr?Od(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Pd&&r.locale!=="ko"&&(Nr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Nr&&(j=Td()):(jt=d,Yo="value"in jt?jt.value:jt.textContent,Nr=!0)),b=Zs(c,C),0<b.length&&(C=new cu(C,e,null,r,d),f.push({event:C,listeners:b}),j?C.data=j:(j=Rd(r),j!==null&&(C.data=j)))),(j=tm?rm(e,r):nm(e,r))&&(c=Zs(c,"onBeforeInput"),0<c.length&&(d=new cu("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=j))}Wd(f,t)})}function Bn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zs(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=In(e,r),i!=null&&n.unshift(Bn(e,i,s)),i=In(e,t),i!=null&&n.push(Bn(e,i,s))),e=e.return}return n}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ku(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=In(r,i),l!=null&&a.unshift(Bn(r,l,o))):s||(l=In(r,i),l!=null&&a.push(Bn(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var vm=/\r\n?/g,ym=/\u0000|\uFFFD/g;function Su(e){return(typeof e=="string"?e:""+e).replace(vm,`
`).replace(ym,"")}function Ss(e,t,r){if(t=Su(t),Su(e)!==t&&r)throw Error(E(425))}function ei(){}var Xa=null,Ya=null;function Za(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eo=typeof setTimeout=="function"?setTimeout:void 0,wm=typeof clearTimeout=="function"?clearTimeout:void 0,bu=typeof Promise=="function"?Promise:void 0,xm=typeof queueMicrotask=="function"?queueMicrotask:typeof bu<"u"?function(e){return bu.resolve(null).then(e).catch(_m)}:eo;function _m(e){setTimeout(function(){throw e})}function la(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Un(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Un(t)}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rn=Math.random().toString(36).slice(2),nt="__reactFiber$"+rn,Fn="__reactProps$"+rn,ft="__reactContainer$"+rn,to="__reactEvents$"+rn,km="__reactListeners$"+rn,Sm="__reactHandles$"+rn;function tr(e){var t=e[nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ft]||r[nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Eu(e);e!==null;){if(r=e[nt])return r;e=Eu(e)}return t}e=r,r=e.parentNode}return null}function os(e){return e=e[nt]||e[ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ji(e){return e[Fn]||null}var ro=[],Or=-1;function Bt(e){return{current:e}}function V(e){0>Or||(e.current=ro[Or],ro[Or]=null,Or--)}function B(e,t){Or++,ro[Or]=e.current,e.current=t}var Mt={},ye=Bt(Mt),je=Bt(!1),or=Mt;function Gr(e,t){var r=e.type.contextTypes;if(!r)return Mt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(e){return e=e.childContextTypes,e!=null}function ti(){V(je),V(ye)}function ju(e,t,r){if(ye.current!==Mt)throw Error(E(168));B(ye,t),B(je,r)}function Hd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,op(e)||"Unknown",s));return J({},r,n)}function ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mt,or=ye.current,B(ye,e),B(je,je.current),!0}function Nu(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Hd(e,t,or),n.__reactInternalMemoizedMergedChildContext=e,V(je),V(ye),B(ye,e)):V(je),B(je,r)}var lt=null,Ni=!1,ua=!1;function Kd(e){lt===null?lt=[e]:lt.push(e)}function bm(e){Ni=!0,Kd(e)}function Ft(){if(!ua&&lt!==null){ua=!0;var e=0,t=M;try{var r=lt;for(M=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lt=null,Ni=!1}catch(s){throw lt!==null&&(lt=lt.slice(e+1)),yd(Go,Ft),s}finally{M=t,ua=!1}}return null}var Rr=[],Ar=0,ni=null,si=0,De=[],Me=0,lr=null,ut=1,ct="";function Jt(e,t){Rr[Ar++]=si,Rr[Ar++]=ni,ni=e,si=t}function Gd(e,t,r){De[Me++]=ut,De[Me++]=ct,De[Me++]=lr,lr=e;var n=ut;e=ct;var s=32-Ye(n)-1;n&=~(1<<s),r+=1;var i=32-Ye(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ut=1<<32-Ye(t)+s|r<<s|n,ct=i+e}else ut=1<<i|r<<s|n,ct=e}function nl(e){e.return!==null&&(Jt(e,1),Gd(e,1,0))}function sl(e){for(;e===ni;)ni=Rr[--Ar],Rr[Ar]=null,si=Rr[--Ar],Rr[Ar]=null;for(;e===lr;)lr=De[--Me],De[Me]=null,ct=De[--Me],De[Me]=null,ut=De[--Me],De[Me]=null}var Ie=null,Ae=null,q=!1,Xe=null;function Jd(e,t){var r=ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=Rt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=lr!==null?{id:ut,overflow:ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ie=e,Ae=null,!0):!1;default:return!1}}function no(e){return(e.mode&1)!==0&&(e.flags&128)===0}function so(e){if(q){var t=Ae;if(t){var r=t;if(!Cu(e,t)){if(no(e))throw Error(E(418));t=Rt(r.nextSibling);var n=Ie;t&&Cu(e,t)?Jd(n,r):(e.flags=e.flags&-4097|2,q=!1,Ie=e)}}else{if(no(e))throw Error(E(418));e.flags=e.flags&-4097|2,q=!1,Ie=e}}}function Tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function bs(e){if(e!==Ie)return!1;if(!q)return Tu(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Za(e.type,e.memoizedProps)),t&&(t=Ae)){if(no(e))throw Qd(),Error(E(418));for(;t;)Jd(e,t),t=Rt(t.nextSibling)}if(Tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ae=Rt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?Rt(e.stateNode.nextSibling):null;return!0}function Qd(){for(var e=Ae;e;)e=Rt(e.nextSibling)}function Jr(){Ae=Ie=null,q=!1}function il(e){Xe===null?Xe=[e]:Xe.push(e)}var Em=gt.ReactCurrentBatchConfig;function fn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pu(e){var t=e._init;return t(e._payload)}function Xd(e){function t(g,m){if(e){var h=g.deletions;h===null?(g.deletions=[m],g.flags|=16):h.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Lt(g,m),g.index=0,g.sibling=null,g}function i(g,m,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<m?(g.flags|=2,m):h):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,m,h,_){return m===null||m.tag!==6?(m=ga(h,g.mode,_),m.return=g,m):(m=s(m,h),m.return=g,m)}function l(g,m,h,_){var S=h.type;return S===jr?d(g,m,h.props.children,_,h.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xt&&Pu(S)===m.type)?(_=s(m,h.props),_.ref=fn(g,m,h),_.return=g,_):(_=qs(h.type,h.key,h.props,null,g.mode,_),_.ref=fn(g,m,h),_.return=g,_)}function c(g,m,h,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=va(h,g.mode,_),m.return=g,m):(m=s(m,h.children||[]),m.return=g,m)}function d(g,m,h,_,S){return m===null||m.tag!==7?(m=ar(h,g.mode,_,S),m.return=g,m):(m=s(m,h),m.return=g,m)}function f(g,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ga(""+m,g.mode,h),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ps:return h=qs(m.type,m.key,m.props,null,g.mode,h),h.ref=fn(g,null,m),h.return=g,h;case Er:return m=va(m,g.mode,h),m.return=g,m;case xt:var _=m._init;return f(g,_(m._payload),h)}if(vn(m)||ln(m))return m=ar(m,g.mode,h,null),m.return=g,m;Es(g,m)}return null}function p(g,m,h,_){var S=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return S!==null?null:o(g,m,""+h,_);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ps:return h.key===S?l(g,m,h,_):null;case Er:return h.key===S?c(g,m,h,_):null;case xt:return S=h._init,p(g,m,S(h._payload),_)}if(vn(h)||ln(h))return S!==null?null:d(g,m,h,_,null);Es(g,h)}return null}function w(g,m,h,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(h)||null,o(m,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ps:return g=g.get(_.key===null?h:_.key)||null,l(m,g,_,S);case Er:return g=g.get(_.key===null?h:_.key)||null,c(m,g,_,S);case xt:var b=_._init;return w(g,m,h,b(_._payload),S)}if(vn(_)||ln(_))return g=g.get(h)||null,d(m,g,_,S,null);Es(m,_)}return null}function v(g,m,h,_){for(var S=null,b=null,j=m,C=m=0,U=null;j!==null&&C<h.length;C++){j.index>C?(U=j,j=null):U=j.sibling;var I=p(g,j,h[C],_);if(I===null){j===null&&(j=U);break}e&&j&&I.alternate===null&&t(g,j),m=i(I,m,C),b===null?S=I:b.sibling=I,b=I,j=U}if(C===h.length)return r(g,j),q&&Jt(g,C),S;if(j===null){for(;C<h.length;C++)j=f(g,h[C],_),j!==null&&(m=i(j,m,C),b===null?S=j:b.sibling=j,b=j);return q&&Jt(g,C),S}for(j=n(g,j);C<h.length;C++)U=w(j,g,C,h[C],_),U!==null&&(e&&U.alternate!==null&&j.delete(U.key===null?C:U.key),m=i(U,m,C),b===null?S=U:b.sibling=U,b=U);return e&&j.forEach(function(We){return t(g,We)}),q&&Jt(g,C),S}function y(g,m,h,_){var S=ln(h);if(typeof S!="function")throw Error(E(150));if(h=S.call(h),h==null)throw Error(E(151));for(var b=S=null,j=m,C=m=0,U=null,I=h.next();j!==null&&!I.done;C++,I=h.next()){j.index>C?(U=j,j=null):U=j.sibling;var We=p(g,j,I.value,_);if(We===null){j===null&&(j=U);break}e&&j&&We.alternate===null&&t(g,j),m=i(We,m,C),b===null?S=We:b.sibling=We,b=We,j=U}if(I.done)return r(g,j),q&&Jt(g,C),S;if(j===null){for(;!I.done;C++,I=h.next())I=f(g,I.value,_),I!==null&&(m=i(I,m,C),b===null?S=I:b.sibling=I,b=I);return q&&Jt(g,C),S}for(j=n(g,j);!I.done;C++,I=h.next())I=w(j,g,C,I.value,_),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?C:I.key),m=i(I,m,C),b===null?S=I:b.sibling=I,b=I);return e&&j.forEach(function(an){return t(g,an)}),q&&Jt(g,C),S}function x(g,m,h,_){if(typeof h=="object"&&h!==null&&h.type===jr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ps:e:{for(var S=h.key,b=m;b!==null;){if(b.key===S){if(S=h.type,S===jr){if(b.tag===7){r(g,b.sibling),m=s(b,h.props.children),m.return=g,g=m;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xt&&Pu(S)===b.type){r(g,b.sibling),m=s(b,h.props),m.ref=fn(g,b,h),m.return=g,g=m;break e}r(g,b);break}else t(g,b);b=b.sibling}h.type===jr?(m=ar(h.props.children,g.mode,_,h.key),m.return=g,g=m):(_=qs(h.type,h.key,h.props,null,g.mode,_),_.ref=fn(g,m,h),_.return=g,g=_)}return a(g);case Er:e:{for(b=h.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){r(g,m.sibling),m=s(m,h.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=va(h,g.mode,_),m.return=g,g=m}return a(g);case xt:return b=h._init,x(g,m,b(h._payload),_)}if(vn(h))return v(g,m,h,_);if(ln(h))return y(g,m,h,_);Es(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,h),m.return=g,g=m):(r(g,m),m=ga(h,g.mode,_),m.return=g,g=m),a(g)):r(g,m)}return x}var Qr=Xd(!0),Yd=Xd(!1),ii=Bt(null),ai=null,Ir=null,al=null;function ol(){al=Ir=ai=null}function ll(e){var t=ii.current;V(ii),e._currentValue=t}function io(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vr(e,t){ai=e,al=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function Fe(e){var t=e._currentValue;if(al!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(ai===null)throw Error(E(308));Ir=e,ai.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var rr=null;function ul(e){rr===null?rr=[e]:rr.push(e)}function Zd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ul(t)):(r.next=s.next,s.next=r),t.interleaved=r,pt(e,n)}function pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _t=!1;function cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function At(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,pt(e,r)}return s=n.interleaved,s===null?(t.next=t,ul(n)):(t.next=s.next,s.next=t),n.interleaved=t,pt(e,r)}function Ms(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jo(e,r)}}function Ou(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function oi(e,t,r,n){var s=e.updateQueue;_t=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,d=c=l=null,o=i;do{var p=o.lane,w=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,y=o;switch(p=t,w=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(w,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(w,f,p):v,p==null)break e;f=J({},f,p);break e;case 2:_t=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else w={eventTime:w,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=w,l=f):d=d.next=w,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);cr|=a,e.lanes=a,e.memoizedState=f}}function Ru(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ls={},it=Bt(ls),Vn=Bt(ls),Wn=Bt(ls);function nr(e){if(e===ls)throw Error(E(174));return e}function dl(e,t){switch(B(Wn,t),B(Vn,e),B(it,ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ma(t,e)}V(it),B(it,t)}function Xr(){V(it),V(Vn),V(Wn)}function th(e){nr(Wn.current);var t=nr(it.current),r=Ma(t,e.type);t!==r&&(B(Vn,e),B(it,r))}function hl(e){Vn.current===e&&(V(it),V(Vn))}var K=Bt(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function fl(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var zs=gt.ReactCurrentDispatcher,da=gt.ReactCurrentBatchConfig,ur=0,G=null,ie=null,le=null,ui=!1,jn=!1,qn=0,jm=0;function me(){throw Error(E(321))}function pl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!et(e[r],t[r]))return!1;return!0}function ml(e,t,r,n,s,i){if(ur=i,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zs.current=e===null||e.memoizedState===null?Pm:Om,e=r(n,s),jn){i=0;do{if(jn=!1,qn=0,25<=i)throw Error(E(301));i+=1,le=ie=null,t.updateQueue=null,zs.current=Rm,e=r(n,s)}while(jn)}if(zs.current=ci,t=ie!==null&&ie.next!==null,ur=0,le=ie=G=null,ui=!1,t)throw Error(E(300));return e}function gl(){var e=qn!==0;return qn=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?G.memoizedState=le=e:le=le.next=e,le}function Ve(){if(ie===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=le===null?G.memoizedState:le.next;if(t!==null)le=t,ie=e;else{if(e===null)throw Error(E(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},le===null?G.memoizedState=le=e:le=le.next=e}return le}function Hn(e,t){return typeof t=="function"?t(e):t}function ha(e){var t=Ve(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=ie,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((ur&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,G.lanes|=d,cr|=d}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,et(n,t.memoizedState)||(Ee=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,G.lanes|=i,cr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fa(e){var t=Ve(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);et(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function rh(){}function nh(e,t){var r=G,n=Ve(),s=t(),i=!et(n.memoizedState,s);if(i&&(n.memoizedState=s,Ee=!0),n=n.queue,vl(ah.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,Kn(9,ih.bind(null,r,n,s,t),void 0,null),ue===null)throw Error(E(349));ur&30||sh(r,t,s)}return s}function sh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ih(e,t,r,n){t.value=r,t.getSnapshot=n,oh(t)&&lh(e)}function ah(e,t,r){return r(function(){oh(t)&&lh(e)})}function oh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!et(e,r)}catch{return!0}}function lh(e){var t=pt(e,1);t!==null&&Ze(t,e,1,-1)}function Au(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:e},t.queue=e,e=e.dispatch=Tm.bind(null,G,e),[t.memoizedState,e]}function Kn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uh(){return Ve().memoizedState}function Bs(e,t,r,n){var s=rt();G.flags|=e,s.memoizedState=Kn(1|t,r,void 0,n===void 0?null:n)}function Ci(e,t,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(ie!==null){var a=ie.memoizedState;if(i=a.destroy,n!==null&&pl(n,a.deps)){s.memoizedState=Kn(t,r,i,n);return}}G.flags|=e,s.memoizedState=Kn(1|t,r,i,n)}function Iu(e,t){return Bs(8390656,8,e,t)}function vl(e,t){return Ci(2048,8,e,t)}function ch(e,t){return Ci(4,2,e,t)}function dh(e,t){return Ci(4,4,e,t)}function hh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fh(e,t,r){return r=r!=null?r.concat([e]):null,Ci(4,4,hh.bind(null,t,e),r)}function yl(){}function ph(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mh(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gh(e,t,r){return ur&21?(et(r,t)||(r=_d(),G.lanes|=r,cr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=r)}function Nm(e,t){var r=M;M=r!==0&&4>r?r:4,e(!0);var n=da.transition;da.transition={};try{e(!1),t()}finally{M=r,da.transition=n}}function vh(){return Ve().memoizedState}function Cm(e,t,r){var n=$t(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yh(e))wh(t,r);else if(r=Zd(e,t,r,n),r!==null){var s=xe();Ze(r,e,n,s),xh(r,t,n)}}function Tm(e,t,r){var n=$t(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yh(e))wh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,et(o,a)){var l=t.interleaved;l===null?(s.next=s,ul(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Zd(e,t,s,n),r!==null&&(s=xe(),Ze(r,e,n,s),xh(r,t,n))}}function yh(e){var t=e.alternate;return e===G||t!==null&&t===G}function wh(e,t){jn=ui=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jo(e,r)}}var ci={readContext:Fe,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},Pm={readContext:Fe,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Iu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bs(4194308,4,hh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var r=rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Cm.bind(null,G,e),[n.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:Au,useDebugValue:yl,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=Au(!1),t=e[0];return e=Nm.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=G,s=rt();if(q){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),ue===null)throw Error(E(349));ur&30||sh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Iu(ah.bind(null,n,i,e),[e]),n.flags|=2048,Kn(9,ih.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rt(),t=ue.identifierPrefix;if(q){var r=ct,n=ut;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Om={readContext:Fe,useCallback:ph,useContext:Fe,useEffect:vl,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:mh,useReducer:ha,useRef:uh,useState:function(){return ha(Hn)},useDebugValue:yl,useDeferredValue:function(e){var t=Ve();return gh(t,ie.memoizedState,e)},useTransition:function(){var e=ha(Hn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:nh,useId:vh,unstable_isNewReconciler:!1},Rm={readContext:Fe,useCallback:ph,useContext:Fe,useEffect:vl,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:mh,useReducer:fa,useRef:uh,useState:function(){return fa(Hn)},useDebugValue:yl,useDeferredValue:function(e){var t=Ve();return ie===null?t.memoizedState=e:gh(t,ie.memoizedState,e)},useTransition:function(){var e=fa(Hn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:nh,useId:vh,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ao(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:J({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ti={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xe(),s=$t(e),i=dt(n,s);i.payload=t,r!=null&&(i.callback=r),t=At(e,i,s),t!==null&&(Ze(t,e,s,n),Ms(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xe(),s=$t(e),i=dt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=At(e,i,s),t!==null&&(Ze(t,e,s,n),Ms(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xe(),n=$t(e),s=dt(r,n);s.tag=2,t!=null&&(s.callback=t),t=At(e,s,n),t!==null&&(Ze(t,e,n,r),Ms(t,e,n))}};function $u(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Mn(r,n)||!Mn(s,i):!0}function _h(e,t,r){var n=!1,s=Mt,i=t.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(s=Ne(t)?or:ye.current,n=t.contextTypes,i=(n=n!=null)?Gr(e,s):Mt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ti,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ti.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Fe(i):(i=Ne(t)?or:ye.current,s.context=Gr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ao(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ti.enqueueReplaceState(s,s.state,null),oi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var r="",n=t;do r+=ap(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Am=typeof WeakMap=="function"?WeakMap:Map;function kh(e,t,r){r=dt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hi||(hi=!0,wo=n),lo(e,t)},r}function Sh(e,t,r){r=dt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lo(e,t),typeof n!="function"&&(It===null?It=new Set([this]):It.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Uu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Am;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Km.bind(null,e,t,r),t.then(e,e))}function Du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dt(-1,1),t.tag=2,At(r,t,1))),r.lanes|=1),e)}var Im=gt.ReactCurrentOwner,Ee=!1;function we(e,t,r,n){t.child=e===null?Yd(t,null,r,n):Qr(t,e.child,r,n)}function zu(e,t,r,n,s){r=r.render;var i=t.ref;return Vr(t,s),n=ml(e,t,r,n,i,s),r=gl(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mt(e,t,s)):(q&&r&&nl(t),t.flags|=1,we(e,t,n,s),t.child)}function Bu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!jl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,bh(e,t,i,n,s)):(e=qs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Mn,r(a,n)&&e.ref===t.ref)return mt(e,t,s)}return t.flags|=1,e=Lt(i,n),e.ref=t.ref,e.return=t,t.child=e}function bh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Mn(i,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,mt(e,t,s)}return uo(e,t,r,n,s)}function Eh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(Lr,Pe),Pe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,B(Lr,Pe),Pe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,B(Lr,Pe),Pe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,B(Lr,Pe),Pe|=n;return we(e,t,s,r),t.child}function jh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uo(e,t,r,n,s){var i=Ne(r)?or:ye.current;return i=Gr(t,i),Vr(t,s),r=ml(e,t,r,n,i,s),n=gl(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mt(e,t,s)):(q&&n&&nl(t),t.flags|=1,we(e,t,r,s),t.child)}function Fu(e,t,r,n,s){if(Ne(r)){var i=!0;ri(t)}else i=!1;if(Vr(t,s),t.stateNode===null)Fs(e,t),_h(t,r,n),oo(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Fe(c):(c=Ne(r)?or:ye.current,c=Gr(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Lu(t,a,n,c),_t=!1;var p=t.memoizedState;a.state=p,oi(t,n,a,s),l=t.memoizedState,o!==n||p!==l||je.current||_t?(typeof d=="function"&&(ao(t,r,d,n),l=t.memoizedState),(o=_t||$u(t,r,o,n,p,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,eh(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ke(t.type,o),a.props=c,f=t.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fe(l):(l=Ne(r)?or:ye.current,l=Gr(t,l));var w=r.getDerivedStateFromProps;(d=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&Lu(t,a,n,l),_t=!1,p=t.memoizedState,a.state=p,oi(t,n,a,s);var v=t.memoizedState;o!==f||p!==v||je.current||_t?(typeof w=="function"&&(ao(t,r,w,n),v=t.memoizedState),(c=_t||$u(t,r,c,n,p,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return co(e,t,r,n,i,s)}function co(e,t,r,n,s,i){jh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Nu(t,r,!1),mt(e,t,i);n=t.stateNode,Im.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Qr(t,e.child,null,i),t.child=Qr(t,null,o,i)):we(e,t,o,i),t.memoizedState=n.state,s&&Nu(t,r,!0),t.child}function Nh(e){var t=e.stateNode;t.pendingContext?ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ju(e,t.context,!1),dl(e,t.containerInfo)}function Vu(e,t,r,n,s){return Jr(),il(s),t.flags|=256,we(e,t,r,n),t.child}var ho={dehydrated:null,treeContext:null,retryLane:0};function fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ch(e,t,r){var n=t.pendingProps,s=K.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),B(K,s&1),e===null)return so(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ri(a,n,0,null),e=ar(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fo(r),t.memoizedState=ho,e):wl(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return $m(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Lt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Lt(o,i):(i=ar(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?fo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=ho,n}return i=e.child,e=i.sibling,n=Lt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wl(e,t){return t=Ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function js(e,t,r,n){return n!==null&&il(n),Qr(t,e.child,null,r),e=wl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $m(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=pa(Error(E(422))),js(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ri({mode:"visible",children:n.children},s,0,null),i=ar(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qr(t,e.child,null,a),t.child.memoizedState=fo(a),t.memoizedState=ho,i);if(!(t.mode&1))return js(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(E(419)),n=pa(i,n,void 0),js(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ee||o){if(n=ue,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pt(e,s),Ze(n,e,s,-1))}return El(),n=pa(Error(E(421))),js(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Gm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ae=Rt(s.nextSibling),Ie=t,q=!0,Xe=null,e!==null&&(De[Me++]=ut,De[Me++]=ct,De[Me++]=lr,ut=e.id,ct=e.overflow,lr=t),t=wl(t,n.children),t.flags|=4096,t)}function Wu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),io(e.return,t,r)}function ma(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Th(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(we(e,t,n.children,r),n=K.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wu(e,r,t);else if(e.tag===19)Wu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(B(K,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&li(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ma(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&li(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ma(t,!0,r,null,i);break;case"together":ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Lt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Lm(e,t,r){switch(t.tag){case 3:Nh(t),Jr();break;case 5:th(t);break;case 1:Ne(t.type)&&ri(t);break;case 4:dl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;B(ii,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(B(K,K.current&1),t.flags|=128,null):r&t.child.childLanes?Ch(e,t,r):(B(K,K.current&1),e=mt(e,t,r),e!==null?e.sibling:null);B(K,K.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Th(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(K,K.current),n)break;return null;case 22:case 23:return t.lanes=0,Eh(e,t,r)}return mt(e,t,r)}var Ph,po,Oh,Rh;Ph=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};po=function(){};Oh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,nr(it.current);var i=null;switch(r){case"input":s=$a(e,s),n=$a(e,n),i=[];break;case"select":s=J({},s,{value:void 0}),n=J({},n,{value:void 0}),i=[];break;case"textarea":s=Da(e,s),n=Da(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ei)}za(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&F("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Rh=function(e,t,r,n){r!==n&&(t.flags|=4)};function pn(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Um(e,t,r){var n=t.pendingProps;switch(sl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Ne(t.type)&&ti(),ge(t),null;case 3:return n=t.stateNode,Xr(),V(je),V(ye),fl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(ko(Xe),Xe=null))),po(e,t),ge(t),null;case 5:hl(t);var s=nr(Wn.current);if(r=t.type,e!==null&&t.stateNode!=null)Oh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ge(t),null}if(e=nr(it.current),bs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[nt]=t,n[Fn]=i,e=(t.mode&1)!==0,r){case"dialog":F("cancel",n),F("close",n);break;case"iframe":case"object":case"embed":F("load",n);break;case"video":case"audio":for(s=0;s<wn.length;s++)F(wn[s],n);break;case"source":F("error",n);break;case"img":case"image":case"link":F("error",n),F("load",n);break;case"details":F("toggle",n);break;case"input":Zl(n,i),F("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},F("invalid",n);break;case"textarea":tu(n,i),F("invalid",n)}za(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ss(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ss(n.textContent,o,e),s=["children",""+o]):Rn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&F("scroll",n)}switch(r){case"input":ms(n),eu(n,i,!0);break;case"textarea":ms(n),ru(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ei)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ad(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[nt]=t,e[Fn]=n,Ph(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ba(r,n),r){case"dialog":F("cancel",e),F("close",e),s=n;break;case"iframe":case"object":case"embed":F("load",e),s=n;break;case"video":case"audio":for(s=0;s<wn.length;s++)F(wn[s],e);s=n;break;case"source":F("error",e),s=n;break;case"img":case"image":case"link":F("error",e),F("load",e),s=n;break;case"details":F("toggle",e),s=n;break;case"input":Zl(e,n),s=$a(e,n),F("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=J({},n,{value:void 0}),F("invalid",e);break;case"textarea":tu(e,n),s=Da(e,n),F("invalid",e);break;default:s=n}za(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?ud(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&od(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&An(e,l):typeof l=="number"&&An(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&F("scroll",e):l!=null&&Vo(e,i,l,a))}switch(r){case"input":ms(e),eu(e,n,!1);break;case"textarea":ms(e),ru(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Mr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Mr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ei)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Rh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=nr(Wn.current),nr(it.current),bs(t)){if(n=t.stateNode,r=t.memoizedProps,n[nt]=t,(i=n.nodeValue!==r)&&(e=Ie,e!==null))switch(e.tag){case 3:Ss(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=t,t.stateNode=n}return ge(t),null;case 13:if(V(K),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Ae!==null&&t.mode&1&&!(t.flags&128))Qd(),Jr(),t.flags|=98560,i=!1;else if(i=bs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[nt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Xe!==null&&(ko(Xe),Xe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?ae===0&&(ae=3):El())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Xr(),po(e,t),e===null&&zn(t.stateNode.containerInfo),ge(t),null;case 10:return ll(t.type._context),ge(t),null;case 17:return Ne(t.type)&&ti(),ge(t),null;case 19:if(V(K),i=t.memoizedState,i===null)return ge(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)pn(i,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=li(e),a!==null){for(t.flags|=128,pn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return B(K,K.current&1|2),t.child}e=e.sibling}i.tail!==null&&ee()>Zr&&(t.flags|=128,n=!0,pn(i,!1),t.lanes=4194304)}else{if(!n)if(e=li(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!q)return ge(t),null}else 2*ee()-i.renderingStartTime>Zr&&r!==1073741824&&(t.flags|=128,n=!0,pn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ee(),t.sibling=null,r=K.current,B(K,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return bl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Pe&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Dm(e,t){switch(sl(t),t.tag){case 1:return Ne(t.type)&&ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),V(je),V(ye),fl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hl(t),null;case 13:if(V(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(K),null;case 4:return Xr(),null;case 10:return ll(t.type._context),null;case 22:case 23:return bl(),null;case 24:return null;default:return null}}var Ns=!1,ve=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,N=null;function $r(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Y(e,t,n)}else r.current=null}function mo(e,t,r){try{r()}catch(n){Y(e,t,n)}}var qu=!1;function zm(e,t){if(Xa=Xs,e=Ud(),rl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var w;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(w=f.firstChild)!==null;)p=f,f=w;for(;;){if(f===e)break t;if(p===r&&++c===s&&(o=a),p===i&&++d===n&&(l=a),(w=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=w}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ya={focusedElem:e,selectionRange:r},Xs=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ke(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){Y(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return v=qu,qu=!1,v}function Nn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mo(t,r,i)}s=s.next}while(s!==n)}}function Pi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function go(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ah(e){var t=e.alternate;t!==null&&(e.alternate=null,Ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[Fn],delete t[to],delete t[km],delete t[Sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ih(e){return e.tag===5||e.tag===3||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ei));else if(n!==4&&(e=e.child,e!==null))for(vo(e,t,r),e=e.sibling;e!==null;)vo(e,t,r),e=e.sibling}function yo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yo(e,t,r),e=e.sibling;e!==null;)yo(e,t,r),e=e.sibling}var he=null,Je=!1;function yt(e,t,r){for(r=r.child;r!==null;)$h(e,t,r),r=r.sibling}function $h(e,t,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(ki,r)}catch{}switch(r.tag){case 5:ve||$r(r,t);case 6:var n=he,s=Je;he=null,yt(e,t,r),he=n,Je=s,he!==null&&(Je?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Je?(e=he,r=r.stateNode,e.nodeType===8?la(e.parentNode,r):e.nodeType===1&&la(e,r),Un(e)):la(he,r.stateNode));break;case 4:n=he,s=Je,he=r.stateNode.containerInfo,Je=!0,yt(e,t,r),he=n,Je=s;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mo(r,t,a),s=s.next}while(s!==n)}yt(e,t,r);break;case 1:if(!ve&&($r(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Y(r,t,o)}yt(e,t,r);break;case 21:yt(e,t,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,yt(e,t,r),ve=n):yt(e,t,r);break;default:yt(e,t,r)}}function Ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Mm),t.forEach(function(n){var s=Jm.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function qe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:he=o.stateNode,Je=!1;break e;case 3:he=o.stateNode.containerInfo,Je=!0;break e;case 4:he=o.stateNode.containerInfo,Je=!0;break e}o=o.return}if(he===null)throw Error(E(160));$h(i,a,s),he=null,Je=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Y(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}function Lh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),tt(e),n&4){try{Nn(3,e,e.return),Pi(3,e)}catch(y){Y(e,e.return,y)}try{Nn(5,e,e.return)}catch(y){Y(e,e.return,y)}}break;case 1:qe(t,e),tt(e),n&512&&r!==null&&$r(r,r.return);break;case 5:if(qe(t,e),tt(e),n&512&&r!==null&&$r(r,r.return),e.flags&32){var s=e.stateNode;try{An(s,"")}catch(y){Y(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&sd(s,i),Ba(o,a);var c=Ba(o,i);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?ud(s,f):d==="dangerouslySetInnerHTML"?od(s,f):d==="children"?An(s,f):Vo(s,d,f,c)}switch(o){case"input":La(s,i);break;case"textarea":id(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Mr(s,!!i.multiple,w,!1):p!==!!i.multiple&&(i.defaultValue!=null?Mr(s,!!i.multiple,i.defaultValue,!0):Mr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fn]=i}catch(y){Y(e,e.return,y)}}break;case 6:if(qe(t,e),tt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Y(e,e.return,y)}}break;case 3:if(qe(t,e),tt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Un(t.containerInfo)}catch(y){Y(e,e.return,y)}break;case 4:qe(t,e),tt(e);break;case 13:qe(t,e),tt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(kl=ee())),n&4&&Ku(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ve=(c=ve)||d,qe(t,e),ve=c):qe(t,e),tt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(N=e,d=e.child;d!==null;){for(f=N=d;N!==null;){switch(p=N,w=p.child,p.tag){case 0:case 11:case 14:case 15:Nn(4,p,p.return);break;case 1:$r(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Y(n,r,y)}}break;case 5:$r(p,p.return);break;case 22:if(p.memoizedState!==null){Ju(f);continue}}w!==null?(w.return=p,N=w):Ju(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ld("display",a))}catch(y){Y(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Y(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qe(t,e),tt(e),n&4&&Ku(e);break;case 21:break;default:qe(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ih(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(An(s,""),n.flags&=-33);var i=Hu(e);yo(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Hu(e);vo(e,o,a);break;default:throw Error(E(161))}}catch(l){Y(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bm(e,t,r){N=e,Uh(e)}function Uh(e,t,r){for(var n=(e.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ns;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||ve;o=Ns;var c=ve;if(Ns=a,(ve=l)&&!c)for(N=s;N!==null;)a=N,l=a.child,a.tag===22&&a.memoizedState!==null?Qu(s):l!==null?(l.return=a,N=l):Qu(s);for(;i!==null;)N=i,Uh(i),i=i.sibling;N=s,Ns=o,ve=c}Gu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):Gu(e)}}function Gu(e){for(;N!==null;){var t=N;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Pi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ve)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ke(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ru(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ru(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Un(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ve||t.flags&512&&go(t)}catch(p){Y(t,t.return,p)}}if(t===e){N=null;break}if(r=t.sibling,r!==null){r.return=t.return,N=r;break}N=t.return}}function Ju(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var r=t.sibling;if(r!==null){r.return=t.return,N=r;break}N=t.return}}function Qu(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Pi(4,t)}catch(l){Y(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Y(t,s,l)}}var i=t.return;try{go(t)}catch(l){Y(t,i,l)}break;case 5:var a=t.return;try{go(t)}catch(l){Y(t,a,l)}}}catch(l){Y(t,t.return,l)}if(t===e){N=null;break}var o=t.sibling;if(o!==null){o.return=t.return,N=o;break}N=t.return}}var Fm=Math.ceil,di=gt.ReactCurrentDispatcher,xl=gt.ReactCurrentOwner,Be=gt.ReactCurrentBatchConfig,D=0,ue=null,ne=null,fe=0,Pe=0,Lr=Bt(0),ae=0,Gn=null,cr=0,Oi=0,_l=0,Cn=null,be=null,kl=0,Zr=1/0,at=null,hi=!1,wo=null,It=null,Cs=!1,Nt=null,fi=0,Tn=0,xo=null,Vs=-1,Ws=0;function xe(){return D&6?ee():Vs!==-1?Vs:Vs=ee()}function $t(e){return e.mode&1?D&2&&fe!==0?fe&-fe:Em.transition!==null?(Ws===0&&(Ws=_d()),Ws):(e=M,e!==0||(e=window.event,e=e===void 0?16:Cd(e.type)),e):1}function Ze(e,t,r,n){if(50<Tn)throw Tn=0,xo=null,Error(E(185));is(e,r,n),(!(D&2)||e!==ue)&&(e===ue&&(!(D&2)&&(Oi|=r),ae===4&&bt(e,fe)),Ce(e,n),r===1&&D===0&&!(t.mode&1)&&(Zr=ee()+500,Ni&&Ft()))}function Ce(e,t){var r=e.callbackNode;Ep(e,t);var n=Qs(e,e===ue?fe:0);if(n===0)r!==null&&iu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&iu(r),t===1)e.tag===0?bm(Xu.bind(null,e)):Kd(Xu.bind(null,e)),xm(function(){!(D&6)&&Ft()}),r=null;else{switch(kd(n)){case 1:r=Go;break;case 4:r=wd;break;case 16:r=Js;break;case 536870912:r=xd;break;default:r=Js}r=qh(r,Dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Dh(e,t){if(Vs=-1,Ws=0,D&6)throw Error(E(327));var r=e.callbackNode;if(Wr()&&e.callbackNode!==r)return null;var n=Qs(e,e===ue?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pi(e,n);else{t=n;var s=D;D|=2;var i=zh();(ue!==e||fe!==t)&&(at=null,Zr=ee()+500,ir(e,t));do try{qm();break}catch(o){Mh(e,o)}while(!0);ol(),di.current=i,D=s,ne!==null?t=0:(ue=null,fe=0,t=ae)}if(t!==0){if(t===2&&(s=Ha(e),s!==0&&(n=s,t=_o(e,s))),t===1)throw r=Gn,ir(e,0),bt(e,n),Ce(e,ee()),r;if(t===6)bt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Vm(s)&&(t=pi(e,n),t===2&&(i=Ha(e),i!==0&&(n=i,t=_o(e,i))),t===1))throw r=Gn,ir(e,0),bt(e,n),Ce(e,ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:Qt(e,be,at);break;case 3:if(bt(e,n),(n&130023424)===n&&(t=kl+500-ee(),10<t)){if(Qs(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eo(Qt.bind(null,e,be,at),t);break}Qt(e,be,at);break;case 4:if(bt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ye(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fm(n/1960))-n,10<n){e.timeoutHandle=eo(Qt.bind(null,e,be,at),n);break}Qt(e,be,at);break;case 5:Qt(e,be,at);break;default:throw Error(E(329))}}}return Ce(e,ee()),e.callbackNode===r?Dh.bind(null,e):null}function _o(e,t){var r=Cn;return e.current.memoizedState.isDehydrated&&(ir(e,t).flags|=256),e=pi(e,t),e!==2&&(t=be,be=r,t!==null&&ko(t)),e}function ko(e){be===null?be=e:be.push.apply(be,e)}function Vm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bt(e,t){for(t&=~_l,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ye(t),n=1<<r;e[r]=-1,t&=~n}}function Xu(e){if(D&6)throw Error(E(327));Wr();var t=Qs(e,0);if(!(t&1))return Ce(e,ee()),null;var r=pi(e,t);if(e.tag!==0&&r===2){var n=Ha(e);n!==0&&(t=n,r=_o(e,n))}if(r===1)throw r=Gn,ir(e,0),bt(e,t),Ce(e,ee()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,be,at),Ce(e,ee()),null}function Sl(e,t){var r=D;D|=1;try{return e(t)}finally{D=r,D===0&&(Zr=ee()+500,Ni&&Ft())}}function dr(e){Nt!==null&&Nt.tag===0&&!(D&6)&&Wr();var t=D;D|=1;var r=Be.transition,n=M;try{if(Be.transition=null,M=1,e)return e()}finally{M=n,Be.transition=r,D=t,!(D&6)&&Ft()}}function bl(){Pe=Lr.current,V(Lr)}function ir(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wm(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(sl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ti();break;case 3:Xr(),V(je),V(ye),fl();break;case 5:hl(n);break;case 4:Xr();break;case 13:V(K);break;case 19:V(K);break;case 10:ll(n.type._context);break;case 22:case 23:bl()}r=r.return}if(ue=e,ne=e=Lt(e.current,null),fe=Pe=t,ae=0,Gn=null,_l=Oi=cr=0,be=Cn=null,rr!==null){for(t=0;t<rr.length;t++)if(r=rr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}rr=null}return e}function Mh(e,t){do{var r=ne;try{if(ol(),zs.current=ci,ui){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ui=!1}if(ur=0,le=ie=G=null,jn=!1,qn=0,xl.current=null,r===null||r.return===null){ae=1,Gn=t,ne=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=fe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Du(a);if(w!==null){w.flags&=-257,Mu(w,a,o,i,t),w.mode&1&&Uu(i,c,t),t=w,l=c;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){Uu(i,c,t),El();break e}l=Error(E(426))}}else if(q&&o.mode&1){var x=Du(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Mu(x,a,o,i,t),il(Yr(l,o));break e}}i=l=Yr(l,o),ae!==4&&(ae=2),Cn===null?Cn=[i]:Cn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=kh(i,l,t);Ou(i,g);break e;case 1:o=l;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(It===null||!It.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Sh(i,o,t);Ou(i,_);break e}}i=i.return}while(i!==null)}Fh(r)}catch(S){t=S,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function zh(){var e=di.current;return di.current=ci,e===null?ci:e}function El(){(ae===0||ae===3||ae===2)&&(ae=4),ue===null||!(cr&268435455)&&!(Oi&268435455)||bt(ue,fe)}function pi(e,t){var r=D;D|=2;var n=zh();(ue!==e||fe!==t)&&(at=null,ir(e,t));do try{Wm();break}catch(s){Mh(e,s)}while(!0);if(ol(),D=r,di.current=n,ne!==null)throw Error(E(261));return ue=null,fe=0,ae}function Wm(){for(;ne!==null;)Bh(ne)}function qm(){for(;ne!==null&&!gp();)Bh(ne)}function Bh(e){var t=Wh(e.alternate,e,Pe);e.memoizedProps=e.pendingProps,t===null?Fh(e):ne=t,xl.current=null}function Fh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Dm(r,t),r!==null){r.flags&=32767,ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,ne=null;return}}else if(r=Um(r,t,Pe),r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ae===0&&(ae=5)}function Qt(e,t,r){var n=M,s=Be.transition;try{Be.transition=null,M=1,Hm(e,t,r,n)}finally{Be.transition=s,M=n}return null}function Hm(e,t,r,n){do Wr();while(Nt!==null);if(D&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jp(e,i),e===ue&&(ne=ue=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cs||(Cs=!0,qh(Js,function(){return Wr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var a=M;M=1;var o=D;D|=4,xl.current=null,zm(e,r),Lh(r,e),hm(Ya),Xs=!!Xa,Ya=Xa=null,e.current=r,Bm(r),vp(),D=o,M=a,Be.transition=i}else e.current=r;if(Cs&&(Cs=!1,Nt=e,fi=s),i=e.pendingLanes,i===0&&(It=null),xp(r.stateNode),Ce(e,ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(hi)throw hi=!1,e=wo,wo=null,e;return fi&1&&e.tag!==0&&Wr(),i=e.pendingLanes,i&1?e===xo?Tn++:(Tn=0,xo=e):Tn=0,Ft(),null}function Wr(){if(Nt!==null){var e=kd(fi),t=Be.transition,r=M;try{if(Be.transition=null,M=16>e?16:e,Nt===null)var n=!1;else{if(e=Nt,Nt=null,fi=0,D&6)throw Error(E(331));var s=D;for(D|=4,N=e.current;N!==null;){var i=N,a=i.child;if(N.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(N=c;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:Nn(8,d,i)}var f=d.child;if(f!==null)f.return=d,N=f;else for(;N!==null;){d=N;var p=d.sibling,w=d.return;if(Ah(d),d===c){N=null;break}if(p!==null){p.return=w,N=p;break}N=w}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}N=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,N=a;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,N=g;break e}N=i.return}}var m=e.current;for(N=m;N!==null;){a=N;var h=a.child;if(a.subtreeFlags&2064&&h!==null)h.return=a,N=h;else e:for(a=m;N!==null;){if(o=N,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pi(9,o)}}catch(S){Y(o,o.return,S)}if(o===a){N=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,N=_;break e}N=o.return}}if(D=s,Ft(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(ki,e)}catch{}n=!0}return n}finally{M=r,Be.transition=t}}return!1}function Yu(e,t,r){t=Yr(r,t),t=kh(e,t,1),e=At(e,t,1),t=xe(),e!==null&&(is(e,1,t),Ce(e,t))}function Y(e,t,r){if(e.tag===3)Yu(e,e,r);else for(;t!==null;){if(t.tag===3){Yu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(It===null||!It.has(n))){e=Yr(r,e),e=Sh(t,e,1),t=At(t,e,1),e=xe(),t!==null&&(is(t,1,e),Ce(t,e));break}}t=t.return}}function Km(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&r,ue===e&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>ee()-kl?ir(e,0):_l|=r),Ce(e,t)}function Vh(e,t){t===0&&(e.mode&1?(t=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):t=1);var r=xe();e=pt(e,t),e!==null&&(is(e,t,r),Ce(e,r))}function Gm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vh(e,r)}function Jm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Vh(e,r)}var Wh;Wh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Ee=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ee=!1,Lm(e,t,r);Ee=!!(e.flags&131072)}else Ee=!1,q&&t.flags&1048576&&Gd(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fs(e,t),e=t.pendingProps;var s=Gr(t,ye.current);Vr(t,r),s=ml(null,t,n,e,s,r);var i=gl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ne(n)?(i=!0,ri(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cl(t),s.updater=Ti,t.stateNode=s,s._reactInternals=t,oo(t,n,e,r),t=co(null,t,n,!0,i,r)):(t.tag=0,q&&i&&nl(t),we(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Xm(n),e=Ke(n,e),s){case 0:t=uo(null,t,n,e,r);break e;case 1:t=Fu(null,t,n,e,r);break e;case 11:t=zu(null,t,n,e,r);break e;case 14:t=Bu(null,t,n,Ke(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),uo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Fu(e,t,n,s,r);case 3:e:{if(Nh(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,eh(e,t),oi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Yr(Error(E(423)),t),t=Vu(e,t,n,r,s);break e}else if(n!==s){s=Yr(Error(E(424)),t),t=Vu(e,t,n,r,s);break e}else for(Ae=Rt(t.stateNode.containerInfo.firstChild),Ie=t,q=!0,Xe=null,r=Yd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),n===s){t=mt(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return th(t),e===null&&so(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Za(n,s)?a=null:i!==null&&Za(n,i)&&(t.flags|=32),jh(e,t),we(e,t,a,r),t.child;case 6:return e===null&&so(t),null;case 13:return Ch(e,t,r);case 4:return dl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qr(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),zu(e,t,n,s,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,B(ii,n._currentValue),n._currentValue=a,i!==null)if(et(i.value,a)){if(i.children===s.children&&!je.current){t=mt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=dt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),io(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(E(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),io(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}we(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vr(t,r),s=Fe(s),n=n(s),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,s=Ke(n,t.pendingProps),s=Ke(n.type,s),Bu(e,t,n,s,r);case 15:return bh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Fs(e,t),t.tag=1,Ne(n)?(e=!0,ri(t)):e=!1,Vr(t,r),_h(t,n,s),oo(t,n,s,r),co(null,t,n,!0,e,r);case 19:return Th(e,t,r);case 22:return Eh(e,t,r)}throw Error(E(156,t.tag))};function qh(e,t){return yd(e,t)}function Qm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,r,n){return new Qm(e,t,r,n)}function jl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xm(e){if(typeof e=="function")return jl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qo)return 11;if(e===Ho)return 14}return 2}function Lt(e,t){var r=e.alternate;return r===null?(r=ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qs(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")jl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case jr:return ar(r.children,s,i,t);case Wo:a=8,s|=8;break;case Oa:return e=ze(12,r,t,s|2),e.elementType=Oa,e.lanes=i,e;case Ra:return e=ze(13,r,t,s),e.elementType=Ra,e.lanes=i,e;case Aa:return e=ze(19,r,t,s),e.elementType=Aa,e.lanes=i,e;case td:return Ri(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zc:a=10;break e;case ed:a=9;break e;case qo:a=11;break e;case Ho:a=14;break e;case xt:a=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=ze(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ar(e,t,r,n){return e=ze(7,e,n,t),e.lanes=r,e}function Ri(e,t,r,n){return e=ze(22,e,n,t),e.elementType=td,e.lanes=r,e.stateNode={isHidden:!1},e}function ga(e,t,r){return e=ze(6,e,null,t),e.lanes=r,e}function va(e,t,r){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ym(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nl(e,t,r,n,s,i,a,o,l){return e=new Ym(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cl(i),e}function Zm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Hh(e){if(!e)return Mt;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ne(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ne(r))return Hd(e,r,t)}return t}function Kh(e,t,r,n,s,i,a,o,l){return e=Nl(r,n,!0,e,s,i,a,o,l),e.context=Hh(null),r=e.current,n=xe(),s=$t(r),i=dt(n,s),i.callback=t??null,At(r,i,s),e.current.lanes=s,is(e,s,n),Ce(e,n),e}function Ai(e,t,r,n){var s=t.current,i=xe(),a=$t(s);return r=Hh(r),t.context===null?t.context=r:t.pendingContext=r,t=dt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=At(s,t,a),e!==null&&(Ze(e,s,a,i),Ms(e,s,a)),a}function mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cl(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function eg(){return null}var Gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tl(e){this._internalRoot=e}Ii.prototype.render=Tl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Ai(e,t,null,null)};Ii.prototype.unmount=Tl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Ai(null,e,null,null)}),t[ft]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ed();e={blockedOn:null,target:e,priority:t};for(var r=0;r<St.length&&t!==0&&t<St[r].priority;r++);St.splice(r,0,e),r===0&&Nd(e)}};function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ec(){}function tg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=mi(a);i.call(c)}}var a=Kh(t,n,e,0,null,!1,!1,"",ec);return e._reactRootContainer=a,e[ft]=a.current,zn(e.nodeType===8?e.parentNode:e),dr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=mi(l);o.call(c)}}var l=Nl(e,0,!1,null,null,!1,!1,"",ec);return e._reactRootContainer=l,e[ft]=l.current,zn(e.nodeType===8?e.parentNode:e),dr(function(){Ai(t,l,r,n)}),l}function Li(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=mi(a);o.call(l)}}Ai(t,a,e,s)}else a=tg(r,t,e,s,n);return mi(a)}Sd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yn(t.pendingLanes);r!==0&&(Jo(t,r|1),Ce(t,ee()),!(D&6)&&(Zr=ee()+500,Ft()))}break;case 13:dr(function(){var n=pt(e,1);if(n!==null){var s=xe();Ze(n,e,1,s)}}),Cl(e,1)}};Qo=function(e){if(e.tag===13){var t=pt(e,134217728);if(t!==null){var r=xe();Ze(t,e,134217728,r)}Cl(e,134217728)}};bd=function(e){if(e.tag===13){var t=$t(e),r=pt(e,t);if(r!==null){var n=xe();Ze(r,e,t,n)}Cl(e,t)}};Ed=function(){return M};jd=function(e,t){var r=M;try{return M=e,t()}finally{M=r}};Va=function(e,t,r){switch(t){case"input":if(La(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ji(n);if(!s)throw Error(E(90));nd(n),La(n,s)}}}break;case"textarea":id(e,r);break;case"select":t=r.value,t!=null&&Mr(e,!!r.multiple,t,!1)}};hd=Sl;fd=dr;var rg={usingClientEntryPoint:!1,Events:[os,Pr,ji,cd,dd,Sl]},mn={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ng={bundleType:mn.bundleType,version:mn.version,rendererPackageName:mn.rendererPackageName,rendererConfig:mn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gd(e),e===null?null:e.stateNode},findFiberByHostInstance:mn.findFiberByHostInstance||eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{ki=Ts.inject(ng),st=Ts}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rg;Le.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pl(t))throw Error(E(200));return Zm(e,t,null,r)};Le.createRoot=function(e,t){if(!Pl(e))throw Error(E(299));var r=!1,n="",s=Gh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Nl(e,1,!1,null,null,r,!1,n,s),e[ft]=t.current,zn(e.nodeType===8?e.parentNode:e),new Tl(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=gd(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return dr(e)};Le.hydrate=function(e,t,r){if(!$i(t))throw Error(E(200));return Li(null,e,t,!0,r)};Le.hydrateRoot=function(e,t,r){if(!Pl(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Gh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Kh(t,null,e,1,r??null,s,!1,i,a),e[ft]=t.current,zn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ii(t)};Le.render=function(e,t,r){if(!$i(t))throw Error(E(200));return Li(null,e,t,!1,r)};Le.unmountComponentAtNode=function(e){if(!$i(e))throw Error(E(40));return e._reactRootContainer?(dr(function(){Li(null,null,e,!1,function(){e._reactRootContainer=null,e[ft]=null})}),!0):!1};Le.unstable_batchedUpdates=Sl;Le.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$i(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Li(e,t,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function Jh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jh)}catch(e){console.error(e)}}Jh(),Jc.exports=Le;var sg=Jc.exports,tc=sg;Ta.createRoot=tc.createRoot,Ta.hydrateRoot=tc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jn.apply(this,arguments)}var Ct;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ct||(Ct={}));const rc="popstate";function ig(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return So("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:gi(s)}return og(t,r,null,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ol(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ag(){return Math.random().toString(36).substr(2,8)}function nc(e,t){return{usr:e.state,key:e.key,idx:t}}function So(e,t,r,n){return r===void 0&&(r=null),Jn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nn(t):t,{state:r,key:t&&t.key||n||ag()})}function gi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function og(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Ct.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(Jn({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Ct.Pop;let x=d(),g=x==null?null:x-c;c=x,l&&l({action:o,location:y.location,delta:g})}function p(x,g){o=Ct.Push;let m=So(y.location,x,g);c=d()+1;let h=nc(m,c),_=y.createHref(m);try{a.pushState(h,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:o,location:y.location,delta:1})}function w(x,g){o=Ct.Replace;let m=So(y.location,x,g);c=d();let h=nc(m,c),_=y.createHref(m);a.replaceState(h,"",_),i&&l&&l({action:o,location:y.location,delta:0})}function v(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:gi(x);return m=m.replace(/ $/,"%20"),te(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return o},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(rc,f),l=x,()=>{s.removeEventListener(rc,f),l=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:w,go(x){return a.go(x)}};return y}var sc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sc||(sc={}));function lg(e,t,r){return r===void 0&&(r="/"),ug(e,t,r)}function ug(e,t,r,n){let s=typeof t=="string"?nn(t):t,i=Rl(s.pathname||"/",r);if(i==null)return null;let a=Qh(e);cg(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=kg(i);o=wg(a[l],c)}return o}function Qh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(te(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ut([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Qh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:vg(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Xh(i.path))s(i,a,l)}),t}function Xh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Xh(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function cg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dg=/^:[\w-]+$/,hg=3,fg=2,pg=1,mg=10,gg=-2,ic=e=>e==="*";function vg(e,t){let r=e.split("/"),n=r.length;return r.some(ic)&&(n+=gg),t&&(n+=fg),r.filter(s=>!ic(s)).reduce((s,i)=>s+(dg.test(i)?hg:i===""?pg:mg),n)}function yg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function wg(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=xg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Ut([i,f.pathname]),pathnameBase:Ng(Ut([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ut([i,f.pathnameBase]))}return a}function xg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_g(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:p,isOptional:w}=d;if(p==="*"){let y=o[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[f];return w&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function _g(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ol(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function kg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ol(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bg=e=>Sg.test(e);function Eg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?nn(e):e,i;if(r)if(bg(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Ol(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=ac(r.substring(1),"/"):i=ac(r,t)}else i=t;return{pathname:i,search:Cg(n),hash:Tg(s)}}function ac(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ya(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Al(e,t){let r=jg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Il(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=nn(e):(s=Jn({},e),te(!s.pathname||!s.pathname.includes("?"),ya("?","pathname","search",s)),te(!s.pathname||!s.pathname.includes("#"),ya("#","pathname","hash",s)),te(!s.search||!s.search.includes("#"),ya("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=Eg(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ut=e=>e.join("/").replace(/\/\/+/g,"/"),Ng=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yh=["post","put","patch","delete"];new Set(Yh);const Og=["get",...Yh];new Set(Og);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qn.apply(this,arguments)}const $l=k.createContext(null),Rg=k.createContext(null),Vt=k.createContext(null),Ui=k.createContext(null),Wt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Zh=k.createContext(null);function Ag(e,t){let{relative:r}=t===void 0?{}:t;sn()||te(!1);let{basename:n,navigator:s}=k.useContext(Vt),{hash:i,pathname:a,search:o}=rf(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Ut([n,a])),s.createHref({pathname:l,search:o,hash:i})}function sn(){return k.useContext(Ui)!=null}function pr(){return sn()||te(!1),k.useContext(Ui).location}function ef(e){k.useContext(Vt).static||k.useLayoutEffect(e)}function tf(){let{isDataRoute:e}=k.useContext(Wt);return e?Hg():Ig()}function Ig(){sn()||te(!1);let e=k.useContext($l),{basename:t,future:r,navigator:n}=k.useContext(Vt),{matches:s}=k.useContext(Wt),{pathname:i}=pr(),a=JSON.stringify(Al(s,r.v7_relativeSplatPath)),o=k.useRef(!1);return ef(()=>{o.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=Il(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ut([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}function rf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Vt),{matches:s}=k.useContext(Wt),{pathname:i}=pr(),a=JSON.stringify(Al(s,n.v7_relativeSplatPath));return k.useMemo(()=>Il(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function $g(e,t){return Lg(e,t)}function Lg(e,t,r,n){sn()||te(!1);let{navigator:s}=k.useContext(Vt),{matches:i}=k.useContext(Wt),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=pr(),d;if(t){var f;let x=typeof t=="string"?nn(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||te(!1),d=x}else d=c;let p=d.pathname||"/",w=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=lg(e,{pathname:w}),y=Bg(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Ut([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ut([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&y?k.createElement(Ui.Provider,{value:{location:Qn({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ct.Pop}},y):y}function Ug(){let e=qg(),t=Pg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const Dg=k.createElement(Ug,null);class Mg extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Wt.Provider,{value:this.props.routeContext},k.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zg(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext($l);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Wt.Provider,{value:t},n)}function Bg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||te(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:w}=r,v=f.route.loader&&p[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let w,v=!1,y=null,x=null;r&&(w=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||Dg,l&&(c<0&&p===0?(Kg("route-fallback"),v=!0,x=null):c===p&&(v=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,p+1)),m=()=>{let h;return w?h=y:v?h=x:f.route.Component?h=k.createElement(f.route.Component,null):f.route.element?h=f.route.element:h=d,k.createElement(zg,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:h})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?k.createElement(Mg,{location:r.location,revalidation:r.revalidation,component:y,error:w,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var nf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nf||{}),sf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sf||{});function Fg(e){let t=k.useContext($l);return t||te(!1),t}function Vg(e){let t=k.useContext(Rg);return t||te(!1),t}function Wg(e){let t=k.useContext(Wt);return t||te(!1),t}function af(e){let t=Wg(),r=t.matches[t.matches.length-1];return r.route.id||te(!1),r.route.id}function qg(){var e;let t=k.useContext(Zh),r=Vg(),n=af();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Hg(){let{router:e}=Fg(nf.UseNavigateStable),t=af(sf.UseNavigateStable),r=k.useRef(!1);return ef(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Qn({fromRouteId:t},i)))},[e,t])}const oc={};function Kg(e,t,r){oc[e]||(oc[e]=!0)}function Gg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Jg(e){let{to:t,replace:r,state:n,relative:s}=e;sn()||te(!1);let{future:i,static:a}=k.useContext(Vt),{matches:o}=k.useContext(Wt),{pathname:l}=pr(),c=tf(),d=Il(t,Al(o,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function wt(e){te(!1)}function Qg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ct.Pop,navigator:i,static:a=!1,future:o}=e;sn()&&te(!1);let l=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:a,future:Qn({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=nn(n));let{pathname:d="/",search:f="",hash:p="",state:w=null,key:v="default"}=n,y=k.useMemo(()=>{let x=Rl(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:w,key:v},navigationType:s}},[l,d,f,p,w,v,s]);return y==null?null:k.createElement(Vt.Provider,{value:c},k.createElement(Ui.Provider,{children:r,value:y}))}function Xg(e){let{children:t,location:r}=e;return $g(bo(t),r)}new Promise(()=>{});function bo(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,bo(n.props.children,i));return}n.type!==wt&&te(!1),!n.props.index||!n.props.children||te(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=bo(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eo.apply(this,arguments)}function Yg(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Zg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ev(e,t){return e.button===0&&(!t||t==="_self")&&!Zg(e)}const tv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rv="6";try{window.__reactRouterVersion=rv}catch{}const nv="startTransition",lc=Kf[nv];function sv(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=ig({window:s,v5Compat:!0}));let a=i.current,[o,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=k.useCallback(f=>{c&&lc?lc(()=>l(f)):l(f)},[l,c]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.useEffect(()=>Gg(n),[n]),k.createElement(Qg,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,p=Yg(t,tv),{basename:w}=k.useContext(Vt),v,y=!1;if(typeof c=="string"&&av.test(c)&&(v=c,iv))try{let h=new URL(window.location.href),_=c.startsWith("//")?new URL(h.protocol+c):new URL(c),S=Rl(_.pathname,w);_.origin===h.origin&&S!=null?c=S+_.search+_.hash:y=!0}catch{}let x=Ag(c,{relative:s}),g=ov(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:f});function m(h){n&&n(h),h.defaultPrevented||g(h)}return k.createElement("a",Eo({},p,{href:v||x,onClick:y||i?n:m,ref:r,target:l}))});var uc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uc||(uc={}));var cc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cc||(cc={}));function ov(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=tf(),c=pr(),d=rf(e,{relative:a});return k.useCallback(f=>{if(ev(f,r)){f.preventDefault();let p=n!==void 0?n:gi(c)===gi(d);l(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,n,s,r,e,i,a,o])}function Di(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function lv(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}const uv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ll extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class cv extends Ll{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dc extends Ll{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hc extends Ll{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jo||(jo={}));class dv{constructor(t,{headers:r={},customFetch:n,region:s=jo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=uv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return lv(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:c,signal:d,timeout:f}=n;let p={},{region:w}=n;w||(w=this.region);const v=new URL(`${this.url}/${r}`);w&&w!=="any"&&(p["x-region"]=w,v.searchParams.set("forceFunctionRegion",w));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(p["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(p["Content-Type"]="application/json",y=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?y=JSON.stringify(c):y=c;let x=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:y,signal:x}).catch(S=>{throw new cv(S)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new dc(g);if(!g.ok)throw new hc(g);let h=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return h==="application/json"?_=yield g.json():h==="application/octet-stream"||h==="application/pdf"?_=yield g.blob():h==="text/event-stream"?_=g:h==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof hc||o instanceof dc?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var hv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},fv=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,c=i.status,d=i.statusText;if(i.ok){var f,p;if(r.method!=="HEAD"){var w;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const y=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");y&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const y=await i.text();try{a=JSON.parse(y),Array.isArray(a)&&i.status===404&&(o=[],a=null,c=200,d="OK")}catch{i.status===404&&y===""?(c=204,d="No Content"):a={message:y}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&r.shouldThrowOnError)throw new hv(a)}return{error:a,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var c,d,f,p;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";o=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${v}`,y&&(o+=` (${y})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var w;o=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},pv=class extends fv{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const fc=new RegExp("[,()]");var kr=class extends pv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},mv=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new kr({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new kr({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new kr({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new kr({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new kr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},gv=class of{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new mv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new of(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(d)),f=n&&Object.values(r).some(d);f?(o="POST",c=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([w,v])=>v!==void 0).map(([w,v])=>[w,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([w,v])=>{l.searchParams.append(w,v)})):(o="POST",c=r);const p=new Headers(this.headers);return f?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new kr({method:o,url:l,headers:p,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class vv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yv="2.90.1",wv=`realtime-js/${yv}`,lf="1.0.0",xv="2.0.0",pc=lf,No=1e4,_v=1e3,kv=100;var kt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(kt||(kt={}));var se;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(se||(se={}));var Qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qe||(Qe={}));var Co;(function(e){e.websocket="websocket"})(Co||(Co={}));var Yt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yt||(Yt={}));class Sv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+f.length,w=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(w),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,o.length),v.setUint8(y++,a.length),v.setUint8(y++,c.length),v.setUint8(y++,f.length),v.setUint8(y++,r),Array.from(l,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(c,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(f,g=>v.setUint8(y++,g.charCodeAt(0)));var x=new Uint8Array(w.byteLength+n.byteLength);return x.set(new Uint8Array(w),0),x.set(new Uint8Array(n),w.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+a));l=l+a;const p=t.slice(l,t.byteLength),w=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:d,payload:w};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class uf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(z||(z={}));const mc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=bv(a,e,t,s),i),{}):{}},bv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?cf(i,a):To(a)},cf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Cv(t,r)}switch(e){case z.bool:return Ev(t);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return jv(t);case z.json:case z.jsonb:return Nv(t);case z.timestamp:return Tv(t);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return To(t);default:return To(t)}},To=e=>e,Ev=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Nv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Cv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>cf(t,o))}return e},Tv=e=>typeof e=="string"?e.replace(" ","T"):e,df=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class wa{constructor(t,r,n={},s=No){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gc||(gc={}));class Pn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Pn.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const p=d.map(x=>x.presence_ref),w=f.map(x=>x.presence_ref),v=d.filter(x=>w.indexOf(x.presence_ref)<0),y=f.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(o[c]=v),y.length>0&&(l[c]=y)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(w=>w.presence_ref),p=d.filter(w=>f.indexOf(w.presence_ref)<0);t[o].unshift(...p)}n(o,d,l)}),this.map(a,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,s(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vc||(vc={}));var On;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(On||(On={}));var ot;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ot||(ot={}));class Ur{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wa(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new uf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Pn(this),this.broadcastEndpointURL=df(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[On.PRESENCE]&&this.bindings[On.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(ot.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(ot.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t==null||t(ot.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,g=[];for(let m=0;m<x;m++){const h=y[m],{filter:{event:_,schema:S,table:b,filter:j}}=h,C=w&&w[m];if(C&&C.event===_&&Ur.isFilterValueEqual(C.schema,S)&&Ur.isFilterValueEqual(C.table,b)&&Ur.isFilterValueEqual(C.filter,j))g.push(Object.assign(Object.assign({},h),{id:C.id}));else{this.unsubscribe(),this.state=se.errored,t==null||t(ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ot.SUBSCRIBED);return}}).receive("error",w=>{this.state=se.errored,t==null||t(ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===se.joined&&t===On.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=se.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new wa(this,Qe.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wa(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Qe;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var v,y,x;return((v=w.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=w.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(w=>w.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(w=>{var v,y,x,g,m,h,_,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in w){const b=w.id,j=(v=w.filter)===null||v===void 0?void 0:v.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((g=w.filter)===null||g===void 0)&&g.table)||w.filter.table===((m=r.data)===null||m===void 0?void 0:m.table))}else{const b=(_=(h=w==null?void 0:w.filter)===null||h===void 0?void 0:h.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return b==="*"||b===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===a}).map(w=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:y,table:x,commit_timestamp:g,type:m,errors:h}=v;p=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:h}),this._getPayloadRecords(v))}w.callback(p,n)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ur.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qe.close,{},t)}_onError(t){this._on(Qe.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mc(t.columns,t.old_record)),r}}const xa=()=>{},Ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pv=[1e3,2e3,5e3,1e4],Ov=1e4,Rv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Av{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=No,this.transport=null,this.heartbeatIntervalMs=Ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xa,this.ref=0,this.reconnectTimer=null,this.vsn=pc,this.logger=xa,this.conn=null,this.sendBuffer=[],this.serializer=new Sv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Co.websocket}`,this.httpEndpoint=df(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kt.connecting:return Yt.Connecting;case kt.open:return Yt.Open;case kt.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ur(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_v,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===kt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===kt.open||this.conn.readyState===kt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qe.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Rv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:wv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Qe.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new uf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,c,d,f,p,w;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:No,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ps.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:xa,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:pc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:v=>Pv[v-1]||Ov,this.vsn){case lf:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,y)=>y(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,y)=>y(JSON.parse(v));break;case xv:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Xn=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Iv(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function $v(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Lv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=Iv(e.baseUrl,n,s),l=await $v(e.auth),c=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),p=f&&d?JSON.parse(d):d;if(!c.ok){const w=f?p:void 0,v=w==null?void 0:w.error;throw new Xn((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:w})}return{status:c.status,headers:c.headers,data:p}}}}function Os(e){return e.join("")}var Uv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Os(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Os(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Os(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Os(e.namespace)}`}),!0}catch(t){if(t instanceof Xn&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Xn&&r.status===409)return;throw r}}};function gr(e){return e.join("")}var Dv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Xn&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Xn&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Mv=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Lv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Uv(this.client,t),this.tableOps=new Dv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Mi=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function H(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var zv=class extends Mi{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Po=class extends Mi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Ul=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Bv=()=>Response,Oo=e=>{if(Array.isArray(e))return e.map(r=>Oo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Oo(n)}),t},Fv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vv=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Yn(e){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(e)}function Wv(e,t){if(Yn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qv(e){var t=Wv(e,"string");return Yn(t)=="symbol"?t:t+""}function Hv(e,t,r){return(t=qv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yc(Object(r),!0).forEach(function(n){Hv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const _a=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Kv=async(e,t,r)=>{e instanceof await Bv()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new zv(_a(n),s,i))}).catch(n=>{t(new Po(_a(n),n))}):t(new Po(_a(e),e))},Gv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Fv(n)?(s.headers=R({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),R(R({},s),r))};async function us(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,Gv(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Kv(l,o,n))})}async function Zn(e,t,r,n){return us(e,"GET",t,r,n)}async function Ge(e,t,r,n,s){return us(e,"POST",t,n,s,r)}async function Ro(e,t,r,n,s){return us(e,"PUT",t,n,s,r)}async function Jv(e,t,r,n){return us(e,"HEAD",t,R(R({},r),{},{noResolveJson:!0}),n)}async function Dl(e,t,r,n,s){return us(e,"DELETE",t,n,s,r)}var Qv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(H(t))return{data:null,error:t};throw t}}};let hf;hf=Symbol.toStringTag;var Xv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qv(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(H(t))return{data:null,error:t};throw t}}};const Yv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Zv=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Ul(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=R(R({},wc),n);let o=R(R({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=R(R({},o),n.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),f=await(e=="PUT"?Ro:Ge)(s.fetch,`${s.url}/object/${d}`,i,R({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(H(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=R({upsert:wc.upsert},n),d=R(R({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await Ro(s.fetch,o.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(H(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=R({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Ge(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new Mi("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Ge(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Ge(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await Ge(n.fetch,`${n.url}/object/sign/${s}`,R({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Ge(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>R(R({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>Zn(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Xv(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Oo(await Zn(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Jv(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(H(n)&&n instanceof Po){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await Dl(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=R(R(R({},Yv),t),{},{prefix:e||""});return{data:await Ge(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=R({},e);return{data:await Ge(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const ff="2.90.1",pf={"X-Client-Info":`storage-js/${ff}`};var ey=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=R(R({},pf),t),this.fetch=Ul(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Zn(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Zn(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ge(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Ro(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Dl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ty=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},pf),t),this.fetch=Ul(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Zn(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Dl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Vv(e))throw new Mi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Mv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Ml={"X-Client-Info":`storage-js/${ff}`,"Content-Type":"application/json"};var mf=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var ka=class extends mf{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ry=class extends mf{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const zl=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ny=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sy=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new ka(xc(i),n,a))}).catch(()=>{const i=n+"";t(new ka(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new ka(s.statusText||`HTTP ${n} error`,n,i))}}else t(new ry(xc(e),e))},iy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(ny(n)?(s.headers=R({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,R(R({},s),r)):s};async function ay(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,iy(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>sy(l,o,n))})}async function Re(e,t,r,n,s){return ay(e,"POST",t,n,s,r)}var oy=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},Ml),t),this.fetch=zl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Re(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Re(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}},ly=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},Ml),t),this.fetch=zl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Re(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Re(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Re(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}},uy=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},Ml),t),this.fetch=zl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Re(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}},cy=class extends uy{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new dy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},dy=class extends oy{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new hy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},hy=class extends ly{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},fy=class extends ey{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Zv(this.url,this.headers,e,this.fetch)}get vectors(){return new cy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ty(this.url+"/iceberg",this.headers,this.fetch)}};const gf="2.90.1",Sr=30*1e3,Ao=3,Sa=Ao*Sr,py="http://localhost:9999",my="supabase.auth.token",gy={"X-Client-Info":`gotrue-js/${gf}`},Io="X-Supabase-Api-Version",vf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yy=10*60*1e3;class es extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function P(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wy extends es{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xy(e){return P(e)&&e.name==="AuthApiError"}class Zt extends es{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vt extends es{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Te extends vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _y(e){return P(e)&&e.name==="AuthSessionMissingError"}class vr extends vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rs extends vt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class As extends vt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ky(e){return P(e)&&e.name==="AuthImplicitGrantRedirectError"}class _c extends vt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sy extends vt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $o extends vt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ba(e){return P(e)&&e.name==="AuthRetryableFetchError"}class kc extends vt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Lo extends vt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sc=` 	
\r=`.split(""),by=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sc.length;t+=1)e[Sc[t].charCodeAt(0)]=-2;for(let t=0;t<vi.length;t+=1)e[vi[t].charCodeAt(0)]=t;return e})();function bc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vi[n]),t.queuedBits-=6}}function yf(e,t,r){const n=by[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ec(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Ny(a,n,r)};for(let a=0;a<e.length;a+=1)yf(e.charCodeAt(a),s,i);return t.join("")}function Ey(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ey(n,t)}}function Ny(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Cy(e){const t=[];return jy(e,r=>t.push(r)),new Uint8Array(t)}function sr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>bc(s,r,n)),bc(null,r,n),t.join("")}function Ty(e){return Math.round(Date.now()/1e3)+e}function Py(){return Symbol("auth-callback")}const de=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},wf=()=>{if(!de())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function Oy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const xf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ry=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",br=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ce=async(e,t)=>{await e.removeItem(t)};class zi{constructor(){this.promise=new zi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}zi.promiseConstructor=Promise;function Ea(e){const t=e.split(".");if(t.length!==3)throw new Lo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vy.test(t[n]))throw new Lo("JWT not in base64url format");return{header:JSON.parse(Ec(t[0])),payload:JSON.parse(Ec(t[1])),signature:qr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ay(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Iy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function $y(e){return("0"+e.toString(16)).substr(-2)}function Ly(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,$y).join("")}async function Uy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Uy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(e,t,r=!1){const n=Ly();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await br(e,`${t}-code-verifier`,s);const i=await Dy(n);return[i,n===i?"plain":"s256"]}const My=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zy(e){const t=e.headers.get(Io);if(!t||!t.match(My))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function By(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Fy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wr(e){if(!Vy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ja(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wy(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function jc(e){return JSON.parse(JSON.stringify(e))}const Xt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qy=[502,503,504];async function Nc(e){var t;if(!Ry(e))throw new $o(Xt(e),0);if(qy.includes(e.status))throw new $o(Xt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Zt(Xt(i),i)}let n;const s=zy(e);if(s&&s.getTime()>=vf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new kc(Xt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Te}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new kc(Xt(r),e.status,r.weak_password.reasons);throw new wy(Xt(r),e.status||500,n)}const Hy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function O(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Io]||(i[Io]=vf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Ky(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Ky(e,t,r,n,s,i){const a=Hy(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new $o(Xt(l),0)}if(o.ok||await Nc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Nc(l)}}function He(e){var t;let r=null;Qy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ty(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Cc(e){const t=He(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Et(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Gy(e){return{data:e,error:null}}function Jy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Di(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Tc(e){return e}function Qy(e){return e.access_token&&e.refresh_token&&e.expires_in}const Na=["global","local","others"];class Xy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Na[0]){if(Na.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Na.join(", ")}`);try{return await O(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await O(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Et})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Di(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Jy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(P(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await O(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Et})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tc});if(d.error)throw d.error;const f=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,w=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(P(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){wr(t);try{return await O(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Et})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){wr(t);try{return await O(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Et})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){wr(t);try{return await O(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Et})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){wr(t.userId);try{const{data:r,error:n}=await O(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteFactor(t){wr(t.userId),wr(t.id);try{return{data:await O(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await O(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tc});if(d.error)throw d.error;const f=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,w=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(P(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await O(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await O(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await O(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}}function Pc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const xr={debug:!!(globalThis&&wf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _f extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yy extends _f{}async function Zy(e,t,r){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function e0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function t0(e){return parseInt(e,16)}function r0(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function n0(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:d,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=kf(e.address),v=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${w}

${y}`;let g=`URI: ${f}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const h of c){if(!h||typeof h!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${h}`);m+=`
- ${h}`}g+=m}return`${x}
${g}`}class re extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class yi extends re{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function s0({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Sf(a)){if(i.rp.id!==a)return new re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function i0({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Sf(n)){if(r.rpId!==n)return new re({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class a0{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const o0=new a0;function l0(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Di(e,["challenge","user","excludeCredentials"]),i=qr(t).buffer,a=Object.assign(Object.assign({},r),{id:qr(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:qr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function u0(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Di(e,["challenge","allowCredentials"]),s=qr(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:qr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function c0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:sr(new Uint8Array(e.response.attestationObject)),clientDataJSON:sr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function d0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:sr(new Uint8Array(s.authenticatorData)),clientDataJSON:sr(new Uint8Array(s.clientDataJSON)),signature:sr(new Uint8Array(s.signature)),userHandle:s.userHandle?sr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Sf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Oc(){var e,t;return!!(de()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function h0(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yi("Browser returned unexpected credential type",t)}:{data:null,error:new yi("Empty credential response",t)}}catch(t){return{data:null,error:s0({error:t,options:e})}}}async function f0(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yi("Browser returned unexpected credential type",t)}:{data:null,error:new yi("Empty credential response",t)}}catch(t){return{data:null,error:i0({error:t,options:e})}}}const p0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},m0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=wi(o,a):n[i]=wi(a)}else n[i]=a}return n}function g0(e,t){return wi(p0,e,t||{})}function v0(e,t){return wi(m0,e,t||{})}class y0{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const l=s??o0.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=g0(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await h0({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=v0(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await f0(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new Zt("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new es("rpId is required for WebAuthn authentication")};try{if(!Oc())return{data:null,error:new Zt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new Zt("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new es("rpId is required for WebAuthn registration")};try{if(!Oc())return{data:null,error:new Zt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new Zt("Unexpected error in register",a)}}}}e0();const w0={url:py,storageKey:my,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Rc(e,t,r){return await r()}const _r={};class ts{get jwks(){var t,r;return(r=(t=_r[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=_r[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},w0),t);if(this.storageKey=i.storageKey,this.instanceID=(r=ts.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ts.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&de()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Xy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xf(i.fetch),this.lock=i.lock||Rc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&de()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Zy:this.lock=Rc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new y0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Pc(this.memoryStorage)),de()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(de()&&(r=Oy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),de()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ky(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?this._returnResult({error:r}):this._returnResult({error:new Zt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:He}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:p}=t;let w=null,v=null;this.flowType==="pkce"&&([w,v]=await yr(this.storage,this.storageKey)),i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:w,code_challenge_method:v},xform:He})}else if("phone"in t){const{phone:d,password:f,options:p}=t;i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:He})}else throw new Rs("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ce(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Cc})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Cc})}else throw new Rs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new vr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,l,c,d,f,p;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:y,wallet:x,statement:g,options:m}=t;let h;if(de())if(typeof x=="object")h=x;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")h=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=x}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await h.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=kf(S[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const U=await h.request({method:"eth_chainId"});j=t0(U)}const C={domain:_.host,address:b,statement:g,uri:_.href,version:"1",chainId:j,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};w=n0(C),v=await h.request({method:"personal_sign",params:[r0(w),b]})}try{const{data:y,error:x}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:He});if(x)throw x;if(!y||!y.session||!y.user){const g=new vr;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(P(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,s,i,a,o,l,c,d,f,p,w;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:x,wallet:g,statement:m,options:h}=t;let _;if(de())if(typeof g=="object")_=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const S=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let j;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")j=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)j=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=h==null?void 0:h.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((a=h==null?void 0:h.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((f=(d=h==null?void 0:h.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...h.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=b}}try{const{data:x,error:g}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:sr(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:He});if(g)throw g;if(!x||!x.session||!x.user){const m=new vr;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(P(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Gt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Sy;const{data:i,error:a}=await O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:He});if(await ce(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new vr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:He}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new vr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yr(this.storage,this.storageKey));const{error:f}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Rs("You must provide either an email or phone number.")}catch(o){if(await ce(this.storage,`${this.storageKey}-code-verifier`),P(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:He});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await yr(this.storage,this.storageKey));const c=await O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Gy});return!((i=c.data)===null||i===void 0)&&i.url&&de()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await ce(this.storage,`${this.storageKey}-code-verifier`),P(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Te;const{error:s}=await O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(P(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await O(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await O(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Rs("You must provide either an email or phone number and a type")}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Gt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ja()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Wy(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Et}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Te}:await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(r){if(P(r))return _y(r)&&(await this._removeSession(),await ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Te;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await yr(this.storage,this.storageKey));const{data:c,error:d}=await O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Et});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ce(this.storage,`${this.storageKey}-code-verifier`),P(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Te;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Ea(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Te;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!de())throw new As("No browser detected.");if(t.error||t.error_description||t.error_code)throw new As(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _c("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _c("No code detected.");const{data:m,error:h}=await this._exchangeCodeForSession(t.code);if(h)throw h;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!a||!c)throw new As("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let p=d+f;l&&(p=parseInt(l));const w=p-d;w*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${f}s`);const v=p-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(P(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(xy(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Py(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await yr(this.storage,this.storageKey,!0));try{return await O(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:f,error:p}=i;if(p)throw p;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await O(this.fetch,"GET",w,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return de()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(P(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:c,nonce:d}=t,f=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:He}),{data:p,error:w}=f;return w?this._returnResult({data:{user:null,session:null},error:w}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new vr}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:w}))}catch(s){if(await ce(this.storage,`${this.storageKey}-code-verifier`),P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await O(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Iy(async s=>(s>0&&await Ay(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:He})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ba(i)&&Date.now()+a-n<Sr})}catch(n){if(this._debug(r,"error",n),P(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),de()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Gt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Gt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await br(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ja()}else if(s&&!s.user&&!s.user){const a=await Gt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ce(this.storage,this.storageKey+"-user"),await br(this.storage,this.storageKey,s)):s.user=ja()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sa;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Sa}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ba(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Te;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zi;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Te;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),P(i)){const a={data:null,error:i};return ba(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ce(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await br(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=jc(s);await br(this.storage,this.storageKey,i)}else{const s=jc(r);await br(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ce(this.storage,this.storageKey),await ce(this.storage,this.storageKey+"-code-verifier"),await ce(this.storage,this.storageKey+"-user"),this.userStorage&&await ce(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&de()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sr}ms, refresh threshold is ${Ao} ticks`),s<=Ao&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _f)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!de()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await yr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await O(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await O(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?c0(t.webauthn.credential_response):d0(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:l0(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u0(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ea(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await O(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Te})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Te});const a=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&de()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Te});const a=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&de()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await O(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Te})})}catch(t){if(P(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await O(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Te})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+yy>s)return n;const{data:i,error:a}=await O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:v}=await this.getSession();if(v||!w.session)return this._returnResult({data:null,error:v});n=w.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Ea(n);r!=null&&r.allowExpired||By(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:i,header:s,signature:a},error:null}}const d=Fy(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Cy(`${o}.${l}`)))throw new Lo("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}}ts.nextInstanceID={};const x0=ts,_0="2.90.1";let xn="";typeof Deno<"u"?xn="deno":typeof document<"u"?xn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xn="react-native":xn="node";const k0={"X-Client-Info":`supabase-js-${xn}/${_0}`},S0={headers:k0},b0={schema:"public"},E0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j0={};function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function N0(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C0(e){var t=N0(e,"string");return rs(t)=="symbol"?t:t+""}function T0(e,t,r){return(t=C0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ac(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ac(Object(r),!0).forEach(function(n){T0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ac(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const P0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),O0=()=>Headers,R0=(e,t,r)=>{const n=P0(r),s=O0();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,X(X({},a),{},{headers:c}))}};function A0(e){return e.endsWith("/")?e:e+"/"}function I0(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:c,realtime:d,global:f}=t,p={db:X(X({},l),s),auth:X(X({},c),i),realtime:X(X({},d),a),storage:{},global:X(X(X({},f),o),{},{headers:X(X({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function $0(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(A0(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var L0=class extends x0{constructor(e){super(e)}},U0=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=$0(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:b0,realtime:j0,auth:X(X({},E0),{},{storageKey:a}),global:S0},l=I0(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=R0(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(X({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new gv(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new fy(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new dv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:c},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L0({url:this.authUrl.href,headers:X(X({},p),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Av(this.realtimeUrl.href,X(X({},e),{},{params:X(X({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const D0=(e,t,r)=>new U0(e,t,r);function M0(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}M0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const z0="https://rtypzsrdktjbrrymqvnu.supabase.co",B0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0eXB6c3Jka3RqYnJyeW1xdm51Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxNDI3MjQsImV4cCI6MjA4MzcxODcyNH0.pcc5SVpH6I23U6To_JiWvn4QFJNxb8zgWh9rf0AVmlM",Se=D0(z0,B0),bf=k.createContext(void 0);function F0({children:e}){const[t,r]=k.useState(null),[n,s]=k.useState(null),[i,a]=k.useState(null),[o,l]=k.useState(!0);k.useEffect(()=>{Se.auth.getSession().then(({data:{session:y}})=>{a(y),r((y==null?void 0:y.user)??null),y!=null&&y.user?c(y.user.id):l(!1)});const{data:{subscription:v}}=Se.auth.onAuthStateChange((y,x)=>{a(x),r((x==null?void 0:x.user)??null),x!=null&&x.user?c(x.user.id):(s(null),l(!1))});return()=>v.unsubscribe()},[]);async function c(v){try{const{data:y,error:x}=await Se.from("profiles").select("*").eq("id",v).maybeSingle();if(x)throw x;s(y)}catch(y){console.error("Error loading profile:",y)}finally{l(!1)}}async function d(v,y,x,g){try{const{data:m,error:h}=await Se.auth.signUp({email:v,password:y});if(h)return{error:h};if(m.user){const{error:_}=await Se.from("profiles").insert({id:m.user.id,full_name:x,phone:g||null,user_type:"user"});if(_)return console.error("Error creating profile:",_),{error:_}}return{error:null}}catch(m){return{error:m}}}async function f(v,y){const{error:x}=await Se.auth.signInWithPassword({email:v,password:y});return{error:x}}async function p(){await Se.auth.signOut(),s(null)}async function w(v){if(!t)return{error:new Error("No user logged in")};try{const{error:y}=await Se.from("profiles").update(v).eq("id",t.id);if(y)throw y;return s(x=>x?{...x,...v}:null),{error:null}}catch(y){return{error:y}}}return u.jsx(bf.Provider,{value:{user:t,profile:n,session:i,loading:o,signUp:d,signIn:f,signOut:p,updateProfile:w},children:e})}function cs(){const e=k.useContext(bf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>k.createElement("svg",{ref:d,...V0,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${W0(e)}`,o].join(" "),...c},[...t.map(([f,p])=>k.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=W("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=W("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=W("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=W("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=W("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=W("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=W("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=W("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=W("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=W("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=W("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function nw(){var l,c;const[e,t]=k.useState(!1),[r,n]=k.useState(!1),{profile:s,signOut:i}=cs(),a=pr(),o=d=>a.pathname===d;return u.jsxs("header",{className:"bg-white shadow-md sticky top-0 z-50",children:[u.jsx("div",{className:"header-banner"}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs(Q,{to:"/",className:"flex items-center gap-3",children:[u.jsx("div",{className:"logo-badge w-12 h-12 flex items-center justify-center shadow-md",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xl font-extrabold bg-gradient-to-r from-green-ge to-blue-ge bg-clip-text text-transparent",children:"abitaX"}),u.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Guinea Ecuatorial"})]})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[u.jsx(Q,{to:"/",className:`font-medium transition-colors ${o("/")?"text-green-ge":"text-gray-600 hover:text-green-ge"}`,children:"Inicio"}),u.jsx(Q,{to:"/services",className:`font-medium transition-colors ${o("/services")?"text-green-ge":"text-gray-600 hover:text-green-ge"}`,children:"Servicios"}),u.jsx(Q,{to:"/properties",className:`font-medium transition-colors ${o("/properties")?"text-green-ge":"text-gray-600 hover:text-green-ge"}`,children:"Propiedades"}),u.jsx(Q,{to:"/professionals",className:`font-medium transition-colors ${o("/professionals")?"text-green-ge":"text-gray-600 hover:text-green-ge"}`,children:"Profesionales"})]}),u.jsx("div",{className:"hidden md:flex items-center gap-4",children:u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[s!=null&&s.avatar_url?u.jsx("img",{src:s.avatar_url,alt:s.full_name,className:"w-8 h-8 rounded-full object-cover"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-green-ge flex items-center justify-center text-white",children:((c=(l=s==null?void 0:s.full_name)==null?void 0:l[0])==null?void 0:c.toUpperCase())||"U"}),u.jsx("span",{className:"font-medium text-gray-900",children:s==null?void 0:s.full_name})]}),r&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 animate-fade-in",children:[u.jsxs(Q,{to:"/profile",className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-50 text-gray-700",onClick:()=>n(!1),children:[u.jsx(Wl,{className:"w-4 h-4"}),"Mi Perfil"]}),u.jsxs(Q,{to:"/settings",className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-50 text-gray-700",onClick:()=>n(!1),children:[u.jsx(ew,{className:"w-4 h-4"}),"Configuracin"]}),u.jsx("hr",{className:"my-2"}),u.jsxs("button",{onClick:()=>{i(),n(!1)},className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-50 text-red-600 w-full",children:[u.jsx(J0,{className:"w-4 h-4"}),"Cerrar Sesin"]})]})]})}),u.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-lg hover:bg-gray-100",children:e?u.jsx(Cf,{className:"w-6 h-6"}):u.jsx(X0,{className:"w-6 h-6"})})]})}),e&&u.jsx("div",{className:"md:hidden bg-white border-t border-gray-200 animate-slide-in",children:u.jsxs("nav",{className:"px-4 py-4 space-y-2",children:[u.jsx(Q,{to:"/",className:`block px-4 py-2 rounded-lg font-medium ${o("/")?"bg-green-light text-green-dark":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>t(!1),children:"Inicio"}),u.jsx(Q,{to:"/services",className:`block px-4 py-2 rounded-lg font-medium ${o("/services")?"bg-green-light text-green-dark":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>t(!1),children:"Servicios"}),u.jsx(Q,{to:"/properties",className:`block px-4 py-2 rounded-lg font-medium ${o("/properties")?"bg-green-light text-green-dark":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>t(!1),children:"Propiedades"}),u.jsx(Q,{to:"/professionals",className:`block px-4 py-2 rounded-lg font-medium ${o("/professionals")?"bg-green-light text-green-dark":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>t(!1),children:"Profesionales"}),u.jsx("hr",{className:"my-2"}),u.jsx(Q,{to:"/profile",className:"block px-4 py-2 rounded-lg font-medium text-gray-600 hover:bg-gray-50",onClick:()=>t(!1),children:"Mi Perfil"}),u.jsx("button",{onClick:()=>{i(),t(!1)},className:"block w-full text-left px-4 py-2 rounded-lg font-medium text-red-600 hover:bg-red-50",children:"Cerrar Sesin"})]})})]})}function sw(){const e=pr(),t=r=>e.pathname===r;return u.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:u.jsxs("div",{className:"flex justify-around items-center h-16",children:[u.jsxs(Q,{to:"/",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(K0,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Inicio"})]}),u.jsxs(Q,{to:"/services",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/services")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(Bi,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Servicios"})]}),u.jsxs(Q,{to:"/properties",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/properties")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(Hr,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Propiedades"})]}),u.jsxs(Q,{to:"/professionals",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/professionals")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(Nf,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Profesionales"})]}),u.jsxs(Q,{to:"/profile",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/profile")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(Wl,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Perfil"})]})]})})}function iw({onSwitchToRegister:e}){const[t,r]=k.useState(""),[n,s]=k.useState(""),[i,a]=k.useState(!1),[o,l]=k.useState(""),{signIn:c}=cs();async function d(f){f.preventDefault(),l(""),a(!0);const{error:p}=await c(t,n);p&&l(p.message),a(!1)}return u.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center px-4 py-12",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"text-center mb-10 animate-fade-in",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-28 h-28 bg-white rounded-3xl flex items-center justify-center shadow-2xl",children:u.jsx("span",{className:"text-6xl",children:""})})}),u.jsx("h1",{className:"text-5xl font-black text-white mb-3 drop-shadow-lg",children:"abitaX"}),u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[u.jsx("div",{className:"h-1 w-12 bg-white/50 rounded"}),u.jsx("p",{className:"text-white/90 text-xl font-bold",children:"Guinea Ecuatorial"}),u.jsx("div",{className:"h-1 w-12 bg-white/50 rounded"})]}),u.jsx("p",{className:"text-white/80 text-lg",children:"La SuperApp basada en mapas"})]}),u.jsxs("div",{className:"feature-card p-10 animate-fade-in glass-effect",style:{animationDelay:"0.1s"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-3 mb-3",children:[u.jsx(G0,{className:"text-green-ge w-7 h-7"}),u.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Iniciar Sesin"})]}),u.jsx("p",{className:"text-gray-600",children:"Accede a tu cuenta abitaX"})]}),o&&u.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-6 py-4 rounded-lg mb-6 flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:"Error de autenticacin"}),u.jsx("p",{className:"text-sm",children:o})]})]}),u.jsxs("form",{onSubmit:d,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(Fl,{className:"w-5 h-5 text-green-ge"}),"Correo Electrnico"]}),u.jsx("input",{type:"email",value:t,onChange:f=>r(f.target.value),className:"input-field text-lg",placeholder:"tu@email.com",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(Ef,{className:"w-5 h-5 text-green-ge"}),"Contrasea"]}),u.jsx("input",{type:"password",value:n,onChange:f=>s(f.target.value),className:"input-field text-lg",placeholder:"",required:!0})]}),u.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full text-lg py-4 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg",children:i?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"w-5 h-5 border-3 border-white border-t-transparent rounded-full animate-spin"}),"Iniciando sesin..."]}):"Iniciar Sesin"})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsxs("p",{className:"text-gray-600 text-lg",children:["No tienes cuenta?"," ",u.jsx("button",{onClick:e,className:"text-green-ge hover:text-green-dark font-bold underline",children:"Regstrate aqu"})]})})]})]})})}function aw({onSwitchToLogin:e}){const[t,r]=k.useState(""),[n,s]=k.useState(""),[i,a]=k.useState(""),[o,l]=k.useState(""),[c,d]=k.useState(!1),[f,p]=k.useState(""),[w,v]=k.useState(!1),{signUp:y}=cs();async function x(g){if(g.preventDefault(),p(""),d(!0),n.length<6){p("La contrasea debe tener al menos 6 caracteres"),d(!1);return}const{error:m}=await y(t,n,i,o);m?(p(m.message),d(!1)):(v(!0),d(!1),setTimeout(()=>{e()},2e3))}return u.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center px-4 py-12",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"text-center mb-10 animate-fade-in",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-28 h-28 bg-white rounded-3xl flex items-center justify-center shadow-2xl",children:u.jsx("span",{className:"text-6xl",children:""})})}),u.jsx("h1",{className:"text-5xl font-black text-white mb-3 drop-shadow-lg",children:"abitaX"}),u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[u.jsx("div",{className:"h-1 w-12 bg-white/50 rounded"}),u.jsx("p",{className:"text-white/90 text-xl font-bold",children:"Guinea Ecuatorial"}),u.jsx("div",{className:"h-1 w-12 bg-white/50 rounded"})]}),u.jsx("p",{className:"text-white/80 text-lg",children:"La SuperApp basada en mapas"})]}),u.jsxs("div",{className:"feature-card p-10 animate-fade-in glass-effect",style:{animationDelay:"0.1s"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-3 mb-3",children:[u.jsx(rw,{className:"text-green-ge w-7 h-7"}),u.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Crear Cuenta"})]}),u.jsx("p",{className:"text-gray-600",children:"nete a la comunidad abitaX"})]}),f&&u.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-6 py-4 rounded-lg mb-6 flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:"Error al crear cuenta"}),u.jsx("p",{className:"text-sm",children:f})]})]}),w&&u.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 px-6 py-4 rounded-lg mb-6 flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:"xito!"}),u.jsx("p",{className:"text-sm",children:"Cuenta creada exitosamente. Redirigiendo..."})]})]}),u.jsxs("form",{onSubmit:x,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(Wl,{className:"w-5 h-5 text-green-ge"}),"Nombre Completo"]}),u.jsx("input",{type:"text",value:i,onChange:g=>a(g.target.value),className:"input-field text-lg",placeholder:"Juan Prez",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(Fl,{className:"w-5 h-5 text-green-ge"}),"Correo Electrnico"]}),u.jsx("input",{type:"email",value:t,onChange:g=>r(g.target.value),className:"input-field text-lg",placeholder:"tu@email.com",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(jf,{className:"w-5 h-5 text-green-ge"}),"Telfono",u.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Opcional)"})]}),u.jsx("input",{type:"tel",value:o,onChange:g=>l(g.target.value),className:"input-field text-lg",placeholder:"+240 XXX XXX XXX"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(Ef,{className:"w-5 h-5 text-green-ge"}),"Contrasea"]}),u.jsx("input",{type:"password",value:n,onChange:g=>s(g.target.value),className:"input-field text-lg",placeholder:"",required:!0,minLength:6}),u.jsxs("p",{className:"text-sm text-gray-500 mt-2 flex items-center gap-2",children:[u.jsx("span",{className:"text-green-ge",children:""}),"Mnimo 6 caracteres"]})]}),u.jsx("button",{type:"submit",disabled:c||w,className:"btn-primary w-full text-lg py-4 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg mt-6",children:c?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"w-5 h-5 border-3 border-white border-t-transparent rounded-full animate-spin"}),"Creando cuenta..."]}):w?" Cuenta creada":"Crear Cuenta"})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsxs("p",{className:"text-gray-600 text-lg",children:["Ya tienes cuenta?"," ",u.jsx("button",{onClick:e,className:"text-green-ge hover:text-green-dark font-bold underline",children:"Inicia sesin aqu"})]})})]})]})})}function ow(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,[])).next())})}function lw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ca,Ic;function uw(){return Ic||(Ic=1,Ca=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}),Ca}var cw=uw(),dw=lw(cw);const $c="__googleMapsScriptId";var Dr;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Dr||(Dr={}));class er{constructor({apiKey:t,authReferrerPolicy:r,channel:n,client:s,id:i=$c,language:a,libraries:o=[],mapIds:l,nonce:c,region:d,retries:f=3,url:p="https://maps.googleapis.com/maps/api/js",version:w}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=n,this.client=s,this.id=i||$c,this.language=a,this.libraries=o,this.mapIds=l,this.nonce=c,this.region=d,this.retries=f,this.url=p,this.version=w,er.instance){if(!dw(this.options,er.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(er.instance.options)}`);return er.instance}er.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Dr.FAILURE:this.done?Dr.SUCCESS:this.loading?Dr.LOADING:Dr.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(n=>{n?r(n.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(i=>!n[i]&&delete n[i]),!((r=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||r===void 0)&&r.importLibrary||(i=>{let a,o,l,c="The Google Maps JavaScript API",d="google",f="importLibrary",p="__ib__",w=document,v=window;v=v[d]||(v[d]={});const y=v.maps||(v.maps={}),x=new Set,g=new URLSearchParams,m=()=>a||(a=new Promise((h,_)=>ow(this,void 0,void 0,function*(){var S;yield o=w.createElement("script"),o.id=this.id,g.set("libraries",[...x]+"");for(l in i)g.set(l.replace(/[A-Z]/g,b=>"_"+b[0].toLowerCase()),i[l]);g.set("callback",d+".maps."+p),o.src=this.url+"?"+g,y[p]=h,o.onerror=()=>a=_(Error(c+" could not load.")),o.nonce=this.nonce||((S=w.querySelector("script[nonce]"))===null||S===void 0?void 0:S.nonce)||"",w.head.append(o)})));y[f]?console.warn(c+" only loads once. Ignoring:",i):y[f]=(h,..._)=>x.add(h)&&m().then(()=>y[f](h,..._))})(n);const s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{const a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}function ql({center:e={lat:1.6508,lng:10.2679},zoom:t=8,markers:r=[],onMapClick:n,className:s="w-full h-96"}){const i=k.useRef(null),[a,o]=k.useState(null),[l,c]=k.useState([]);return k.useEffect(()=>{new er({apiKey:"AIzaSyCNskrqibDP4rG-3PN9jWIo1dslkQkXO6w",version:"weekly"}).load().then(()=>{if(i.current&&!a){const f=new google.maps.Map(i.current,{center:e,zoom:t,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});n&&f.addListener("click",p=>{p.latLng&&n(p.latLng.lat(),p.latLng.lng())}),o(f)}})},[]),k.useEffect(()=>{a&&e&&a.setCenter(e)},[a,e]),k.useEffect(()=>{if(!a)return;l.forEach(f=>f.setMap(null));const d=r.map(f=>{const p=new google.maps.Marker({position:{lat:f.lat,lng:f.lng},map:a,title:f.title,icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#007A33",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}});if(f.title){const w=new google.maps.InfoWindow({content:`<div class="p-2 font-semibold">${f.title}</div>`});p.addListener("click",()=>{w.open(a,p)})}return p});return c(d),()=>{d.forEach(f=>f.setMap(null))}},[a,r]),u.jsx("div",{ref:i,className:s})}function hw(){const[e,t]=k.useState(""),[r,n]=k.useState([]),[s,i]=k.useState([]);k.useEffect(()=>{a()},[]);async function a(){try{const[o,l]=await Promise.all([Se.from("properties").select("*").eq("available",!0).limit(3),Se.from("professionals").select("*, profiles(full_name, avatar_url)").eq("available",!0).order("rating",{ascending:!1}).limit(3)]);o.data&&n(o.data),l.data&&i(l.data)}catch(o){console.error("Error loading data:",o)}finally{}}return u.jsxs("div",{className:"min-h-screen",children:[u.jsx("div",{className:"gradient-bg text-white",children:u.jsx("div",{className:"page-container py-20",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center animate-fade-in",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-2xl",children:u.jsx("span",{className:"text-6xl",children:""})})}),u.jsx("h1",{className:"text-6xl font-black mb-4 text-white drop-shadow-lg",children:"Bienvenido a abitaX"}),u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[u.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-transparent to-white rounded"}),u.jsx("p",{className:"text-2xl font-bold text-white",children:"La SuperApp de Guinea Ecuatorial"}),u.jsx("div",{className:"h-1 w-16 bg-gradient-to-l from-transparent to-white rounded"})]}),u.jsx("p",{className:"text-lg mb-10 text-white/90 max-w-2xl mx-auto leading-relaxed",children:"Conectando personas, lugares y servicios en todo el pas. Descubre propiedades, encuentra profesionales verificados y accede a servicios de calidad."}),u.jsxs("div",{className:"search-bar-enhanced max-w-3xl mx-auto",children:[u.jsx(Fi,{className:"text-gray-400 ml-2 w-6 h-6"}),u.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:"Buscar servicios, propiedades, profesionales..."}),u.jsx("button",{className:"btn-primary px-8 py-3 text-lg font-bold",children:"Buscar"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-12 max-w-2xl mx-auto",children:[u.jsxs("div",{className:"stat-card glass-effect",children:[u.jsx("div",{className:"stat-number",children:"500+"}),u.jsx("div",{className:"stat-label",children:"Propiedades"})]}),u.jsxs("div",{className:"stat-card glass-effect",children:[u.jsx("div",{className:"stat-number",children:"1000+"}),u.jsx("div",{className:"stat-label",children:"Profesionales"})]}),u.jsxs("div",{className:"stat-card glass-effect",children:[u.jsx("div",{className:"stat-number",children:"100+"}),u.jsx("div",{className:"stat-label",children:"Servicios"})]})]})]})})}),u.jsxs("div",{className:"page-container py-16",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[u.jsx(Q,{to:"/services",className:"feature-card group",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-ge to-emerald-600 rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(Bi,{className:"text-white w-10 h-10"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Servicios"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Encuentra profesionales verificados para cualquier servicio que necesites"})]})}),u.jsx(Q,{to:"/properties",className:"feature-card group",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-ge to-blue-600 rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(Hr,{className:"text-white w-10 h-10"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Propiedades"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Explora casas, apartamentos y terrenos en venta o alquiler"})]})}),u.jsx(Q,{to:"/professionals",className:"feature-card group",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(Nf,{className:"text-white w-10 h-10"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Profesionales"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Conecta con expertos calificados en diversas reas"})]})})]}),u.jsxs("div",{className:"mb-16",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"h-1 w-12 bg-gradient-to-r from-transparent to-green-ge rounded"}),u.jsx(ns,{className:"text-green-ge w-8 h-8"}),u.jsx("div",{className:"h-1 w-12 bg-gradient-to-l from-transparent to-green-ge rounded"})]}),u.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-3",children:"Explora Guinea Ecuatorial"}),u.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Descubre ubicaciones, propiedades y servicios en todo el territorio nacional"})]}),u.jsx("div",{className:"map-container",children:u.jsx(ql,{center:{lat:1.6508,lng:10.2679},zoom:7,className:"w-full h-[500px]"})})]}),s.length>0&&u.jsxs("div",{className:"mb-16",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(tw,{className:"text-green-ge w-8 h-8"}),u.jsx("h2",{className:"text-4xl font-black text-gray-900",children:"Profesionales Destacados"})]}),u.jsx("p",{className:"text-gray-600 text-lg ml-11",children:"Los mejores profesionales verificados"})]}),u.jsx(Q,{to:"/professionals",className:"btn-outline px-6 py-3 font-bold hidden md:flex",children:"Ver todos "})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map(o=>{var l,c,d,f,p;return u.jsxs("div",{className:"feature-card",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[(l=o.profiles)!=null&&l.avatar_url?u.jsx("img",{src:o.profiles.avatar_url,alt:o.profiles.full_name,className:"w-20 h-20 rounded-2xl object-cover shadow-lg"}):u.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-green-ge to-emerald-600 flex items-center justify-center text-white text-3xl font-black shadow-lg",children:(f=(d=(c=o.profiles)==null?void 0:c.full_name)==null?void 0:d[0])==null?void 0:f.toUpperCase()}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:(p=o.profiles)==null?void 0:p.full_name}),u.jsx("p",{className:"text-sm text-gray-600 font-medium",children:o.profession})]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((w,v)=>u.jsx(Vl,{className:`w-5 h-5 ${v<Math.floor(o.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},v))}),u.jsx("span",{className:"font-bold text-gray-900",children:o.rating.toFixed(1)}),u.jsxs("span",{className:"text-gray-500 text-sm",children:["(",o.total_reviews," reseas)"]})]}),o.verified&&u.jsx("div",{className:"pro-badge pro-badge-verified",children:" Verificado"})]},o.id)})})]}),r.length>0&&u.jsxs("div",{className:"mb-16",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Hr,{className:"text-blue-ge w-8 h-8"}),u.jsx("h2",{className:"text-4xl font-black text-gray-900",children:"Propiedades Destacadas"})]}),u.jsx("p",{className:"text-gray-600 text-lg ml-11",children:"Las mejores oportunidades inmobiliarias"})]}),u.jsx(Q,{to:"/properties",className:"btn-outline px-6 py-3 font-bold hidden md:flex",children:"Ver todas "})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map(o=>{var l;return u.jsxs("div",{className:"feature-card p-0",children:[(l=o.images)!=null&&l[0]?u.jsx("img",{src:o.images[0],alt:o.title,className:"w-full h-56 object-cover"}):u.jsx("div",{className:"w-full h-56 bg-gradient-to-br from-blue-ge to-blue-600 flex items-center justify-center",children:u.jsx(Hr,{className:"w-20 h-20 text-white opacity-50"})}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-3 text-xl line-clamp-1",children:o.title}),u.jsxs("p",{className:"text-gray-600 mb-4 flex items-center gap-2",children:[u.jsx(ns,{className:"w-5 h-5 text-green-ge"}),u.jsx("span",{className:"font-medium",children:o.city})]}),u.jsxs("div",{className:"price-tag mb-4",children:[u.jsx("span",{className:"price-amount",children:o.price.toLocaleString()}),u.jsx("span",{className:"price-currency",children:o.currency})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:`pro-badge ${o.listing_type==="venta"?"pro-badge-new":"pro-badge-featured"} capitalize text-xs`,children:o.listing_type}),u.jsx("button",{className:"text-green-ge hover:text-green-dark font-bold text-sm",children:"Ver detalles "})]})]})]},o.id)})})]})]})]})}const fw=["Todos","Construccin","Mantenimiento","Electricidad","Plomera","Carpintera","Pintura","Limpieza","Jardinera","Otros"];function pw(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,i]=k.useState("Todos"),[a,o]=k.useState(""),[l,c]=k.useState(!0),[d,f]=k.useState(!1);k.useEffect(()=>{p()},[]),k.useEffect(()=>{w()},[e,s,a]);async function p(){try{const{data:y,error:x}=await Se.from("services").select(`
          *,
          professionals (
            *,
            profiles (full_name, avatar_url)
          )
        `).eq("active",!0).order("created_at",{ascending:!1});if(x)throw x;t(y||[])}catch(y){console.error("Error loading services:",y)}finally{c(!1)}}function w(){let y=e;s!=="Todos"&&(y=y.filter(x=>x.category.toLowerCase()===s.toLowerCase())),a&&(y=y.filter(x=>x.title.toLowerCase().includes(a.toLowerCase())||x.description.toLowerCase().includes(a.toLowerCase()))),n(y)}const v=r.filter(y=>y.location).map(y=>({lat:y.location.coordinates[1],lng:y.location.coordinates[0],title:y.title}));return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-8",children:[u.jsx("div",{className:"gradient-bg text-white py-8",children:u.jsxs("div",{className:"page-container",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Servicios"}),u.jsx("p",{className:"text-green-light text-lg",children:"Encuentra profesionales para cualquier servicio que necesites"})]})}),u.jsxs("div",{className:"page-container py-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-2 flex items-center gap-2 mb-4",children:[u.jsx(Fi,{className:"text-gray-400 ml-2"}),u.jsx("input",{type:"text",value:a,onChange:y=>o(y.target.value),placeholder:"Buscar servicios...",className:"flex-1 px-4 py-3 outline-none"}),u.jsxs("button",{onClick:()=>f(!d),className:"btn-secondary py-3 px-6 flex items-center gap-2",children:[u.jsx(ns,{className:"w-5 h-5"}),d?"Lista":"Mapa"]})]}),u.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[u.jsx(Bl,{className:"text-gray-600 flex-shrink-0"}),fw.map(y=>u.jsx("button",{onClick:()=>i(y),className:`px-4 py-2 rounded-full font-medium whitespace-nowrap transition-colors ${s===y?"bg-green-ge text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:y},y))]})]}),d?u.jsx("div",{className:"card overflow-hidden mb-8",children:u.jsx(ql,{markers:v,className:"w-full h-[600px]"})}):u.jsx(u.Fragment,{children:l?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"inline-block w-12 h-12 border-4 border-green-ge border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando servicios..."})]}):r.length===0?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-600 text-lg",children:"No se encontraron servicios"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(y=>{var x,g,m,h,_,S,b,j,C,U,I;return u.jsxs("div",{className:"card overflow-hidden hover:shadow-xl transition-shadow",children:[(x=y.images)!=null&&x[0]?u.jsx("img",{src:y.images[0],alt:y.title,className:"w-full h-48 object-cover"}):u.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-green-ge to-blue-ge"}),u.jsxs("div",{className:"p-5",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[(m=(g=y.professionals)==null?void 0:g.profiles)!=null&&m.avatar_url?u.jsx("img",{src:y.professionals.profiles.avatar_url,alt:y.professionals.profiles.full_name,className:"w-10 h-10 rounded-full object-cover"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-green-ge flex items-center justify-center text-white font-bold",children:(b=(S=(_=(h=y.professionals)==null?void 0:h.profiles)==null?void 0:_.full_name)==null?void 0:S[0])==null?void 0:b.toUpperCase()}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:(C=(j=y.professionals)==null?void 0:j.profiles)==null?void 0:C.full_name}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx(Vl,{className:"w-3 h-3 text-gold-ge fill-current"}),u.jsx("span",{children:((I=(U=y.professionals)==null?void 0:U.rating)==null?void 0:I.toFixed(1))||"0.0"})]})]})]}),u.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:y.title}),u.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:y.description}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"badge badge-success",children:y.category}),y.price_from&&u.jsxs("span",{className:"text-lg font-bold text-green-ge",children:[y.price_from.toLocaleString()," ",y.currency]})]})]})]},y.id)})})})]})]})}const mw=["Todos","Casa","Apartamento","Terreno","Comercial"],gw=["Todos","Venta","Alquiler"],vw=["Todas","Malabo","Bata","Ebebiyin","Aconibe","Mongomo","Evinayong"];function yw(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,i]=k.useState("Todos"),[a,o]=k.useState("Todos"),[l,c]=k.useState("Todas"),[d,f]=k.useState(""),[p,w]=k.useState(!0),[v,y]=k.useState(!1);k.useEffect(()=>{x()},[]),k.useEffect(()=>{g()},[e,s,a,l,d]);async function x(){try{const{data:h,error:_}=await Se.from("properties").select("*").eq("available",!0).order("created_at",{ascending:!1});if(_)throw _;t(h||[])}catch(h){console.error("Error loading properties:",h)}finally{w(!1)}}function g(){let h=e;s!=="Todos"&&(h=h.filter(_=>_.property_type.toLowerCase()===s.toLowerCase())),a!=="Todos"&&(h=h.filter(_=>_.listing_type.toLowerCase()===a.toLowerCase())),l!=="Todas"&&(h=h.filter(_=>_.city.toLowerCase()===l.toLowerCase())),d&&(h=h.filter(_=>_.title.toLowerCase().includes(d.toLowerCase())||_.address.toLowerCase().includes(d.toLowerCase()))),n(h)}const m=r.filter(h=>h.location).map(h=>({lat:h.location.coordinates[1],lng:h.location.coordinates[0],title:h.title}));return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-8",children:[u.jsx("div",{className:"gradient-bg text-white py-8",children:u.jsxs("div",{className:"page-container",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Propiedades"}),u.jsx("p",{className:"text-green-light text-lg",children:"Encuentra tu prximo hogar o inversin en Guinea Ecuatorial"})]})}),u.jsxs("div",{className:"page-container py-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-2 flex items-center gap-2 mb-4",children:[u.jsx(Fi,{className:"text-gray-400 ml-2"}),u.jsx("input",{type:"text",value:d,onChange:h=>f(h.target.value),placeholder:"Buscar propiedades...",className:"flex-1 px-4 py-3 outline-none"}),u.jsxs("button",{onClick:()=>y(!v),className:"btn-secondary py-3 px-6 flex items-center gap-2",children:[u.jsx(ns,{className:"w-5 h-5"}),v?"Lista":"Mapa"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[u.jsx(Bl,{className:"text-gray-600 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Tipo:"}),mw.map(h=>u.jsx("button",{onClick:()=>i(h),className:`px-4 py-2 rounded-full font-medium whitespace-nowrap transition-colors ${s===h?"bg-green-ge text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:h},h))]}),u.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap ml-8",children:"Operacin:"}),gw.map(h=>u.jsx("button",{onClick:()=>o(h),className:`px-4 py-2 rounded-full font-medium whitespace-nowrap transition-colors ${a===h?"bg-blue-ge text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:h},h))]}),u.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap ml-8",children:"Ciudad:"}),vw.map(h=>u.jsx("button",{onClick:()=>c(h),className:`px-4 py-2 rounded-full font-medium whitespace-nowrap transition-colors ${l===h?"bg-green-ge text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:h},h))]})]})]}),v?u.jsx("div",{className:"card overflow-hidden mb-8",children:u.jsx(ql,{markers:m,className:"w-full h-[600px]"})}):u.jsx(u.Fragment,{children:p?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"inline-block w-12 h-12 border-4 border-green-ge border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando propiedades..."})]}):r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Hr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"No se encontraron propiedades"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(h=>{var _;return u.jsxs("div",{className:"card overflow-hidden hover:shadow-xl transition-shadow",children:[(_=h.images)!=null&&_[0]?u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:h.images[0],alt:h.title,className:"w-full h-56 object-cover"}),u.jsx("div",{className:"absolute top-3 right-3",children:u.jsx("span",{className:`badge ${h.listing_type==="sale"?"bg-green-ge text-white":"bg-blue-ge text-white"}`,children:h.listing_type==="sale"?"Venta":"Alquiler"})})]}):u.jsx("div",{className:"w-full h-56 bg-gradient-to-br from-green-ge to-blue-ge flex items-center justify-center",children:u.jsx(Hr,{className:"w-20 h-20 text-white"})}),u.jsxs("div",{className:"p-5",children:[u.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-2",children:h.title}),u.jsxs("p",{className:"text-gray-600 mb-3 flex items-center gap-1",children:[u.jsx(ns,{className:"w-4 h-4 flex-shrink-0"}),u.jsxs("span",{className:"line-clamp-1",children:[h.address,", ",h.city]})]}),u.jsxs("div",{className:"flex items-center gap-4 mb-4 text-gray-600",children:[h.bedrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(H0,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:h.bedrooms})]}),h.bathrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(q0,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:h.bathrooms})]}),h.area_sqm&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Q0,{className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm",children:[h.area_sqm,"m"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"badge badge-success capitalize",children:[h.property_type==="house"&&"Casa",h.property_type==="apartment"&&"Apartamento",h.property_type==="land"&&"Terreno",h.property_type==="commercial"&&"Comercial"]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-2xl font-bold text-green-ge",children:h.price.toLocaleString()}),u.jsx("div",{className:"text-sm text-gray-600",children:h.currency})]})]})]})]},h.id)})})})]})]})}const ww=["Todos","Construccin","Electricista","Plomero","Carpintero","Pintor","Mecnico","Jardinero","Limpieza","Abogado","Mdico","Ingeniero","Arquitecto","Otros"];function xw(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,i]=k.useState("Todos"),[a,o]=k.useState(""),[l,c]=k.useState(!0),[d,f]=k.useState(!1);k.useEffect(()=>{p()},[]),k.useEffect(()=>{w()},[e,s,a,d]);async function p(){try{const{data:v,error:y}=await Se.from("professionals").select(`
          *,
          profiles (full_name, avatar_url, phone, bio)
        `).eq("available",!0).order("rating",{ascending:!1});if(y)throw y;t(v||[])}catch(v){console.error("Error loading professionals:",v)}finally{c(!1)}}function w(){let v=e;s!=="Todos"&&(v=v.filter(y=>y.profession.toLowerCase()===s.toLowerCase())),d&&(v=v.filter(y=>y.verified)),a&&(v=v.filter(y=>{var x,g,m;return((g=(x=y.profiles)==null?void 0:x.full_name)==null?void 0:g.toLowerCase().includes(a.toLowerCase()))||y.profession.toLowerCase().includes(a.toLowerCase())||((m=y.company_name)==null?void 0:m.toLowerCase().includes(a.toLowerCase()))})),n(v)}return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-8",children:[u.jsx("div",{className:"gradient-bg text-white py-8",children:u.jsxs("div",{className:"page-container",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Profesionales"}),u.jsx("p",{className:"text-green-light text-lg",children:"Conecta con expertos verificados en Guinea Ecuatorial"})]})}),u.jsxs("div",{className:"page-container py-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-2 flex items-center gap-2 mb-4",children:[u.jsx(Fi,{className:"text-gray-400 ml-2"}),u.jsx("input",{type:"text",value:a,onChange:v=>o(v.target.value),placeholder:"Buscar profesionales...",className:"flex-1 px-4 py-3 outline-none"}),u.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-green-light rounded-lg cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:d,onChange:v=>f(v.target.checked),className:"w-4 h-4 text-green-ge rounded"}),u.jsx(xi,{className:"w-4 h-4 text-green-ge"}),u.jsx("span",{className:"text-sm font-medium text-green-dark",children:"Solo Verificados"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[u.jsx(Bl,{className:"text-gray-600 flex-shrink-0"}),ww.map(v=>u.jsx("button",{onClick:()=>i(v),className:`px-4 py-2 rounded-full font-medium whitespace-nowrap transition-colors ${s===v?"bg-green-ge text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:v},v))]})]}),l?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"inline-block w-12 h-12 border-4 border-green-ge border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando profesionales..."})]}):r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Bi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"No se encontraron profesionales"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>{var y,x,g,m,h,_,S;return u.jsxs("div",{className:"card p-6 hover:shadow-xl transition-shadow",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[(y=v.profiles)!=null&&y.avatar_url?u.jsx("img",{src:v.profiles.avatar_url,alt:v.profiles.full_name,className:"w-20 h-20 rounded-full object-cover"}):u.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-ge to-blue-ge flex items-center justify-center text-white text-3xl font-bold",children:(m=(g=(x=v.profiles)==null?void 0:x.full_name)==null?void 0:g[0])==null?void 0:m.toUpperCase()}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-1",children:(h=v.profiles)==null?void 0:h.full_name}),u.jsx("p",{className:"text-gray-600 font-medium mb-2",children:v.profession}),v.company_name&&u.jsx("p",{className:"text-sm text-gray-500",children:v.company_name})]})]}),((_=v.profiles)==null?void 0:_.bio)&&u.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:v.profiles.bio}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Vl,{className:"w-5 h-5 text-gold-ge fill-current"}),u.jsx("span",{className:"font-bold text-lg",children:v.rating.toFixed(1)})]}),u.jsxs("span",{className:"text-gray-600 text-sm",children:["(",v.total_reviews," reseas)"]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.verified&&u.jsxs("span",{className:"badge bg-green-ge text-white flex items-center gap-1",children:[u.jsx(xi,{className:"w-3 h-3"}),"Verificado"]}),v.years_experience>0&&u.jsxs("span",{className:"badge badge-success",children:[v.years_experience," aos exp."]})]}),((S=v.certifications)==null?void 0:S.length)>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Certificaciones:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:v.certifications.slice(0,3).map((b,j)=>u.jsx("span",{className:"badge badge-warning text-xs",children:b},j))})]}),u.jsx("button",{className:"btn-primary w-full",children:"Contactar"})]},v.id)})})]})]})}function Lc(){var x,g,m;const{profile:e,user:t,updateProfile:r}=cs(),[n,s]=k.useState(!1),[i,a]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(null),[f,p]=k.useState({full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",bio:(e==null?void 0:e.bio)||""});k.useEffect(()=>{(e==null?void 0:e.user_type)==="professional"&&(l(!0),w())},[e]);async function w(){if(t)try{const{data:h,error:_}=await Se.from("professionals").select("*").eq("user_id",t.id).maybeSingle();if(_)throw _;h&&d(h)}catch(h){console.error("Error loading professional data:",h)}}async function v(){a(!0);const{error:h}=await r(f);h?alert("Error al actualizar el perfil"):s(!1),a(!1)}function y(){p({full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",bio:(e==null?void 0:e.bio)||""}),s(!1)}return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-8",children:[u.jsx("div",{className:"gradient-bg text-white py-12",children:u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-4xl font-bold",children:"Mi Perfil"}),!n&&u.jsxs("button",{onClick:()=>s(!0),className:"bg-white text-green-ge px-6 py-2 rounded-lg font-semibold hover:bg-green-light transition-colors flex items-center gap-2",children:[u.jsx(Y0,{className:"w-4 h-4"}),"Editar"]})]})})}),u.jsx("div",{className:"page-container py-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:"card p-8 mb-6",children:u.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[e!=null&&e.avatar_url?u.jsx("img",{src:e.avatar_url,alt:e.full_name,className:"w-32 h-32 rounded-full object-cover"}):u.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-green-ge to-blue-ge flex items-center justify-center text-white text-5xl font-bold",children:(g=(x=e==null?void 0:e.full_name)==null?void 0:x[0])==null?void 0:g.toUpperCase()}),u.jsx("div",{className:"flex-1",children:n?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),u.jsx("input",{type:"text",value:f.full_name,onChange:h=>p({...f,full_name:h.target.value}),className:"input-field"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),u.jsx("input",{type:"tel",value:f.phone,onChange:h=>p({...f,phone:h.target.value}),className:"input-field"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biografa"}),u.jsx("textarea",{value:f.bio,onChange:h=>p({...f,bio:h.target.value}),className:"input-field",rows:4,placeholder:"Cuntanos sobre ti..."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:v,disabled:i,className:"btn-primary flex items-center gap-2 disabled:opacity-50",children:[u.jsx(Z0,{className:"w-4 h-4"}),i?"Guardando...":"Guardar Cambios"]}),u.jsxs("button",{onClick:y,disabled:i,className:"px-6 py-3 border-2 border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors flex items-center gap-2",children:[u.jsx(Cf,{className:"w-4 h-4"}),"Cancelar"]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e==null?void 0:e.full_name}),o&&u.jsx("span",{className:"badge bg-green-ge text-white mb-3",children:"Profesional"}),u.jsxs("div",{className:"space-y-2 mt-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(Fl,{className:"w-5 h-5"}),u.jsx("span",{children:t==null?void 0:t.email})]}),(e==null?void 0:e.phone)&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(jf,{className:"w-5 h-5"}),u.jsx("span",{children:e.phone})]})]}),(e==null?void 0:e.bio)&&u.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:u.jsx("p",{className:"text-gray-700",children:e.bio})})]})})]})}),o&&c&&u.jsxs("div",{className:"card p-8",children:[u.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[u.jsx(Bi,{className:"text-green-ge"}),"Informacin Profesional"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profesin"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c.profession})]}),c.company_name&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c.company_name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aos de Experiencia"}),u.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[c.years_experience," aos"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificacin"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl font-bold text-green-ge",children:c.rating.toFixed(1)}),u.jsxs("span",{className:"text-gray-600",children:["(",c.total_reviews," reseas)"]})]})]})]}),((m=c.certifications)==null?void 0:m.length)>0&&u.jsxs("div",{className:"mt-6",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(xi,{className:"w-5 h-5 text-green-ge"}),"Certificaciones"]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:c.certifications.map((h,_)=>u.jsx("span",{className:"badge badge-warning",children:h},_))})]}),u.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[c.verified&&u.jsxs("span",{className:"badge bg-green-ge text-white flex items-center gap-2",children:[u.jsx(xi,{className:"w-4 h-4"}),"Verificado"]}),u.jsx("span",{className:`badge ${c.available?"badge-success":"bg-gray-400 text-white"}`,children:c.available?"Disponible":"No Disponible"})]})]})]})})]})}function _w(){const[e,t]=k.useState(!0),{user:r,loading:n}=cs();return n?u.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:u.jsx("span",{className:"text-5xl",children:""})}),u.jsx("div",{className:"inline-block w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-white text-xl mt-4 font-semibold",children:"Cargando abitaX..."})]})}):r?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(nw,{}),u.jsxs(Xg,{children:[u.jsx(wt,{path:"/",element:u.jsx(hw,{})}),u.jsx(wt,{path:"/services",element:u.jsx(pw,{})}),u.jsx(wt,{path:"/properties",element:u.jsx(yw,{})}),u.jsx(wt,{path:"/professionals",element:u.jsx(xw,{})}),u.jsx(wt,{path:"/profile",element:u.jsx(Lc,{})}),u.jsx(wt,{path:"/settings",element:u.jsx(Lc,{})}),u.jsx(wt,{path:"*",element:u.jsx(Jg,{to:"/",replace:!0})})]}),u.jsx(sw,{})]}):e?u.jsx(iw,{onSwitchToRegister:()=>t(!1)}):u.jsx(aw,{onSwitchToLogin:()=>t(!0)})}function kw(){return u.jsx(sv,{children:u.jsx(F0,{children:u.jsx(_w,{})})})}Ta.createRoot(document.getElementById("root")).render(u.jsx(Kc.StrictMode,{children:u.jsx(kw,{})}));
