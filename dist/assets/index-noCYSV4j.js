function $f(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Lf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uc={exports:{}},ki={},Dc={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),Uf=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),Ff=Symbol.for("react.context"),Vf=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),qf=Symbol.for("react.memo"),Hf=Symbol.for("react.lazy"),Hl=Symbol.iterator;function Kf(e){return e===null||typeof e!="object"?null:(e=Hl&&e[Hl]||e["@@iterator"],typeof e=="function"?e:null)}var Mc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zc=Object.assign,Bc={};function en(e,t,r){this.props=e,this.context=t,this.refs=Bc,this.updater=r||Mc}en.prototype.isReactComponent={};en.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};en.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fc(){}Fc.prototype=en.prototype;function Do(e,t,r){this.props=e,this.context=t,this.refs=Bc,this.updater=r||Mc}var Mo=Do.prototype=new Fc;Mo.constructor=Do;zc(Mo,en.prototype);Mo.isPureReactComponent=!0;var Kl=Array.isArray,Vc=Object.prototype.hasOwnProperty,zo={current:null},Wc={key:!0,ref:!0,__self:!0,__source:!0};function qc(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Vc.call(t,n)&&!Wc.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ss,type:e,key:i,ref:a,props:s,_owner:zo.current}}function Gf(e,t){return{$$typeof:ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ss}function Jf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gl=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jf(""+e.key):t.toString(36)}function Is(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ss:case Uf:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ki(a,0):n,Kl(s)?(r="",e!=null&&(r=e.replace(Gl,"$&/")+"/"),Is(s,t,r,"",function(c){return c})):s!=null&&(Bo(s)&&(s=Gf(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Gl,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Kl(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+Ki(i,o);a+=Is(i,t,r,l,s)}else if(l=Kf(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+Ki(i,o++),a+=Is(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function fs(e,t,r){if(e==null)return e;var n=[],s=0;return Is(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Qf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xe={current:null},$s={transition:null},Xf={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:$s,ReactCurrentOwner:zo};function Hc(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:fs,forEach:function(e,t,r){fs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!Bo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Component=en;L.Fragment=Df;L.Profiler=zf;L.PureComponent=Do;L.StrictMode=Mf;L.Suspense=Wf;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xf;L.act=Hc;L.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=zo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Vc.call(t,l)&&!Wc.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ss,type:e.type,key:s,ref:i,props:n,_owner:a}};L.createContext=function(e){return e={$$typeof:Ff,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bf,_context:e},e.Consumer=e};L.createElement=qc;L.createFactory=function(e){var t=qc.bind(null,e);return t.type=e,t};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:Vf,render:e}};L.isValidElement=Bo;L.lazy=function(e){return{$$typeof:Hf,_payload:{_status:-1,_result:e},_init:Qf}};L.memo=function(e,t){return{$$typeof:qf,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};L.unstable_act=Hc;L.useCallback=function(e,t){return xe.current.useCallback(e,t)};L.useContext=function(e){return xe.current.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e){return xe.current.useDeferredValue(e)};L.useEffect=function(e,t){return xe.current.useEffect(e,t)};L.useId=function(){return xe.current.useId()};L.useImperativeHandle=function(e,t,r){return xe.current.useImperativeHandle(e,t,r)};L.useInsertionEffect=function(e,t){return xe.current.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return xe.current.useLayoutEffect(e,t)};L.useMemo=function(e,t){return xe.current.useMemo(e,t)};L.useReducer=function(e,t,r){return xe.current.useReducer(e,t,r)};L.useRef=function(e){return xe.current.useRef(e)};L.useState=function(e){return xe.current.useState(e)};L.useSyncExternalStore=function(e,t,r){return xe.current.useSyncExternalStore(e,t,r)};L.useTransition=function(){return xe.current.useTransition()};L.version="18.3.1";Dc.exports=L;var k=Dc.exports;const Kc=Lf(k),Yf=$f({__proto__:null,default:Kc},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=k,ep=Symbol.for("react.element"),tp=Symbol.for("react.fragment"),rp=Object.prototype.hasOwnProperty,np=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sp={key:!0,ref:!0,__self:!0,__source:!0};function Gc(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)rp.call(t,n)&&!sp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ep,type:e,key:i,ref:a,props:s,_owner:np.current}}ki.Fragment=tp;ki.jsx=Gc;ki.jsxs=Gc;Uc.exports=ki;var u=Uc.exports,Pa={},Jc={exports:{}},Le={},Qc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var $=T.length;T.push(A);e:for(;0<$;){var Y=$-1>>>1,ae=T[Y];if(0<s(ae,A))T[Y]=A,T[$]=ae,$=Y;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var A=T[0],$=T.pop();if($!==A){T[0]=$;e:for(var Y=0,ae=T.length,ds=ae>>>1;Y<ds;){var qt=2*(Y+1)-1,Hi=T[qt],Ht=qt+1,hs=T[Ht];if(0>s(Hi,$))Ht<ae&&0>s(hs,Hi)?(T[Y]=hs,T[Ht]=$,Y=Ht):(T[Y]=Hi,T[qt]=$,Y=qt);else if(Ht<ae&&0>s(hs,$))T[Y]=hs,T[Ht]=$,Y=Ht;else break e}}return A}function s(T,A){var $=T.sortIndex-A.sortIndex;return $!==0?$:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,p=3,w=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=T)n(c),A.sortIndex=A.expirationTime,t(l,A);else break;A=r(c)}}function _(T){if(g=!1,m(T),!v)if(r(l)!==null)v=!0,Wi(b);else{var A=r(c);A!==null&&qi(_,A.startTime-T)}}function b(T,A){v=!1,g&&(g=!1,y(C),C=-1),w=!0;var $=p;try{for(m(A),h=r(l);h!==null&&(!(h.expirationTime>A)||T&&!We());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var ae=Y(h.expirationTime<=A);A=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===r(l)&&n(l),m(A)}else n(l);h=r(l)}if(h!==null)var ds=!0;else{var qt=r(c);qt!==null&&qi(_,qt.startTime-A),ds=!1}return ds}finally{h=null,p=$,w=!1}}var S=!1,j=null,C=-1,U=5,I=-1;function We(){return!(e.unstable_now()-I<U)}function an(){if(j!==null){var T=e.unstable_now();I=T;var A=!0;try{A=j(!0,T)}finally{A?on():(S=!1,j=null)}}else S=!1}var on;if(typeof f=="function")on=function(){f(an)};else if(typeof MessageChannel<"u"){var ql=new MessageChannel,If=ql.port2;ql.port1.onmessage=an,on=function(){If.postMessage(null)}}else on=function(){x(an,0)};function Wi(T){j=T,S||(S=!0,on())}function qi(T,A){C=x(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,Wi(b))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var $=p;p=A;try{return T()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=p;p=T;try{return A()}finally{p=$}},e.unstable_scheduleCallback=function(T,A,$){var Y=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,T){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=$+ae,T={id:d++,callback:A,priorityLevel:T,startTime:$,expirationTime:ae,sortIndex:-1},$>Y?(T.sortIndex=$,t(c,T),r(l)===null&&T===r(c)&&(g?(y(C),C=-1):g=!0,qi(_,$-Y))):(T.sortIndex=ae,t(l,T),v||w||(v=!0,Wi(b))),T},e.unstable_shouldYield=We,e.unstable_wrapCallback=function(T){var A=p;return function(){var $=p;p=A;try{return T.apply(this,arguments)}finally{p=$}}}})(Xc);Qc.exports=Xc;var ip=Qc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=k,$e=ip;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yc=new Set,An={};function hr(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(An[e]=t,e=0;e<t.length;e++)Yc.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=Object.prototype.hasOwnProperty,op=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jl={},Ql={};function lp(e){return Oa.call(Ql,e)?!0:Oa.call(Jl,e)?!1:op.test(e)?Ql[e]=!0:(Jl[e]=!0,!1)}function up(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cp(e,t,r,n){if(t===null||typeof t>"u"||up(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fe[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fe[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fe[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fe[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fe[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fe[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fe[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fe[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fe[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fo=/[\-:]([a-z])/g;function Vo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fo,Vo);fe[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fo,Vo);fe[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fo,Vo);fe[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fe[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});fe.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fe[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wo(e,t,r,n){var s=fe.hasOwnProperty(t)?fe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cp(t,r,s,n)&&(r=null),n||s===null?lp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gt=ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Er=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),qo=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),Zc=Symbol.for("react.provider"),ed=Symbol.for("react.context"),Ho=Symbol.for("react.forward_ref"),Aa=Symbol.for("react.suspense"),Ia=Symbol.for("react.suspense_list"),Ko=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),td=Symbol.for("react.offscreen"),Xl=Symbol.iterator;function ln(e){return e===null||typeof e!="object"?null:(e=Xl&&e[Xl]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,Gi;function gn(e){if(Gi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gi=t&&t[1]||""}return`
`+Gi+e}var Ji=!1;function Qi(e,t){if(!e||Ji)return"";Ji=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ji=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gn(e):""}function dp(e){switch(e.tag){case 5:return gn(e.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 2:case 15:return e=Qi(e.type,!1),e;case 11:return e=Qi(e.type.render,!1),e;case 1:return e=Qi(e.type,!0),e;default:return""}}function $a(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jr:return"Fragment";case Er:return"Portal";case Ra:return"Profiler";case qo:return"StrictMode";case Aa:return"Suspense";case Ia:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ed:return(e.displayName||"Context")+".Consumer";case Zc:return(e._context.displayName||"Context")+".Provider";case Ho:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ko:return t=e.displayName||null,t!==null?t:$a(e.type)||"Memo";case xt:t=e._payload,e=e._init;try{return $a(e(t))}catch{}}return null}function hp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $a(t);case 8:return t===qo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fp(e){var t=rd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ms(e){e._valueTracker||(e._valueTracker=fp(e))}function nd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function La(e,t){var r=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Yl(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sd(e,t){t=t.checked,t!=null&&Wo(e,"checked",t,!1)}function Ua(e,t){sd(e,t);var r=Dt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Da(e,t.type,r):t.hasOwnProperty("defaultValue")&&Da(e,t.type,Dt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Da(e,t,r){(t!=="number"||Hs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vn=Array.isArray;function Mr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ma(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(vn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dt(r)}}function id(e,t){var r=Dt(t.value),n=Dt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function tu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ad(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ad(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gs,od=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gs=gs||document.createElement("div"),gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function In(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pp=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(e){pp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_n[t]=_n[e]})});function ld(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_n.hasOwnProperty(e)&&_n[e]?(""+t).trim():t+"px"}function ud(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ld(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var mp=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(e,t){if(t){if(mp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=null;function Go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,zr=null,Br=null;function ru(e){if(e=os(e)){if(typeof Wa!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Ni(t),Wa(e.stateNode,e.type,t))}}function cd(e){zr?Br?Br.push(e):Br=[e]:zr=e}function dd(){if(zr){var e=zr,t=Br;if(Br=zr=null,ru(e),t)for(e=0;e<t.length;e++)ru(t[e])}}function hd(e,t){return e(t)}function fd(){}var Xi=!1;function pd(e,t,r){if(Xi)return e(t,r);Xi=!0;try{return hd(e,t,r)}finally{Xi=!1,(zr!==null||Br!==null)&&(fd(),dd())}}function $n(e,t){var r=e.stateNode;if(r===null)return null;var n=Ni(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var qa=!1;if(ht)try{var un={};Object.defineProperty(un,"passive",{get:function(){qa=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{qa=!1}function gp(e,t,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var kn=!1,Ks=null,Gs=!1,Ha=null,vp={onError:function(e){kn=!0,Ks=e}};function yp(e,t,r,n,s,i,a,o,l){kn=!1,Ks=null,gp.apply(vp,arguments)}function wp(e,t,r,n,s,i,a,o,l){if(yp.apply(this,arguments),kn){if(kn){var c=Ks;kn=!1,Ks=null}else throw Error(E(198));Gs||(Gs=!0,Ha=c)}}function fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function md(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nu(e){if(fr(e)!==e)throw Error(E(188))}function xp(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return nu(s),e;if(i===n)return nu(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function gd(e){return e=xp(e),e!==null?vd(e):null}function vd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vd(e);if(t!==null)return t;e=e.sibling}return null}var yd=$e.unstable_scheduleCallback,su=$e.unstable_cancelCallback,_p=$e.unstable_shouldYield,kp=$e.unstable_requestPaint,Z=$e.unstable_now,bp=$e.unstable_getCurrentPriorityLevel,Jo=$e.unstable_ImmediatePriority,wd=$e.unstable_UserBlockingPriority,Js=$e.unstable_NormalPriority,Sp=$e.unstable_LowPriority,xd=$e.unstable_IdlePriority,bi=null,st=null;function Ep(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(bi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Cp,jp=Math.log,Np=Math.LN2;function Cp(e){return e>>>=0,e===0?32:31-(jp(e)/Np|0)|0}var vs=64,ys=4194304;function yn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=yn(o):(i&=a,i!==0&&(n=yn(i)))}else a=r&~s,a!==0?n=yn(a):i!==0&&(n=yn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ye(t),s=1<<r,n|=e[r],t&=~s;return n}function Tp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ye(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Tp(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _d(){var e=vs;return vs<<=1,!(vs&4194240)&&(vs=64),e}function Yi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function is(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=r}function Op(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ye(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Qo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ye(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var M=0;function kd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bd,Xo,Sd,Ed,jd,Ga=!1,ws=[],Tt=null,Pt=null,Ot=null,Ln=new Map,Un=new Map,bt=[],Rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iu(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Ln.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(t.pointerId)}}function cn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=os(t),t!==null&&Xo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ap(e,t,r,n,s){switch(t){case"focusin":return Tt=cn(Tt,e,t,r,n,s),!0;case"dragenter":return Pt=cn(Pt,e,t,r,n,s),!0;case"mouseover":return Ot=cn(Ot,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ln.set(i,cn(Ln.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Un.set(i,cn(Un.get(i)||null,e,t,r,n,s)),!0}return!1}function Nd(e){var t=tr(e.target);if(t!==null){var r=fr(t);if(r!==null){if(t=r.tag,t===13){if(t=md(r),t!==null){e.blockedOn=t,jd(e.priority,function(){Sd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ja(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Va=n,r.target.dispatchEvent(n),Va=null}else return t=os(r),t!==null&&Xo(t),e.blockedOn=r,!1;t.shift()}return!0}function au(e,t,r){Ls(e)&&r.delete(t)}function Ip(){Ga=!1,Tt!==null&&Ls(Tt)&&(Tt=null),Pt!==null&&Ls(Pt)&&(Pt=null),Ot!==null&&Ls(Ot)&&(Ot=null),Ln.forEach(au),Un.forEach(au)}function dn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ga||(Ga=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,Ip)))}function Dn(e){function t(s){return dn(s,e)}if(0<ws.length){dn(ws[0],e);for(var r=1;r<ws.length;r++){var n=ws[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Tt!==null&&dn(Tt,e),Pt!==null&&dn(Pt,e),Ot!==null&&dn(Ot,e),Ln.forEach(t),Un.forEach(t),r=0;r<bt.length;r++)n=bt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bt.length&&(r=bt[0],r.blockedOn===null);)Nd(r),r.blockedOn===null&&bt.shift()}var Fr=gt.ReactCurrentBatchConfig,Xs=!0;function $p(e,t,r,n){var s=M,i=Fr.transition;Fr.transition=null;try{M=1,Yo(e,t,r,n)}finally{M=s,Fr.transition=i}}function Lp(e,t,r,n){var s=M,i=Fr.transition;Fr.transition=null;try{M=4,Yo(e,t,r,n)}finally{M=s,Fr.transition=i}}function Yo(e,t,r,n){if(Xs){var s=Ja(e,t,r,n);if(s===null)la(e,t,n,Ys,r),iu(e,n);else if(Ap(s,e,t,r,n))n.stopPropagation();else if(iu(e,n),t&4&&-1<Rp.indexOf(e)){for(;s!==null;){var i=os(s);if(i!==null&&bd(i),i=Ja(e,t,r,n),i===null&&la(e,t,n,Ys,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else la(e,t,n,null,r)}}var Ys=null;function Ja(e,t,r,n){if(Ys=null,e=Go(n),e=tr(e),e!==null)if(t=fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=md(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ys=e,null}function Cd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bp()){case Jo:return 1;case wd:return 4;case Js:case Sp:return 16;case xd:return 536870912;default:return 16}default:return 16}}var jt=null,Zo=null,Us=null;function Td(){if(Us)return Us;var e,t=Zo,r=t.length,n,s="value"in jt?jt.value:jt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Us=s.slice(e,1<n?1-n:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function ou(){return!1}function Ue(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xs:ou,this.isPropagationStopped=ou,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=Ue(tn),as=J({},tn,{view:0,detail:0}),Up=Ue(as),Zi,ea,hn,Si=J({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&e.type==="mousemove"?(Zi=e.screenX-hn.screenX,ea=e.screenY-hn.screenY):ea=Zi=0,hn=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),lu=Ue(Si),Dp=J({},Si,{dataTransfer:0}),Mp=Ue(Dp),zp=J({},as,{relatedTarget:0}),ta=Ue(zp),Bp=J({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=Ue(Bp),Vp=J({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wp=Ue(Vp),qp=J({},tn,{data:0}),uu=Ue(qp),Hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gp[e])?!!t[e]:!1}function tl(){return Jp}var Qp=J({},as,{key:function(e){if(e.key){var t=Hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tl,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xp=Ue(Qp),Yp=J({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=Ue(Yp),Zp=J({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tl}),em=Ue(Zp),tm=J({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rm=Ue(tm),nm=J({},Si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sm=Ue(nm),im=[9,13,27,32],rl=ht&&"CompositionEvent"in window,bn=null;ht&&"documentMode"in document&&(bn=document.documentMode);var am=ht&&"TextEvent"in window&&!bn,Pd=ht&&(!rl||bn&&8<bn&&11>=bn),du=" ",hu=!1;function Od(e,t){switch(e){case"keyup":return im.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function om(e,t){switch(e){case"compositionend":return Rd(t);case"keypress":return t.which!==32?null:(hu=!0,du);case"textInput":return e=t.data,e===du&&hu?null:e;default:return null}}function lm(e,t){if(Nr)return e==="compositionend"||!rl&&Od(e,t)?(e=Td(),Us=Zo=jt=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!um[e.type]:t==="textarea"}function Ad(e,t,r,n){cd(n),t=Zs(t,"onChange"),0<t.length&&(r=new el("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sn=null,Mn=null;function cm(e){Wd(e,0)}function Ei(e){var t=Pr(e);if(nd(t))return e}function dm(e,t){if(e==="change")return t}var Id=!1;if(ht){var ra;if(ht){var na="oninput"in document;if(!na){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),na=typeof pu.oninput=="function"}ra=na}else ra=!1;Id=ra&&(!document.documentMode||9<document.documentMode)}function mu(){Sn&&(Sn.detachEvent("onpropertychange",$d),Mn=Sn=null)}function $d(e){if(e.propertyName==="value"&&Ei(Mn)){var t=[];Ad(t,Mn,e,Go(e)),pd(cm,t)}}function hm(e,t,r){e==="focusin"?(mu(),Sn=t,Mn=r,Sn.attachEvent("onpropertychange",$d)):e==="focusout"&&mu()}function fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(Mn)}function pm(e,t){if(e==="click")return Ei(t)}function mm(e,t){if(e==="input"||e==="change")return Ei(t)}function gm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:gm;function zn(e,t){if(et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Oa.call(t,s)||!et(e[s],t[s]))return!1}return!0}function gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vu(e,t){var r=gu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gu(r)}}function Ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ud(){for(var e=window,t=Hs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hs(e.document)}return t}function nl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vm(e){var t=Ud(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ld(r.ownerDocument.documentElement,r)){if(n!==null&&nl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=vu(r,i);var a=vu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ym=ht&&"documentMode"in document&&11>=document.documentMode,Cr=null,Qa=null,En=null,Xa=!1;function yu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xa||Cr==null||Cr!==Hs(n)||(n=Cr,"selectionStart"in n&&nl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),En&&zn(En,n)||(En=n,n=Zs(Qa,"onSelect"),0<n.length&&(t=new el("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Cr)))}function _s(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Tr={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},sa={},Dd={};ht&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function ji(e){if(sa[e])return sa[e];if(!Tr[e])return e;var t=Tr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Dd)return sa[e]=t[r];return e}var Md=ji("animationend"),zd=ji("animationiteration"),Bd=ji("animationstart"),Fd=ji("transitionend"),Vd=new Map,wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zt(e,t){Vd.set(e,t),hr(t,[e])}for(var ia=0;ia<wu.length;ia++){var aa=wu[ia],wm=aa.toLowerCase(),xm=aa[0].toUpperCase()+aa.slice(1);zt(wm,"on"+xm)}zt(Md,"onAnimationEnd");zt(zd,"onAnimationIteration");zt(Bd,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(Fd,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_m=new Set("cancel close invalid load scroll toggle".split(" ").concat(wn));function xu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wp(n,t,void 0,e),e.currentTarget=null}function Wd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;xu(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;xu(s,o,c),i=l}}}if(Gs)throw e=Ha,Gs=!1,Ha=null,e}function V(e,t){var r=t[ro];r===void 0&&(r=t[ro]=new Set);var n=e+"__bubble";r.has(n)||(qd(t,e,2,!1),r.add(n))}function oa(e,t,r){var n=0;t&&(n|=4),qd(r,e,n,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[ks]){e[ks]=!0,Yc.forEach(function(r){r!=="selectionchange"&&(_m.has(r)||oa(r,!1,e),oa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,oa("selectionchange",!1,t))}}function qd(e,t,r,n){switch(Cd(t)){case 1:var s=$p;break;case 4:s=Lp;break;default:s=Yo}r=s.bind(null,t,r,e),s=void 0,!qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function la(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=tr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}pd(function(){var c=i,d=Go(r),h=[];e:{var p=Vd.get(e);if(p!==void 0){var w=el,v=e;switch(e){case"keypress":if(Ds(r)===0)break e;case"keydown":case"keyup":w=Xp;break;case"focusin":v="focus",w=ta;break;case"focusout":v="blur",w=ta;break;case"beforeblur":case"afterblur":w=ta;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=em;break;case Md:case zd:case Bd:w=Fp;break;case Fd:w=rm;break;case"scroll":w=Up;break;case"wheel":w=sm;break;case"copy":case"cut":case"paste":w=Wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=cu}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var f=c,m;f!==null;){m=f;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,y!==null&&(_=$n(f,y),_!=null&&g.push(Fn(f,_,m)))),x)break;f=f.return}0<g.length&&(p=new w(p,v,null,r,d),h.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",p&&r!==Va&&(v=r.relatedTarget||r.fromElement)&&(tr(v)||v[ft]))break e;if((w||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,w?(v=r.relatedTarget||r.toElement,w=c,v=v?tr(v):null,v!==null&&(x=fr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=c),w!==v)){if(g=lu,_="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(g=cu,_="onPointerLeave",y="onPointerEnter",f="pointer"),x=w==null?p:Pr(w),m=v==null?p:Pr(v),p=new g(_,f+"leave",w,r,d),p.target=x,p.relatedTarget=m,_=null,tr(d)===c&&(g=new g(y,f+"enter",v,r,d),g.target=m,g.relatedTarget=x,_=g),x=_,w&&v)t:{for(g=w,y=v,f=0,m=g;m;m=mr(m))f++;for(m=0,_=y;_;_=mr(_))m++;for(;0<f-m;)g=mr(g),f--;for(;0<m-f;)y=mr(y),m--;for(;f--;){if(g===y||y!==null&&g===y.alternate)break t;g=mr(g),y=mr(y)}g=null}else g=null;w!==null&&_u(h,p,w,g,!1),v!==null&&x!==null&&_u(h,x,v,g,!0)}}e:{if(p=c?Pr(c):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var b=dm;else if(fu(p))if(Id)b=mm;else{b=fm;var S=hm}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=pm);if(b&&(b=b(e,c))){Ad(h,b,r,d);break e}S&&S(e,p,c),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Da(p,"number",p.value)}switch(S=c?Pr(c):window,e){case"focusin":(fu(S)||S.contentEditable==="true")&&(Cr=S,Qa=c,En=null);break;case"focusout":En=Qa=Cr=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,yu(h,r,d);break;case"selectionchange":if(ym)break;case"keydown":case"keyup":yu(h,r,d)}var j;if(rl)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Nr?Od(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Pd&&r.locale!=="ko"&&(Nr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Nr&&(j=Td()):(jt=d,Zo="value"in jt?jt.value:jt.textContent,Nr=!0)),S=Zs(c,C),0<S.length&&(C=new uu(C,e,null,r,d),h.push({event:C,listeners:S}),j?C.data=j:(j=Rd(r),j!==null&&(C.data=j)))),(j=am?om(e,r):lm(e,r))&&(c=Zs(c,"onBeforeInput"),0<c.length&&(d=new uu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=j))}Wd(h,t)})}function Fn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zs(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$n(e,r),i!=null&&n.unshift(Fn(e,i,s)),i=$n(e,t),i!=null&&n.push(Fn(e,i,s))),e=e.return}return n}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _u(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=$n(r,i),l!=null&&a.unshift(Fn(r,l,o))):s||(l=$n(r,i),l!=null&&a.push(Fn(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var km=/\r\n?/g,bm=/\u0000|\uFFFD/g;function ku(e){return(typeof e=="string"?e:""+e).replace(km,`
`).replace(bm,"")}function bs(e,t,r){if(t=ku(t),ku(e)!==t&&r)throw Error(E(425))}function ei(){}var Ya=null,Za=null;function eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var to=typeof setTimeout=="function"?setTimeout:void 0,Sm=typeof clearTimeout=="function"?clearTimeout:void 0,bu=typeof Promise=="function"?Promise:void 0,Em=typeof queueMicrotask=="function"?queueMicrotask:typeof bu<"u"?function(e){return bu.resolve(null).then(e).catch(jm)}:to;function jm(e){setTimeout(function(){throw e})}function ua(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Dn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Dn(t)}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Su(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rn=Math.random().toString(36).slice(2),nt="__reactFiber$"+rn,Vn="__reactProps$"+rn,ft="__reactContainer$"+rn,ro="__reactEvents$"+rn,Nm="__reactListeners$"+rn,Cm="__reactHandles$"+rn;function tr(e){var t=e[nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ft]||r[nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Su(e);e!==null;){if(r=e[nt])return r;e=Su(e)}return t}e=r,r=e.parentNode}return null}function os(e){return e=e[nt]||e[ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Ni(e){return e[Vn]||null}var no=[],Or=-1;function Bt(e){return{current:e}}function W(e){0>Or||(e.current=no[Or],no[Or]=null,Or--)}function B(e,t){Or++,no[Or]=e.current,e.current=t}var Mt={},ve=Bt(Mt),je=Bt(!1),or=Mt;function Kr(e,t){var r=e.type.contextTypes;if(!r)return Mt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(e){return e=e.childContextTypes,e!=null}function ti(){W(je),W(ve)}function Eu(e,t,r){if(ve.current!==Mt)throw Error(E(168));B(ve,t),B(je,r)}function Hd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,hp(e)||"Unknown",s));return J({},r,n)}function ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mt,or=ve.current,B(ve,e),B(je,je.current),!0}function ju(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Hd(e,t,or),n.__reactInternalMemoizedMergedChildContext=e,W(je),W(ve),B(ve,e)):W(je),B(je,r)}var lt=null,Ci=!1,ca=!1;function Kd(e){lt===null?lt=[e]:lt.push(e)}function Tm(e){Ci=!0,Kd(e)}function Ft(){if(!ca&&lt!==null){ca=!0;var e=0,t=M;try{var r=lt;for(M=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lt=null,Ci=!1}catch(s){throw lt!==null&&(lt=lt.slice(e+1)),yd(Jo,Ft),s}finally{M=t,ca=!1}}return null}var Rr=[],Ar=0,ni=null,si=0,De=[],Me=0,lr=null,ut=1,ct="";function Jt(e,t){Rr[Ar++]=si,Rr[Ar++]=ni,ni=e,si=t}function Gd(e,t,r){De[Me++]=ut,De[Me++]=ct,De[Me++]=lr,lr=e;var n=ut;e=ct;var s=32-Ye(n)-1;n&=~(1<<s),r+=1;var i=32-Ye(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ut=1<<32-Ye(t)+s|r<<s|n,ct=i+e}else ut=1<<i|r<<s|n,ct=e}function sl(e){e.return!==null&&(Jt(e,1),Gd(e,1,0))}function il(e){for(;e===ni;)ni=Rr[--Ar],Rr[Ar]=null,si=Rr[--Ar],Rr[Ar]=null;for(;e===lr;)lr=De[--Me],De[Me]=null,ct=De[--Me],De[Me]=null,ut=De[--Me],De[Me]=null}var Ie=null,Ae=null,q=!1,Xe=null;function Jd(e,t){var r=ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Nu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=Rt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=lr!==null?{id:ut,overflow:ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ie=e,Ae=null,!0):!1;default:return!1}}function so(e){return(e.mode&1)!==0&&(e.flags&128)===0}function io(e){if(q){var t=Ae;if(t){var r=t;if(!Nu(e,t)){if(so(e))throw Error(E(418));t=Rt(r.nextSibling);var n=Ie;t&&Nu(e,t)?Jd(n,r):(e.flags=e.flags&-4097|2,q=!1,Ie=e)}}else{if(so(e))throw Error(E(418));e.flags=e.flags&-4097|2,q=!1,Ie=e}}}function Cu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function Ss(e){if(e!==Ie)return!1;if(!q)return Cu(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eo(e.type,e.memoizedProps)),t&&(t=Ae)){if(so(e))throw Qd(),Error(E(418));for(;t;)Jd(e,t),t=Rt(t.nextSibling)}if(Cu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ae=Rt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?Rt(e.stateNode.nextSibling):null;return!0}function Qd(){for(var e=Ae;e;)e=Rt(e.nextSibling)}function Gr(){Ae=Ie=null,q=!1}function al(e){Xe===null?Xe=[e]:Xe.push(e)}var Pm=gt.ReactCurrentBatchConfig;function fn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tu(e){var t=e._init;return t(e._payload)}function Xd(e){function t(y,f){if(e){var m=y.deletions;m===null?(y.deletions=[f],y.flags|=16):m.push(f)}}function r(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function n(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function s(y,f){return y=Lt(y,f),y.index=0,y.sibling=null,y}function i(y,f,m){return y.index=m,e?(m=y.alternate,m!==null?(m=m.index,m<f?(y.flags|=2,f):m):(y.flags|=2,f)):(y.flags|=1048576,f)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,f,m,_){return f===null||f.tag!==6?(f=va(m,y.mode,_),f.return=y,f):(f=s(f,m),f.return=y,f)}function l(y,f,m,_){var b=m.type;return b===jr?d(y,f,m.props.children,_,m.key):f!==null&&(f.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===xt&&Tu(b)===f.type)?(_=s(f,m.props),_.ref=fn(y,f,m),_.return=y,_):(_=qs(m.type,m.key,m.props,null,y.mode,_),_.ref=fn(y,f,m),_.return=y,_)}function c(y,f,m,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=ya(m,y.mode,_),f.return=y,f):(f=s(f,m.children||[]),f.return=y,f)}function d(y,f,m,_,b){return f===null||f.tag!==7?(f=ar(m,y.mode,_,b),f.return=y,f):(f=s(f,m),f.return=y,f)}function h(y,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=va(""+f,y.mode,m),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ps:return m=qs(f.type,f.key,f.props,null,y.mode,m),m.ref=fn(y,null,f),m.return=y,m;case Er:return f=ya(f,y.mode,m),f.return=y,f;case xt:var _=f._init;return h(y,_(f._payload),m)}if(vn(f)||ln(f))return f=ar(f,y.mode,m,null),f.return=y,f;Es(y,f)}return null}function p(y,f,m,_){var b=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:o(y,f,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ps:return m.key===b?l(y,f,m,_):null;case Er:return m.key===b?c(y,f,m,_):null;case xt:return b=m._init,p(y,f,b(m._payload),_)}if(vn(m)||ln(m))return b!==null?null:d(y,f,m,_,null);Es(y,m)}return null}function w(y,f,m,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(m)||null,o(f,y,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ps:return y=y.get(_.key===null?m:_.key)||null,l(f,y,_,b);case Er:return y=y.get(_.key===null?m:_.key)||null,c(f,y,_,b);case xt:var S=_._init;return w(y,f,m,S(_._payload),b)}if(vn(_)||ln(_))return y=y.get(m)||null,d(f,y,_,b,null);Es(f,_)}return null}function v(y,f,m,_){for(var b=null,S=null,j=f,C=f=0,U=null;j!==null&&C<m.length;C++){j.index>C?(U=j,j=null):U=j.sibling;var I=p(y,j,m[C],_);if(I===null){j===null&&(j=U);break}e&&j&&I.alternate===null&&t(y,j),f=i(I,f,C),S===null?b=I:S.sibling=I,S=I,j=U}if(C===m.length)return r(y,j),q&&Jt(y,C),b;if(j===null){for(;C<m.length;C++)j=h(y,m[C],_),j!==null&&(f=i(j,f,C),S===null?b=j:S.sibling=j,S=j);return q&&Jt(y,C),b}for(j=n(y,j);C<m.length;C++)U=w(j,y,C,m[C],_),U!==null&&(e&&U.alternate!==null&&j.delete(U.key===null?C:U.key),f=i(U,f,C),S===null?b=U:S.sibling=U,S=U);return e&&j.forEach(function(We){return t(y,We)}),q&&Jt(y,C),b}function g(y,f,m,_){var b=ln(m);if(typeof b!="function")throw Error(E(150));if(m=b.call(m),m==null)throw Error(E(151));for(var S=b=null,j=f,C=f=0,U=null,I=m.next();j!==null&&!I.done;C++,I=m.next()){j.index>C?(U=j,j=null):U=j.sibling;var We=p(y,j,I.value,_);if(We===null){j===null&&(j=U);break}e&&j&&We.alternate===null&&t(y,j),f=i(We,f,C),S===null?b=We:S.sibling=We,S=We,j=U}if(I.done)return r(y,j),q&&Jt(y,C),b;if(j===null){for(;!I.done;C++,I=m.next())I=h(y,I.value,_),I!==null&&(f=i(I,f,C),S===null?b=I:S.sibling=I,S=I);return q&&Jt(y,C),b}for(j=n(y,j);!I.done;C++,I=m.next())I=w(j,y,C,I.value,_),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?C:I.key),f=i(I,f,C),S===null?b=I:S.sibling=I,S=I);return e&&j.forEach(function(an){return t(y,an)}),q&&Jt(y,C),b}function x(y,f,m,_){if(typeof m=="object"&&m!==null&&m.type===jr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ps:e:{for(var b=m.key,S=f;S!==null;){if(S.key===b){if(b=m.type,b===jr){if(S.tag===7){r(y,S.sibling),f=s(S,m.props.children),f.return=y,y=f;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===xt&&Tu(b)===S.type){r(y,S.sibling),f=s(S,m.props),f.ref=fn(y,S,m),f.return=y,y=f;break e}r(y,S);break}else t(y,S);S=S.sibling}m.type===jr?(f=ar(m.props.children,y.mode,_,m.key),f.return=y,y=f):(_=qs(m.type,m.key,m.props,null,y.mode,_),_.ref=fn(y,f,m),_.return=y,y=_)}return a(y);case Er:e:{for(S=m.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(y,f.sibling),f=s(f,m.children||[]),f.return=y,y=f;break e}else{r(y,f);break}else t(y,f);f=f.sibling}f=ya(m,y.mode,_),f.return=y,y=f}return a(y);case xt:return S=m._init,x(y,f,S(m._payload),_)}if(vn(m))return v(y,f,m,_);if(ln(m))return g(y,f,m,_);Es(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(y,f.sibling),f=s(f,m),f.return=y,y=f):(r(y,f),f=va(m,y.mode,_),f.return=y,y=f),a(y)):r(y,f)}return x}var Jr=Xd(!0),Yd=Xd(!1),ii=Bt(null),ai=null,Ir=null,ol=null;function ll(){ol=Ir=ai=null}function ul(e){var t=ii.current;W(ii),e._currentValue=t}function ao(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vr(e,t){ai=e,ol=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function Fe(e){var t=e._currentValue;if(ol!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(ai===null)throw Error(E(308));Ir=e,ai.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var rr=null;function cl(e){rr===null?rr=[e]:rr.push(e)}function Zd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,cl(t)):(r.next=s.next,s.next=r),t.interleaved=r,pt(e,n)}function pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _t=!1;function dl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function At(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,pt(e,r)}return s=n.interleaved,s===null?(t.next=t,cl(n)):(t.next=s.next,s.next=t),n.interleaved=t,pt(e,r)}function Ms(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qo(e,r)}}function Pu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function oi(e,t,r,n){var s=e.updateQueue;_t=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=c=l=null,o=i;do{var p=o.lane,w=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,g=o;switch(p=t,w=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(w,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(w,h,p):v,p==null)break e;h=J({},h,p);break e;case 2:_t=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else w={eventTime:w,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=w,l=h):d=d.next=w,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);cr|=a,e.lanes=a,e.memoizedState=h}}function Ou(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ls={},it=Bt(ls),Wn=Bt(ls),qn=Bt(ls);function nr(e){if(e===ls)throw Error(E(174));return e}function hl(e,t){switch(B(qn,t),B(Wn,e),B(it,ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:za(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=za(t,e)}W(it),B(it,t)}function Qr(){W(it),W(Wn),W(qn)}function th(e){nr(qn.current);var t=nr(it.current),r=za(t,e.type);t!==r&&(B(Wn,e),B(it,r))}function fl(e){Wn.current===e&&(W(it),W(Wn))}var K=Bt(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=[];function pl(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var zs=gt.ReactCurrentDispatcher,ha=gt.ReactCurrentBatchConfig,ur=0,G=null,se=null,oe=null,ui=!1,jn=!1,Hn=0,Om=0;function pe(){throw Error(E(321))}function ml(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!et(e[r],t[r]))return!1;return!0}function gl(e,t,r,n,s,i){if(ur=i,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zs.current=e===null||e.memoizedState===null?$m:Lm,e=r(n,s),jn){i=0;do{if(jn=!1,Hn=0,25<=i)throw Error(E(301));i+=1,oe=se=null,t.updateQueue=null,zs.current=Um,e=r(n,s)}while(jn)}if(zs.current=ci,t=se!==null&&se.next!==null,ur=0,oe=se=G=null,ui=!1,t)throw Error(E(300));return e}function vl(){var e=Hn!==0;return Hn=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?G.memoizedState=oe=e:oe=oe.next=e,oe}function Ve(){if(se===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=oe===null?G.memoizedState:oe.next;if(t!==null)oe=t,se=e;else{if(e===null)throw Error(E(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},oe===null?G.memoizedState=oe=e:oe=oe.next=e}return oe}function Kn(e,t){return typeof t=="function"?t(e):t}function fa(e){var t=Ve(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((ur&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,G.lanes|=d,cr|=d}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,et(n,t.memoizedState)||(Ee=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,G.lanes|=i,cr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pa(e){var t=Ve(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);et(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function rh(){}function nh(e,t){var r=G,n=Ve(),s=t(),i=!et(n.memoizedState,s);if(i&&(n.memoizedState=s,Ee=!0),n=n.queue,yl(ah.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||oe!==null&&oe.memoizedState.tag&1){if(r.flags|=2048,Gn(9,ih.bind(null,r,n,s,t),void 0,null),le===null)throw Error(E(349));ur&30||sh(r,t,s)}return s}function sh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ih(e,t,r,n){t.value=r,t.getSnapshot=n,oh(t)&&lh(e)}function ah(e,t,r){return r(function(){oh(t)&&lh(e)})}function oh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!et(e,r)}catch{return!0}}function lh(e){var t=pt(e,1);t!==null&&Ze(t,e,1,-1)}function Ru(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:e},t.queue=e,e=e.dispatch=Im.bind(null,G,e),[t.memoizedState,e]}function Gn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uh(){return Ve().memoizedState}function Bs(e,t,r,n){var s=rt();G.flags|=e,s.memoizedState=Gn(1|t,r,void 0,n===void 0?null:n)}function Ti(e,t,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(se!==null){var a=se.memoizedState;if(i=a.destroy,n!==null&&ml(n,a.deps)){s.memoizedState=Gn(t,r,i,n);return}}G.flags|=e,s.memoizedState=Gn(1|t,r,i,n)}function Au(e,t){return Bs(8390656,8,e,t)}function yl(e,t){return Ti(2048,8,e,t)}function ch(e,t){return Ti(4,2,e,t)}function dh(e,t){return Ti(4,4,e,t)}function hh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fh(e,t,r){return r=r!=null?r.concat([e]):null,Ti(4,4,hh.bind(null,t,e),r)}function wl(){}function ph(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ml(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mh(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ml(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gh(e,t,r){return ur&21?(et(r,t)||(r=_d(),G.lanes|=r,cr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=r)}function Rm(e,t){var r=M;M=r!==0&&4>r?r:4,e(!0);var n=ha.transition;ha.transition={};try{e(!1),t()}finally{M=r,ha.transition=n}}function vh(){return Ve().memoizedState}function Am(e,t,r){var n=$t(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yh(e))wh(t,r);else if(r=Zd(e,t,r,n),r!==null){var s=we();Ze(r,e,n,s),xh(r,t,n)}}function Im(e,t,r){var n=$t(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yh(e))wh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,et(o,a)){var l=t.interleaved;l===null?(s.next=s,cl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Zd(e,t,s,n),r!==null&&(s=we(),Ze(r,e,n,s),xh(r,t,n))}}function yh(e){var t=e.alternate;return e===G||t!==null&&t===G}function wh(e,t){jn=ui=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qo(e,r)}}var ci={readContext:Fe,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},$m={readContext:Fe,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Au,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bs(4194308,4,hh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var r=rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Am.bind(null,G,e),[n.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:Ru,useDebugValue:wl,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=Ru(!1),t=e[0];return e=Rm.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=G,s=rt();if(q){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),le===null)throw Error(E(349));ur&30||sh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Au(ah.bind(null,n,i,e),[e]),n.flags|=2048,Gn(9,ih.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rt(),t=le.identifierPrefix;if(q){var r=ct,n=ut;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Om++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lm={readContext:Fe,useCallback:ph,useContext:Fe,useEffect:yl,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:mh,useReducer:fa,useRef:uh,useState:function(){return fa(Kn)},useDebugValue:wl,useDeferredValue:function(e){var t=Ve();return gh(t,se.memoizedState,e)},useTransition:function(){var e=fa(Kn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:nh,useId:vh,unstable_isNewReconciler:!1},Um={readContext:Fe,useCallback:ph,useContext:Fe,useEffect:yl,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:mh,useReducer:pa,useRef:uh,useState:function(){return pa(Kn)},useDebugValue:wl,useDeferredValue:function(e){var t=Ve();return se===null?t.memoizedState=e:gh(t,se.memoizedState,e)},useTransition:function(){var e=pa(Kn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:nh,useId:vh,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function oo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:J({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Pi={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=we(),s=$t(e),i=dt(n,s);i.payload=t,r!=null&&(i.callback=r),t=At(e,i,s),t!==null&&(Ze(t,e,s,n),Ms(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=we(),s=$t(e),i=dt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=At(e,i,s),t!==null&&(Ze(t,e,s,n),Ms(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=we(),n=$t(e),s=dt(r,n);s.tag=2,t!=null&&(s.callback=t),t=At(e,s,n),t!==null&&(Ze(t,e,n,r),Ms(t,e,n))}};function Iu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!zn(r,n)||!zn(s,i):!0}function _h(e,t,r){var n=!1,s=Mt,i=t.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(s=Ne(t)?or:ve.current,n=t.contextTypes,i=(n=n!=null)?Kr(e,s):Mt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function $u(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function lo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},dl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Fe(i):(i=Ne(t)?or:ve.current,s.context=Kr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(oo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pi.enqueueReplaceState(s,s.state,null),oi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",n=t;do r+=dp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ma(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function kh(e,t,r){r=dt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hi||(hi=!0,xo=n),uo(e,t)},r}function bh(e,t,r){r=dt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){uo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){uo(e,t),typeof n!="function"&&(It===null?It=new Set([this]):It.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Lu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Dm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ym.bind(null,e,t,r),t.then(e,e))}function Uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Du(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dt(-1,1),t.tag=2,At(r,t,1))),r.lanes|=1),e)}var Mm=gt.ReactCurrentOwner,Ee=!1;function ye(e,t,r,n){t.child=e===null?Yd(t,null,r,n):Jr(t,e.child,r,n)}function Mu(e,t,r,n,s){r=r.render;var i=t.ref;return Vr(t,s),n=gl(e,t,r,n,i,s),r=vl(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mt(e,t,s)):(q&&r&&sl(t),t.flags|=1,ye(e,t,n,s),t.child)}function zu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Nl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Sh(e,t,i,n,s)):(e=qs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:zn,r(a,n)&&e.ref===t.ref)return mt(e,t,s)}return t.flags|=1,e=Lt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Sh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(zn(i,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,mt(e,t,s)}return co(e,t,r,n,s)}function Eh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(Lr,Pe),Pe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,B(Lr,Pe),Pe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,B(Lr,Pe),Pe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,B(Lr,Pe),Pe|=n;return ye(e,t,s,r),t.child}function jh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function co(e,t,r,n,s){var i=Ne(r)?or:ve.current;return i=Kr(t,i),Vr(t,s),r=gl(e,t,r,n,i,s),n=vl(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mt(e,t,s)):(q&&n&&sl(t),t.flags|=1,ye(e,t,r,s),t.child)}function Bu(e,t,r,n,s){if(Ne(r)){var i=!0;ri(t)}else i=!1;if(Vr(t,s),t.stateNode===null)Fs(e,t),_h(t,r,n),lo(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Fe(c):(c=Ne(r)?or:ve.current,c=Kr(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&$u(t,a,n,c),_t=!1;var p=t.memoizedState;a.state=p,oi(t,n,a,s),l=t.memoizedState,o!==n||p!==l||je.current||_t?(typeof d=="function"&&(oo(t,r,d,n),l=t.memoizedState),(o=_t||Iu(t,r,o,n,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,eh(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ke(t.type,o),a.props=c,h=t.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fe(l):(l=Ne(r)?or:ve.current,l=Kr(t,l));var w=r.getDerivedStateFromProps;(d=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&$u(t,a,n,l),_t=!1,p=t.memoizedState,a.state=p,oi(t,n,a,s);var v=t.memoizedState;o!==h||p!==v||je.current||_t?(typeof w=="function"&&(oo(t,r,w,n),v=t.memoizedState),(c=_t||Iu(t,r,c,n,p,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ho(e,t,r,n,i,s)}function ho(e,t,r,n,s,i){jh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&ju(t,r,!1),mt(e,t,i);n=t.stateNode,Mm.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Jr(t,e.child,null,i),t.child=Jr(t,null,o,i)):ye(e,t,o,i),t.memoizedState=n.state,s&&ju(t,r,!0),t.child}function Nh(e){var t=e.stateNode;t.pendingContext?Eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Eu(e,t.context,!1),hl(e,t.containerInfo)}function Fu(e,t,r,n,s){return Gr(),al(s),t.flags|=256,ye(e,t,r,n),t.child}var fo={dehydrated:null,treeContext:null,retryLane:0};function po(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ch(e,t,r){var n=t.pendingProps,s=K.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),B(K,s&1),e===null)return io(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ai(a,n,0,null),e=ar(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=po(r),t.memoizedState=fo,e):xl(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return zm(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Lt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Lt(o,i):(i=ar(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?po(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=fo,n}return i=e.child,e=i.sibling,n=Lt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xl(e,t){return t=Ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function js(e,t,r,n){return n!==null&&al(n),Jr(t,e.child,null,r),e=xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zm(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ma(Error(E(422))),js(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ai({mode:"visible",children:n.children},s,0,null),i=ar(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Jr(t,e.child,null,a),t.child.memoizedState=po(a),t.memoizedState=fo,i);if(!(t.mode&1))return js(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(E(419)),n=ma(i,n,void 0),js(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ee||o){if(n=le,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pt(e,s),Ze(n,e,s,-1))}return jl(),n=ma(Error(E(421))),js(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ae=Rt(s.nextSibling),Ie=t,q=!0,Xe=null,e!==null&&(De[Me++]=ut,De[Me++]=ct,De[Me++]=lr,ut=e.id,ct=e.overflow,lr=t),t=xl(t,n.children),t.flags|=4096,t)}function Vu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ao(e.return,t,r)}function ga(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Th(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ye(e,t,n.children,r),n=K.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vu(e,r,t);else if(e.tag===19)Vu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(B(K,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&li(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ga(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&li(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ga(t,!0,r,null,i);break;case"together":ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Lt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Bm(e,t,r){switch(t.tag){case 3:Nh(t),Gr();break;case 5:th(t);break;case 1:Ne(t.type)&&ri(t);break;case 4:hl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;B(ii,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(B(K,K.current&1),t.flags|=128,null):r&t.child.childLanes?Ch(e,t,r):(B(K,K.current&1),e=mt(e,t,r),e!==null?e.sibling:null);B(K,K.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Th(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(K,K.current),n)break;return null;case 22:case 23:return t.lanes=0,Eh(e,t,r)}return mt(e,t,r)}var Ph,mo,Oh,Rh;Ph=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mo=function(){};Oh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,nr(it.current);var i=null;switch(r){case"input":s=La(e,s),n=La(e,n),i=[];break;case"select":s=J({},s,{value:void 0}),n=J({},n,{value:void 0}),i=[];break;case"textarea":s=Ma(e,s),n=Ma(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ei)}Ba(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(An.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(An.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&V("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Rh=function(e,t,r,n){r!==n&&(t.flags|=4)};function pn(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Fm(e,t,r){var n=t.pendingProps;switch(il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return Ne(t.type)&&ti(),me(t),null;case 3:return n=t.stateNode,Qr(),W(je),W(ve),pl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ss(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(bo(Xe),Xe=null))),mo(e,t),me(t),null;case 5:fl(t);var s=nr(qn.current);if(r=t.type,e!==null&&t.stateNode!=null)Oh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return me(t),null}if(e=nr(it.current),Ss(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[nt]=t,n[Vn]=i,e=(t.mode&1)!==0,r){case"dialog":V("cancel",n),V("close",n);break;case"iframe":case"object":case"embed":V("load",n);break;case"video":case"audio":for(s=0;s<wn.length;s++)V(wn[s],n);break;case"source":V("error",n);break;case"img":case"image":case"link":V("error",n),V("load",n);break;case"details":V("toggle",n);break;case"input":Yl(n,i),V("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},V("invalid",n);break;case"textarea":eu(n,i),V("invalid",n)}Ba(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&bs(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&bs(n.textContent,o,e),s=["children",""+o]):An.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&V("scroll",n)}switch(r){case"input":ms(n),Zl(n,i,!0);break;case"textarea":ms(n),tu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ei)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ad(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[nt]=t,e[Vn]=n,Ph(e,t,!1,!1),t.stateNode=e;e:{switch(a=Fa(r,n),r){case"dialog":V("cancel",e),V("close",e),s=n;break;case"iframe":case"object":case"embed":V("load",e),s=n;break;case"video":case"audio":for(s=0;s<wn.length;s++)V(wn[s],e);s=n;break;case"source":V("error",e),s=n;break;case"img":case"image":case"link":V("error",e),V("load",e),s=n;break;case"details":V("toggle",e),s=n;break;case"input":Yl(e,n),s=La(e,n),V("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=J({},n,{value:void 0}),V("invalid",e);break;case"textarea":eu(e,n),s=Ma(e,n),V("invalid",e);break;default:s=n}Ba(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?ud(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&od(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&In(e,l):typeof l=="number"&&In(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(An.hasOwnProperty(i)?l!=null&&i==="onScroll"&&V("scroll",e):l!=null&&Wo(e,i,l,a))}switch(r){case"input":ms(e),Zl(e,n,!1);break;case"textarea":ms(e),tu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Mr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Mr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ei)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)Rh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=nr(qn.current),nr(it.current),Ss(t)){if(n=t.stateNode,r=t.memoizedProps,n[nt]=t,(i=n.nodeValue!==r)&&(e=Ie,e!==null))switch(e.tag){case 3:bs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=t,t.stateNode=n}return me(t),null;case 13:if(W(K),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Ae!==null&&t.mode&1&&!(t.flags&128))Qd(),Gr(),t.flags|=98560,i=!1;else if(i=Ss(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[nt]=t}else Gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),i=!1}else Xe!==null&&(bo(Xe),Xe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?ie===0&&(ie=3):jl())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return Qr(),mo(e,t),e===null&&Bn(t.stateNode.containerInfo),me(t),null;case 10:return ul(t.type._context),me(t),null;case 17:return Ne(t.type)&&ti(),me(t),null;case 19:if(W(K),i=t.memoizedState,i===null)return me(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)pn(i,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=li(e),a!==null){for(t.flags|=128,pn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return B(K,K.current&1|2),t.child}e=e.sibling}i.tail!==null&&Z()>Yr&&(t.flags|=128,n=!0,pn(i,!1),t.lanes=4194304)}else{if(!n)if(e=li(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!q)return me(t),null}else 2*Z()-i.renderingStartTime>Yr&&r!==1073741824&&(t.flags|=128,n=!0,pn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Z(),t.sibling=null,r=K.current,B(K,n?r&1|2:r&1),t):(me(t),null);case 22:case 23:return El(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Pe&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Vm(e,t){switch(il(t),t.tag){case 1:return Ne(t.type)&&ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),W(je),W(ve),pl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fl(t),null;case 13:if(W(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(K),null;case 4:return Qr(),null;case 10:return ul(t.type._context),null;case 22:case 23:return El(),null;case 24:return null;default:return null}}var Ns=!1,ge=!1,Wm=typeof WeakSet=="function"?WeakSet:Set,N=null;function $r(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){X(e,t,n)}else r.current=null}function go(e,t,r){try{r()}catch(n){X(e,t,n)}}var Wu=!1;function qm(e,t){if(Ya=Xs,e=Ud(),nl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var w;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(w=h.firstChild)!==null;)p=h,h=w;for(;;){if(h===e)break t;if(p===r&&++c===s&&(o=a),p===i&&++d===n&&(l=a),(w=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=w}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Za={focusedElem:e,selectionRange:r},Xs=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ke(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){X(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return v=Wu,Wu=!1,v}function Nn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&go(t,r,i)}s=s.next}while(s!==n)}}function Oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ah(e){var t=e.alternate;t!==null&&(e.alternate=null,Ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[Vn],delete t[ro],delete t[Nm],delete t[Cm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ih(e){return e.tag===5||e.tag===3||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ei));else if(n!==4&&(e=e.child,e!==null))for(yo(e,t,r),e=e.sibling;e!==null;)yo(e,t,r),e=e.sibling}function wo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wo(e,t,r),e=e.sibling;e!==null;)wo(e,t,r),e=e.sibling}var de=null,Je=!1;function yt(e,t,r){for(r=r.child;r!==null;)$h(e,t,r),r=r.sibling}function $h(e,t,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(bi,r)}catch{}switch(r.tag){case 5:ge||$r(r,t);case 6:var n=de,s=Je;de=null,yt(e,t,r),de=n,Je=s,de!==null&&(Je?(e=de,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Je?(e=de,r=r.stateNode,e.nodeType===8?ua(e.parentNode,r):e.nodeType===1&&ua(e,r),Dn(e)):ua(de,r.stateNode));break;case 4:n=de,s=Je,de=r.stateNode.containerInfo,Je=!0,yt(e,t,r),de=n,Je=s;break;case 0:case 11:case 14:case 15:if(!ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&go(r,t,a),s=s.next}while(s!==n)}yt(e,t,r);break;case 1:if(!ge&&($r(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){X(r,t,o)}yt(e,t,r);break;case 21:yt(e,t,r);break;case 22:r.mode&1?(ge=(n=ge)||r.memoizedState!==null,yt(e,t,r),ge=n):yt(e,t,r);break;default:yt(e,t,r)}}function Hu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Wm),t.forEach(function(n){var s=eg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function qe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:de=o.stateNode,Je=!1;break e;case 3:de=o.stateNode.containerInfo,Je=!0;break e;case 4:de=o.stateNode.containerInfo,Je=!0;break e}o=o.return}if(de===null)throw Error(E(160));$h(i,a,s),de=null,Je=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){X(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}function Lh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),tt(e),n&4){try{Nn(3,e,e.return),Oi(3,e)}catch(g){X(e,e.return,g)}try{Nn(5,e,e.return)}catch(g){X(e,e.return,g)}}break;case 1:qe(t,e),tt(e),n&512&&r!==null&&$r(r,r.return);break;case 5:if(qe(t,e),tt(e),n&512&&r!==null&&$r(r,r.return),e.flags&32){var s=e.stateNode;try{In(s,"")}catch(g){X(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&sd(s,i),Fa(o,a);var c=Fa(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?ud(s,h):d==="dangerouslySetInnerHTML"?od(s,h):d==="children"?In(s,h):Wo(s,d,h,c)}switch(o){case"input":Ua(s,i);break;case"textarea":id(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Mr(s,!!i.multiple,w,!1):p!==!!i.multiple&&(i.defaultValue!=null?Mr(s,!!i.multiple,i.defaultValue,!0):Mr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vn]=i}catch(g){X(e,e.return,g)}}break;case 6:if(qe(t,e),tt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){X(e,e.return,g)}}break;case 3:if(qe(t,e),tt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dn(t.containerInfo)}catch(g){X(e,e.return,g)}break;case 4:qe(t,e),tt(e);break;case 13:qe(t,e),tt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bl=Z())),n&4&&Hu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ge=(c=ge)||d,qe(t,e),ge=c):qe(t,e),tt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(N=e,d=e.child;d!==null;){for(h=N=d;N!==null;){switch(p=N,w=p.child,p.tag){case 0:case 11:case 14:case 15:Nn(4,p,p.return);break;case 1:$r(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){X(n,r,g)}}break;case 5:$r(p,p.return);break;case 22:if(p.memoizedState!==null){Gu(h);continue}}w!==null?(w.return=p,N=w):Gu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ld("display",a))}catch(g){X(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){X(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qe(t,e),tt(e),n&4&&Hu(e);break;case 21:break;default:qe(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ih(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(In(s,""),n.flags&=-33);var i=qu(e);wo(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=qu(e);yo(e,o,a);break;default:throw Error(E(161))}}catch(l){X(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hm(e,t,r){N=e,Uh(e)}function Uh(e,t,r){for(var n=(e.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ns;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||ge;o=Ns;var c=ge;if(Ns=a,(ge=l)&&!c)for(N=s;N!==null;)a=N,l=a.child,a.tag===22&&a.memoizedState!==null?Ju(s):l!==null?(l.return=a,N=l):Ju(s);for(;i!==null;)N=i,Uh(i),i=i.sibling;N=s,Ns=o,ge=c}Ku(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):Ku(e)}}function Ku(e){for(;N!==null;){var t=N;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ge||Oi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ge)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ke(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ou(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ou(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ge||t.flags&512&&vo(t)}catch(p){X(t,t.return,p)}}if(t===e){N=null;break}if(r=t.sibling,r!==null){r.return=t.return,N=r;break}N=t.return}}function Gu(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var r=t.sibling;if(r!==null){r.return=t.return,N=r;break}N=t.return}}function Ju(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Oi(4,t)}catch(l){X(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){X(t,s,l)}}var i=t.return;try{vo(t)}catch(l){X(t,i,l)}break;case 5:var a=t.return;try{vo(t)}catch(l){X(t,a,l)}}}catch(l){X(t,t.return,l)}if(t===e){N=null;break}var o=t.sibling;if(o!==null){o.return=t.return,N=o;break}N=t.return}}var Km=Math.ceil,di=gt.ReactCurrentDispatcher,_l=gt.ReactCurrentOwner,Be=gt.ReactCurrentBatchConfig,D=0,le=null,re=null,he=0,Pe=0,Lr=Bt(0),ie=0,Jn=null,cr=0,Ri=0,kl=0,Cn=null,be=null,bl=0,Yr=1/0,at=null,hi=!1,xo=null,It=null,Cs=!1,Nt=null,fi=0,Tn=0,_o=null,Vs=-1,Ws=0;function we(){return D&6?Z():Vs!==-1?Vs:Vs=Z()}function $t(e){return e.mode&1?D&2&&he!==0?he&-he:Pm.transition!==null?(Ws===0&&(Ws=_d()),Ws):(e=M,e!==0||(e=window.event,e=e===void 0?16:Cd(e.type)),e):1}function Ze(e,t,r,n){if(50<Tn)throw Tn=0,_o=null,Error(E(185));is(e,r,n),(!(D&2)||e!==le)&&(e===le&&(!(D&2)&&(Ri|=r),ie===4&&St(e,he)),Ce(e,n),r===1&&D===0&&!(t.mode&1)&&(Yr=Z()+500,Ci&&Ft()))}function Ce(e,t){var r=e.callbackNode;Pp(e,t);var n=Qs(e,e===le?he:0);if(n===0)r!==null&&su(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&su(r),t===1)e.tag===0?Tm(Qu.bind(null,e)):Kd(Qu.bind(null,e)),Em(function(){!(D&6)&&Ft()}),r=null;else{switch(kd(n)){case 1:r=Jo;break;case 4:r=wd;break;case 16:r=Js;break;case 536870912:r=xd;break;default:r=Js}r=qh(r,Dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Dh(e,t){if(Vs=-1,Ws=0,D&6)throw Error(E(327));var r=e.callbackNode;if(Wr()&&e.callbackNode!==r)return null;var n=Qs(e,e===le?he:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pi(e,n);else{t=n;var s=D;D|=2;var i=zh();(le!==e||he!==t)&&(at=null,Yr=Z()+500,ir(e,t));do try{Qm();break}catch(o){Mh(e,o)}while(!0);ll(),di.current=i,D=s,re!==null?t=0:(le=null,he=0,t=ie)}if(t!==0){if(t===2&&(s=Ka(e),s!==0&&(n=s,t=ko(e,s))),t===1)throw r=Jn,ir(e,0),St(e,n),Ce(e,Z()),r;if(t===6)St(e,n);else{if(s=e.current.alternate,!(n&30)&&!Gm(s)&&(t=pi(e,n),t===2&&(i=Ka(e),i!==0&&(n=i,t=ko(e,i))),t===1))throw r=Jn,ir(e,0),St(e,n),Ce(e,Z()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:Qt(e,be,at);break;case 3:if(St(e,n),(n&130023424)===n&&(t=bl+500-Z(),10<t)){if(Qs(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){we(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=to(Qt.bind(null,e,be,at),t);break}Qt(e,be,at);break;case 4:if(St(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ye(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Z()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Km(n/1960))-n,10<n){e.timeoutHandle=to(Qt.bind(null,e,be,at),n);break}Qt(e,be,at);break;case 5:Qt(e,be,at);break;default:throw Error(E(329))}}}return Ce(e,Z()),e.callbackNode===r?Dh.bind(null,e):null}function ko(e,t){var r=Cn;return e.current.memoizedState.isDehydrated&&(ir(e,t).flags|=256),e=pi(e,t),e!==2&&(t=be,be=r,t!==null&&bo(t)),e}function bo(e){be===null?be=e:be.push.apply(be,e)}function Gm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~kl,t&=~Ri,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ye(t),n=1<<r;e[r]=-1,t&=~n}}function Qu(e){if(D&6)throw Error(E(327));Wr();var t=Qs(e,0);if(!(t&1))return Ce(e,Z()),null;var r=pi(e,t);if(e.tag!==0&&r===2){var n=Ka(e);n!==0&&(t=n,r=ko(e,n))}if(r===1)throw r=Jn,ir(e,0),St(e,t),Ce(e,Z()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,be,at),Ce(e,Z()),null}function Sl(e,t){var r=D;D|=1;try{return e(t)}finally{D=r,D===0&&(Yr=Z()+500,Ci&&Ft())}}function dr(e){Nt!==null&&Nt.tag===0&&!(D&6)&&Wr();var t=D;D|=1;var r=Be.transition,n=M;try{if(Be.transition=null,M=1,e)return e()}finally{M=n,Be.transition=r,D=t,!(D&6)&&Ft()}}function El(){Pe=Lr.current,W(Lr)}function ir(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Sm(r)),re!==null)for(r=re.return;r!==null;){var n=r;switch(il(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ti();break;case 3:Qr(),W(je),W(ve),pl();break;case 5:fl(n);break;case 4:Qr();break;case 13:W(K);break;case 19:W(K);break;case 10:ul(n.type._context);break;case 22:case 23:El()}r=r.return}if(le=e,re=e=Lt(e.current,null),he=Pe=t,ie=0,Jn=null,kl=Ri=cr=0,be=Cn=null,rr!==null){for(t=0;t<rr.length;t++)if(r=rr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}rr=null}return e}function Mh(e,t){do{var r=re;try{if(ll(),zs.current=ci,ui){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ui=!1}if(ur=0,oe=se=G=null,jn=!1,Hn=0,_l.current=null,r===null||r.return===null){ie=1,Jn=t,re=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=he,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Uu(a);if(w!==null){w.flags&=-257,Du(w,a,o,i,t),w.mode&1&&Lu(i,c,t),t=w,l=c;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){Lu(i,c,t),jl();break e}l=Error(E(426))}}else if(q&&o.mode&1){var x=Uu(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Du(x,a,o,i,t),al(Xr(l,o));break e}}i=l=Xr(l,o),ie!==4&&(ie=2),Cn===null?Cn=[i]:Cn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=kh(i,l,t);Pu(i,y);break e;case 1:o=l;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(It===null||!It.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=bh(i,o,t);Pu(i,_);break e}}i=i.return}while(i!==null)}Fh(r)}catch(b){t=b,re===r&&r!==null&&(re=r=r.return);continue}break}while(!0)}function zh(){var e=di.current;return di.current=ci,e===null?ci:e}function jl(){(ie===0||ie===3||ie===2)&&(ie=4),le===null||!(cr&268435455)&&!(Ri&268435455)||St(le,he)}function pi(e,t){var r=D;D|=2;var n=zh();(le!==e||he!==t)&&(at=null,ir(e,t));do try{Jm();break}catch(s){Mh(e,s)}while(!0);if(ll(),D=r,di.current=n,re!==null)throw Error(E(261));return le=null,he=0,ie}function Jm(){for(;re!==null;)Bh(re)}function Qm(){for(;re!==null&&!_p();)Bh(re)}function Bh(e){var t=Wh(e.alternate,e,Pe);e.memoizedProps=e.pendingProps,t===null?Fh(e):re=t,_l.current=null}function Fh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Vm(r,t),r!==null){r.flags&=32767,re=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ie=6,re=null;return}}else if(r=Fm(r,t,Pe),r!==null){re=r;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);ie===0&&(ie=5)}function Qt(e,t,r){var n=M,s=Be.transition;try{Be.transition=null,M=1,Xm(e,t,r,n)}finally{Be.transition=s,M=n}return null}function Xm(e,t,r,n){do Wr();while(Nt!==null);if(D&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Op(e,i),e===le&&(re=le=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cs||(Cs=!0,qh(Js,function(){return Wr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var a=M;M=1;var o=D;D|=4,_l.current=null,qm(e,r),Lh(r,e),vm(Za),Xs=!!Ya,Za=Ya=null,e.current=r,Hm(r),kp(),D=o,M=a,Be.transition=i}else e.current=r;if(Cs&&(Cs=!1,Nt=e,fi=s),i=e.pendingLanes,i===0&&(It=null),Ep(r.stateNode),Ce(e,Z()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(hi)throw hi=!1,e=xo,xo=null,e;return fi&1&&e.tag!==0&&Wr(),i=e.pendingLanes,i&1?e===_o?Tn++:(Tn=0,_o=e):Tn=0,Ft(),null}function Wr(){if(Nt!==null){var e=kd(fi),t=Be.transition,r=M;try{if(Be.transition=null,M=16>e?16:e,Nt===null)var n=!1;else{if(e=Nt,Nt=null,fi=0,D&6)throw Error(E(331));var s=D;for(D|=4,N=e.current;N!==null;){var i=N,a=i.child;if(N.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(N=c;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:Nn(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var p=d.sibling,w=d.return;if(Ah(d),d===c){N=null;break}if(p!==null){p.return=w,N=p;break}N=w}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}N=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,N=a;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nn(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,N=y;break e}N=i.return}}var f=e.current;for(N=f;N!==null;){a=N;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,N=m;else e:for(a=f;N!==null;){if(o=N,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Oi(9,o)}}catch(b){X(o,o.return,b)}if(o===a){N=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,N=_;break e}N=o.return}}if(D=s,Ft(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(bi,e)}catch{}n=!0}return n}finally{M=r,Be.transition=t}}return!1}function Xu(e,t,r){t=Xr(r,t),t=kh(e,t,1),e=At(e,t,1),t=we(),e!==null&&(is(e,1,t),Ce(e,t))}function X(e,t,r){if(e.tag===3)Xu(e,e,r);else for(;t!==null;){if(t.tag===3){Xu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(It===null||!It.has(n))){e=Xr(r,e),e=bh(t,e,1),t=At(t,e,1),e=we(),t!==null&&(is(t,1,e),Ce(t,e));break}}t=t.return}}function Ym(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=we(),e.pingedLanes|=e.suspendedLanes&r,le===e&&(he&r)===r&&(ie===4||ie===3&&(he&130023424)===he&&500>Z()-bl?ir(e,0):kl|=r),Ce(e,t)}function Vh(e,t){t===0&&(e.mode&1?(t=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):t=1);var r=we();e=pt(e,t),e!==null&&(is(e,t,r),Ce(e,r))}function Zm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vh(e,r)}function eg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Vh(e,r)}var Wh;Wh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Ee=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ee=!1,Bm(e,t,r);Ee=!!(e.flags&131072)}else Ee=!1,q&&t.flags&1048576&&Gd(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fs(e,t),e=t.pendingProps;var s=Kr(t,ve.current);Vr(t,r),s=gl(null,t,n,e,s,r);var i=vl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ne(n)?(i=!0,ri(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dl(t),s.updater=Pi,t.stateNode=s,s._reactInternals=t,lo(t,n,e,r),t=ho(null,t,n,!0,i,r)):(t.tag=0,q&&i&&sl(t),ye(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=rg(n),e=Ke(n,e),s){case 0:t=co(null,t,n,e,r);break e;case 1:t=Bu(null,t,n,e,r);break e;case 11:t=Mu(null,t,n,e,r);break e;case 14:t=zu(null,t,n,Ke(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),co(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Bu(e,t,n,s,r);case 3:e:{if(Nh(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,eh(e,t),oi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xr(Error(E(423)),t),t=Fu(e,t,n,r,s);break e}else if(n!==s){s=Xr(Error(E(424)),t),t=Fu(e,t,n,r,s);break e}else for(Ae=Rt(t.stateNode.containerInfo.firstChild),Ie=t,q=!0,Xe=null,r=Yd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gr(),n===s){t=mt(e,t,r);break e}ye(e,t,n,r)}t=t.child}return t;case 5:return th(t),e===null&&io(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,eo(n,s)?a=null:i!==null&&eo(n,i)&&(t.flags|=32),jh(e,t),ye(e,t,a,r),t.child;case 6:return e===null&&io(t),null;case 13:return Ch(e,t,r);case 4:return hl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Jr(t,null,n,r):ye(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Mu(e,t,n,s,r);case 7:return ye(e,t,t.pendingProps,r),t.child;case 8:return ye(e,t,t.pendingProps.children,r),t.child;case 12:return ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,B(ii,n._currentValue),n._currentValue=a,i!==null)if(et(i.value,a)){if(i.children===s.children&&!je.current){t=mt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=dt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ao(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(E(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),ao(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ye(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vr(t,r),s=Fe(s),n=n(s),t.flags|=1,ye(e,t,n,r),t.child;case 14:return n=t.type,s=Ke(n,t.pendingProps),s=Ke(n.type,s),zu(e,t,n,s,r);case 15:return Sh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Fs(e,t),t.tag=1,Ne(n)?(e=!0,ri(t)):e=!1,Vr(t,r),_h(t,n,s),lo(t,n,s,r),ho(null,t,n,!0,e,r);case 19:return Th(e,t,r);case 22:return Eh(e,t,r)}throw Error(E(156,t.tag))};function qh(e,t){return yd(e,t)}function tg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,r,n){return new tg(e,t,r,n)}function Nl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rg(e){if(typeof e=="function")return Nl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ho)return 11;if(e===Ko)return 14}return 2}function Lt(e,t){var r=e.alternate;return r===null?(r=ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qs(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Nl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case jr:return ar(r.children,s,i,t);case qo:a=8,s|=8;break;case Ra:return e=ze(12,r,t,s|2),e.elementType=Ra,e.lanes=i,e;case Aa:return e=ze(13,r,t,s),e.elementType=Aa,e.lanes=i,e;case Ia:return e=ze(19,r,t,s),e.elementType=Ia,e.lanes=i,e;case td:return Ai(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zc:a=10;break e;case ed:a=9;break e;case Ho:a=11;break e;case Ko:a=14;break e;case xt:a=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=ze(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ar(e,t,r,n){return e=ze(7,e,n,t),e.lanes=r,e}function Ai(e,t,r,n){return e=ze(22,e,n,t),e.elementType=td,e.lanes=r,e.stateNode={isHidden:!1},e}function va(e,t,r){return e=ze(6,e,null,t),e.lanes=r,e}function ya(e,t,r){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ng(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cl(e,t,r,n,s,i,a,o,l){return e=new ng(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dl(i),e}function sg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Hh(e){if(!e)return Mt;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ne(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ne(r))return Hd(e,r,t)}return t}function Kh(e,t,r,n,s,i,a,o,l){return e=Cl(r,n,!0,e,s,i,a,o,l),e.context=Hh(null),r=e.current,n=we(),s=$t(r),i=dt(n,s),i.callback=t??null,At(r,i,s),e.current.lanes=s,is(e,s,n),Ce(e,n),e}function Ii(e,t,r,n){var s=t.current,i=we(),a=$t(s);return r=Hh(r),t.context===null?t.context=r:t.pendingContext=r,t=dt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=At(s,t,a),e!==null&&(Ze(e,s,a,i),Ms(e,s,a)),a}function mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tl(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function ig(){return null}var Gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pl(e){this._internalRoot=e}$i.prototype.render=Pl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Ii(e,t,null,null)};$i.prototype.unmount=Pl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Ii(null,e,null,null)}),t[ft]=null}};function $i(e){this._internalRoot=e}$i.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ed();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bt.length&&t!==0&&t<bt[r].priority;r++);bt.splice(r,0,e),r===0&&Nd(e)}};function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zu(){}function ag(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=mi(a);i.call(c)}}var a=Kh(t,n,e,0,null,!1,!1,"",Zu);return e._reactRootContainer=a,e[ft]=a.current,Bn(e.nodeType===8?e.parentNode:e),dr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=mi(l);o.call(c)}}var l=Cl(e,0,!1,null,null,!1,!1,"",Zu);return e._reactRootContainer=l,e[ft]=l.current,Bn(e.nodeType===8?e.parentNode:e),dr(function(){Ii(t,l,r,n)}),l}function Ui(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=mi(a);o.call(l)}}Ii(t,a,e,s)}else a=ag(r,t,e,s,n);return mi(a)}bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yn(t.pendingLanes);r!==0&&(Qo(t,r|1),Ce(t,Z()),!(D&6)&&(Yr=Z()+500,Ft()))}break;case 13:dr(function(){var n=pt(e,1);if(n!==null){var s=we();Ze(n,e,1,s)}}),Tl(e,1)}};Xo=function(e){if(e.tag===13){var t=pt(e,134217728);if(t!==null){var r=we();Ze(t,e,134217728,r)}Tl(e,134217728)}};Sd=function(e){if(e.tag===13){var t=$t(e),r=pt(e,t);if(r!==null){var n=we();Ze(r,e,t,n)}Tl(e,t)}};Ed=function(){return M};jd=function(e,t){var r=M;try{return M=e,t()}finally{M=r}};Wa=function(e,t,r){switch(t){case"input":if(Ua(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ni(n);if(!s)throw Error(E(90));nd(n),Ua(n,s)}}}break;case"textarea":id(e,r);break;case"select":t=r.value,t!=null&&Mr(e,!!r.multiple,t,!1)}};hd=Sl;fd=dr;var og={usingClientEntryPoint:!1,Events:[os,Pr,Ni,cd,dd,Sl]},mn={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lg={bundleType:mn.bundleType,version:mn.version,rendererPackageName:mn.rendererPackageName,rendererConfig:mn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gd(e),e===null?null:e.stateNode},findFiberByHostInstance:mn.findFiberByHostInstance||ig,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{bi=Ts.inject(lg),st=Ts}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;Le.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ol(t))throw Error(E(200));return sg(e,t,null,r)};Le.createRoot=function(e,t){if(!Ol(e))throw Error(E(299));var r=!1,n="",s=Gh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cl(e,1,!1,null,null,r,!1,n,s),e[ft]=t.current,Bn(e.nodeType===8?e.parentNode:e),new Pl(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=gd(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return dr(e)};Le.hydrate=function(e,t,r){if(!Li(t))throw Error(E(200));return Ui(null,e,t,!0,r)};Le.hydrateRoot=function(e,t,r){if(!Ol(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Gh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Kh(t,null,e,1,r??null,s,!1,i,a),e[ft]=t.current,Bn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new $i(t)};Le.render=function(e,t,r){if(!Li(t))throw Error(E(200));return Ui(null,e,t,!1,r)};Le.unmountComponentAtNode=function(e){if(!Li(e))throw Error(E(40));return e._reactRootContainer?(dr(function(){Ui(null,null,e,!1,function(){e._reactRootContainer=null,e[ft]=null})}),!0):!1};Le.unstable_batchedUpdates=Sl;Le.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Li(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Ui(e,t,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function Jh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jh)}catch(e){console.error(e)}}Jh(),Jc.exports=Le;var ug=Jc.exports,ec=ug;Pa.createRoot=ec.createRoot,Pa.hydrateRoot=ec.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qn.apply(this,arguments)}var Ct;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ct||(Ct={}));const tc="popstate";function cg(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return So("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:gi(s)}return hg(t,r,null,e)}function ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dg(){return Math.random().toString(36).substr(2,8)}function rc(e,t){return{usr:e.state,key:e.key,idx:t}}function So(e,t,r,n){return r===void 0&&(r=null),Qn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nn(t):t,{state:r,key:t&&t.key||n||dg()})}function gi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Ct.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(Qn({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Ct.Pop;let x=d(),y=x==null?null:x-c;c=x,l&&l({action:o,location:g.location,delta:y})}function p(x,y){o=Ct.Push;let f=So(g.location,x,y);c=d()+1;let m=rc(f,c),_=g.createHref(f);try{a.pushState(m,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(_)}i&&l&&l({action:o,location:g.location,delta:1})}function w(x,y){o=Ct.Replace;let f=So(g.location,x,y);c=d();let m=rc(f,c),_=g.createHref(f);a.replaceState(m,"",_),i&&l&&l({action:o,location:g.location,delta:0})}function v(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof x=="string"?x:gi(x);return f=f.replace(/ $/,"%20"),ee(y,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,y)}let g={get action(){return o},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(tc,h),l=x,()=>{s.removeEventListener(tc,h),l=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:w,go(x){return a.go(x)}};return g}var nc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nc||(nc={}));function fg(e,t,r){return r===void 0&&(r="/"),pg(e,t,r)}function pg(e,t,r,n){let s=typeof t=="string"?nn(t):t,i=Al(s.pathname||"/",r);if(i==null)return null;let a=Qh(e);mg(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Ng(i);o=Sg(a[l],c)}return o}function Qh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(ee(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ut([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Qh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:kg(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Xh(i.path))s(i,a,l)}),t}function Xh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Xh(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function mg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gg=/^:[\w-]+$/,vg=3,yg=2,wg=1,xg=10,_g=-2,sc=e=>e==="*";function kg(e,t){let r=e.split("/"),n=r.length;return r.some(sc)&&(n+=_g),t&&(n+=yg),r.filter(s=>!sc(s)).reduce((s,i)=>s+(gg.test(i)?vg:i===""?wg:xg),n)}function bg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Sg(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Eg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Ut([i,h.pathname]),pathnameBase:Rg(Ut([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ut([i,h.pathnameBase]))}return a}function Eg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:p,isOptional:w}=d;if(p==="*"){let g=o[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=o[h];return w&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function jg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Rl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Ng(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Al(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tg=e=>Cg.test(e);function Pg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?nn(e):e,i;if(r)if(Tg(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Rl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=ic(r.substring(1),"/"):i=ic(r,t)}else i=t;return{pathname:i,search:Ag(n),hash:Ig(s)}}function ic(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function wa(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Og(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Il(e,t){let r=Og(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $l(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=nn(e):(s=Qn({},e),ee(!s.pathname||!s.pathname.includes("?"),wa("?","pathname","search",s)),ee(!s.pathname||!s.pathname.includes("#"),wa("#","pathname","hash",s)),ee(!s.search||!s.search.includes("#"),wa("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}o=h>=0?t[h]:"/"}let l=Pg(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ut=e=>e.join("/").replace(/\/\/+/g,"/"),Rg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ag=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ig=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $g(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yh=["post","put","patch","delete"];new Set(Yh);const Lg=["get",...Yh];new Set(Lg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xn.apply(this,arguments)}const Ll=k.createContext(null),Ug=k.createContext(null),Vt=k.createContext(null),Di=k.createContext(null),Wt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Zh=k.createContext(null);function Dg(e,t){let{relative:r}=t===void 0?{}:t;sn()||ee(!1);let{basename:n,navigator:s}=k.useContext(Vt),{hash:i,pathname:a,search:o}=rf(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Ut([n,a])),s.createHref({pathname:l,search:o,hash:i})}function sn(){return k.useContext(Di)!=null}function pr(){return sn()||ee(!1),k.useContext(Di).location}function ef(e){k.useContext(Vt).static||k.useLayoutEffect(e)}function tf(){let{isDataRoute:e}=k.useContext(Wt);return e?Xg():Mg()}function Mg(){sn()||ee(!1);let e=k.useContext(Ll),{basename:t,future:r,navigator:n}=k.useContext(Vt),{matches:s}=k.useContext(Wt),{pathname:i}=pr(),a=JSON.stringify(Il(s,r.v7_relativeSplatPath)),o=k.useRef(!1);return ef(()=>{o.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=$l(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ut([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}function rf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Vt),{matches:s}=k.useContext(Wt),{pathname:i}=pr(),a=JSON.stringify(Il(s,n.v7_relativeSplatPath));return k.useMemo(()=>$l(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function zg(e,t){return Bg(e,t)}function Bg(e,t,r,n){sn()||ee(!1);let{navigator:s}=k.useContext(Vt),{matches:i}=k.useContext(Wt),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=pr(),d;if(t){var h;let x=typeof t=="string"?nn(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ee(!1),d=x}else d=c;let p=d.pathname||"/",w=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=fg(e,{pathname:w}),g=Hg(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Ut([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ut([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&g?k.createElement(Di.Provider,{value:{location:Xn({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ct.Pop}},g):g}function Fg(){let e=Qg(),t=$g(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const Vg=k.createElement(Fg,null);class Wg extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Wt.Provider,{value:this.props.routeContext},k.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qg(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(Ll);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Wt.Provider,{value:t},n)}function Hg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ee(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:w}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let w,v=!1,g=null,x=null;r&&(w=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||Vg,l&&(c<0&&p===0?(Yg("route-fallback"),v=!0,x=null):c===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,p+1)),f=()=>{let m;return w?m=g:v?m=x:h.route.Component?m=k.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,k.createElement(qg,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?k.createElement(Wg,{location:r.location,revalidation:r.revalidation,component:g,error:w,children:f(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):f()},null)}var nf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nf||{}),sf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sf||{});function Kg(e){let t=k.useContext(Ll);return t||ee(!1),t}function Gg(e){let t=k.useContext(Ug);return t||ee(!1),t}function Jg(e){let t=k.useContext(Wt);return t||ee(!1),t}function af(e){let t=Jg(),r=t.matches[t.matches.length-1];return r.route.id||ee(!1),r.route.id}function Qg(){var e;let t=k.useContext(Zh),r=Gg(),n=af();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Xg(){let{router:e}=Kg(nf.UseNavigateStable),t=af(sf.UseNavigateStable),r=k.useRef(!1);return ef(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Xn({fromRouteId:t},i)))},[e,t])}const ac={};function Yg(e,t,r){ac[e]||(ac[e]=!0)}function Zg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ev(e){let{to:t,replace:r,state:n,relative:s}=e;sn()||ee(!1);let{future:i,static:a}=k.useContext(Vt),{matches:o}=k.useContext(Wt),{pathname:l}=pr(),c=tf(),d=$l(t,Il(o,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function wt(e){ee(!1)}function tv(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ct.Pop,navigator:i,static:a=!1,future:o}=e;sn()&&ee(!1);let l=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:a,future:Xn({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=nn(n));let{pathname:d="/",search:h="",hash:p="",state:w=null,key:v="default"}=n,g=k.useMemo(()=>{let x=Al(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:w,key:v},navigationType:s}},[l,d,h,p,w,v,s]);return g==null?null:k.createElement(Vt.Provider,{value:c},k.createElement(Di.Provider,{children:r,value:g}))}function rv(e){let{children:t,location:r}=e;return zg(Eo(t),r)}new Promise(()=>{});function Eo(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,Eo(n.props.children,i));return}n.type!==wt&&ee(!1),!n.props.index||!n.props.children||ee(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Eo(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(this,arguments)}function nv(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function sv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iv(e,t){return e.button===0&&(!t||t==="_self")&&!sv(e)}const av=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ov="6";try{window.__reactRouterVersion=ov}catch{}const lv="startTransition",oc=Yf[lv];function uv(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=cg({window:s,v5Compat:!0}));let a=i.current,[o,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=k.useCallback(h=>{c&&oc?oc(()=>l(h)):l(h)},[l,c]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.useEffect(()=>Zg(n),[n]),k.createElement(tv,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,p=nv(t,av),{basename:w}=k.useContext(Vt),v,g=!1;if(typeof c=="string"&&dv.test(c)&&(v=c,cv))try{let m=new URL(window.location.href),_=c.startsWith("//")?new URL(m.protocol+c):new URL(c),b=Al(_.pathname,w);_.origin===m.origin&&b!=null?c=b+_.search+_.hash:g=!0}catch{}let x=Dg(c,{relative:s}),y=hv(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:h});function f(m){n&&n(m),m.defaultPrevented||y(m)}return k.createElement("a",jo({},p,{href:v||x,onClick:g||i?n:f,ref:r,target:l}))});var lc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lc||(lc={}));var uc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uc||(uc={}));function hv(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=tf(),c=pr(),d=rf(e,{relative:a});return k.useCallback(h=>{if(iv(h,r)){h.preventDefault();let p=n!==void 0?n:gi(c)===gi(d);l(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,n,s,r,e,i,a,o])}function Mi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function fv(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}const pv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ul extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class mv extends Ul{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cc extends Ul{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dc extends Ul{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var No;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(No||(No={}));class gv{constructor(t,{headers:r={},customFetch:n,region:s=No.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=pv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return fv(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:c,signal:d,timeout:h}=n;let p={},{region:w}=n;w||(w=this.region);const v=new URL(`${this.url}/${r}`);w&&w!=="any"&&(p["x-region"]=w,v.searchParams.set("forceFunctionRegion",w));let g;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(p["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(p["Content-Type"]="application/json",g=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?g=JSON.stringify(c):g=c;let x=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:g,signal:x}).catch(b=>{throw new mv(b)}),f=y.headers.get("x-relay-error");if(f&&f==="true")throw new cc(y);if(!y.ok)throw new dc(y);let m=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return m==="application/json"?_=yield y.json():m==="application/octet-stream"||m==="application/pdf"?_=yield y.blob():m==="text/event-stream"?_=y:m==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof dc||o instanceof cc?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var vv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},yv=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,c=i.status,d=i.statusText;if(i.ok){var h,p;if(r.method!=="HEAD"){var w;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?o=y:o=JSON.parse(y))}const g=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");g&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const g=await i.text();try{a=JSON.parse(g),Array.isArray(a)&&i.status===404&&(o=[],a=null,c=200,d="OK")}catch{i.status===404&&g===""?(c=204,d="No Content"):a={message:g}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&r.shouldThrowOnError)throw new vv(a)}return{error:a,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var c,d,h,p;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",g=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";o=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${v}`,g&&(o+=` (${g})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var w;o=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},wv=class extends yv{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const hc=new RegExp("[,()]");var kr=class extends wv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&hc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&hc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},xv=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new kr({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new kr({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new kr({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new kr({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new kr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},_v=class of{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new of(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(d)),h=n&&Object.values(r).some(d);h?(o="POST",c=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([w,v])=>v!==void 0).map(([w,v])=>[w,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([w,v])=>{l.searchParams.append(w,v)})):(o="POST",c=r);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new kr({method:o,url:l,headers:p,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class kv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bv="2.90.1",Sv=`realtime-js/${bv}`,lf="1.0.0",Ev="2.0.0",fc=lf,Co=1e4,jv=1e3,Nv=100;var kt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(kt||(kt={}));var ne;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ne||(ne={}));var Qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qe||(Qe={}));var To;(function(e){e.websocket="websocket"})(To||(To={}));var Yt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yt||(Yt={}));class Cv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+h.length,w=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(w),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,l.length),v.setUint8(g++,o.length),v.setUint8(g++,a.length),v.setUint8(g++,c.length),v.setUint8(g++,h.length),v.setUint8(g++,r),Array.from(l,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(c,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(h,y=>v.setUint8(g++,y.charCodeAt(0)));var x=new Uint8Array(w.byteLength+n.byteLength);return x.set(new Uint8Array(w),0),x.set(new Uint8Array(n),w.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const h=n.decode(t.slice(l,l+a));l=l+a;const p=t.slice(l,t.byteLength),w=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:d,payload:w};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class uf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(z||(z={}));const pc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=Tv(a,e,t,s),i),{}):{}},Tv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?cf(i,a):Po(a)},cf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Av(t,r)}switch(e){case z.bool:return Pv(t);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return Ov(t);case z.json:case z.jsonb:return Rv(t);case z.timestamp:return Iv(t);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return Po(t);default:return Po(t)}},Po=e=>e,Pv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ov=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Rv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Av=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>cf(t,o))}return e},Iv=e=>typeof e=="string"?e.replace(" ","T"):e,df=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class xa{constructor(t,r,n={},s=Co){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mc||(mc={}));class Pn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Pn.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const p=d.map(x=>x.presence_ref),w=h.map(x=>x.presence_ref),v=d.filter(x=>w.indexOf(x.presence_ref)<0),g=h.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(o[c]=v),g.length>0&&(l[c]=g)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const h=t[o].map(w=>w.presence_ref),p=d.filter(w=>h.indexOf(w.presence_ref)<0);t[o].unshift(...p)}n(o,d,l)}),this.map(a,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=c,s(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gc||(gc={}));var On;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(On||(On={}));var ot;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ot||(ot={}));class Ur{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xa(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new uf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Pn(this),this.broadcastEndpointURL=df(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[On.PRESENCE]&&this.bindings[On.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(ot.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(ot.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t==null||t(ot.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,y=[];for(let f=0;f<x;f++){const m=g[f],{filter:{event:_,schema:b,table:S,filter:j}}=m,C=w&&w[f];if(C&&C.event===_&&Ur.isFilterValueEqual(C.schema,b)&&Ur.isFilterValueEqual(C.table,S)&&Ur.isFilterValueEqual(C.filter,j))y.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),this.state=ne.errored,t==null||t(ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ot.SUBSCRIBED);return}}).receive("error",w=>{this.state=ne.errored,t==null||t(ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ne.joined&&t===On.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ne.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new xa(this,Qe.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xa(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Nv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Qe;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var v,g,x;return((v=w.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=w.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(w=>w.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(w=>{var v,g,x,y,f,m,_,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in w){const S=w.id,j=(v=w.filter)===null||v===void 0?void 0:v.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((y=w.filter)===null||y===void 0)&&y.table)||w.filter.table===((f=r.data)===null||f===void 0?void 0:f.table))}else{const S=(_=(m=w==null?void 0:w.filter)===null||m===void 0?void 0:m.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===a}).map(w=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:g,table:x,commit_timestamp:y,type:f,errors:m}=v;p=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(v))}w.callback(p,n)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ur.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qe.close,{},t)}_onError(t){this._on(Qe.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=pc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=pc(t.columns,t.old_record)),r}}const _a=()=>{},Ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$v=[1e3,2e3,5e3,1e4],Lv=1e4,Uv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Co,this.transport=null,this.heartbeatIntervalMs=Ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_a,this.ref=0,this.reconnectTimer=null,this.vsn=fc,this.logger=_a,this.conn=null,this.sendBuffer=[],this.serializer=new Cv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${To.websocket}`,this.httpEndpoint=df(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kt.connecting:return Yt.Connecting;case kt.open:return Yt.Open;case kt.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ur(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===kt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===kt.open||this.conn.readyState===kt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qe.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Uv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Sv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Qe.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new uf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,c,d,h,p,w;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Co,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ps.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:_a,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:fc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:v=>$v[v-1]||Lv,this.vsn){case lf:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,g)=>g(JSON.parse(v));break;case Ev:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Yn=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Mv(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function zv(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Bv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=Mv(e.baseUrl,n,s),l=await zv(e.auth),c=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!c.ok){const w=h?p:void 0,v=w==null?void 0:w.error;throw new Yn((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:w})}return{status:c.status,headers:c.headers,data:p}}}}function Os(e){return e.join("")}var Fv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Os(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Os(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Os(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Os(e.namespace)}`}),!0}catch(t){if(t instanceof Yn&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Yn&&r.status===409)return;throw r}}};function gr(e){return e.join("")}var Vv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Yn&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Yn&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Wv=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Bv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Fv(this.client,t),this.tableOps=new Vv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},zi=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function H(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var qv=class extends zi{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Oo=class extends zi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Dl=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hv=()=>Response,Ro=e=>{if(Array.isArray(e))return e.map(r=>Ro(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ro(n)}),t},Kv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Gv=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Zn(e){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zn(e)}function Jv(e,t){if(Zn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qv(e){var t=Jv(e,"string");return Zn(t)=="symbol"?t:t+""}function Xv(e,t,r){return(t=Qv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vc(Object(r),!0).forEach(function(n){Xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ka=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Yv=async(e,t,r)=>{e instanceof await Hv()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new qv(ka(n),s,i))}).catch(n=>{t(new Oo(ka(n),n))}):t(new Oo(ka(e),e))},Zv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Kv(n)?(s.headers=R({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),R(R({},s),r))};async function us(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,Zv(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Yv(l,o,n))})}async function es(e,t,r,n){return us(e,"GET",t,r,n)}async function Ge(e,t,r,n,s){return us(e,"POST",t,n,s,r)}async function Ao(e,t,r,n,s){return us(e,"PUT",t,n,s,r)}async function ey(e,t,r,n){return us(e,"HEAD",t,R(R({},r),{},{noResolveJson:!0}),n)}async function Ml(e,t,r,n,s){return us(e,"DELETE",t,n,s,r)}var ty=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(H(t))return{data:null,error:t};throw t}}};let hf;hf=Symbol.toStringTag;var ry=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hf]="BlobDownloadBuilder",this.promise=null}asStream(){return new ty(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(H(t))return{data:null,error:t};throw t}}};const ny={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sy=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Dl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=R(R({},yc),n);let o=R(R({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=R(R({},o),n.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),h=await(e=="PUT"?Ao:Ge)(s.fetch,`${s.url}/object/${d}`,i,R({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(H(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=R({upsert:yc.upsert},n),d=R(R({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await Ao(s.fetch,o.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(H(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=R({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Ge(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new zi("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Ge(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Ge(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await Ge(n.fetch,`${n.url}/object/sign/${s}`,R({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Ge(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>R(R({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>es(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new ry(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Ro(await es(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await ey(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(H(n)&&n instanceof Oo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await Ml(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=R(R(R({},ny),t),{},{prefix:e||""});return{data:await Ge(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(H(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=R({},e);return{data:await Ge(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const ff="2.90.1",pf={"X-Client-Info":`storage-js/${ff}`};var iy=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=R(R({},pf),t),this.fetch=Dl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await es(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await es(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ge(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Ao(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(H(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ml(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ay=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},pf),t),this.fetch=Dl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await es(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ml(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(H(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Gv(e))throw new zi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Wv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const zl={"X-Client-Info":`storage-js/${ff}`,"Content-Type":"application/json"};var mf=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var ba=class extends mf{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},oy=class extends mf{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Bl=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ly=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uy=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new ba(wc(i),n,a))}).catch(()=>{const i=n+"";t(new ba(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new ba(s.statusText||`HTTP ${n} error`,n,i))}}else t(new oy(wc(e),e))},cy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(ly(n)?(s.headers=R({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,R(R({},s),r)):s};async function dy(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,cy(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>uy(l,o,n))})}async function Re(e,t,r,n,s){return dy(e,"POST",t,n,s,r)}var hy=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},zl),t),this.fetch=Bl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Re(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Re(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}},fy=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},zl),t),this.fetch=Bl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Re(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Re(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Re(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}},py=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},zl),t),this.fetch=Bl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Re(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Re(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}},my=class extends py{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new gy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},gy=class extends hy{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new vy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},vy=class extends fy{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,R(R({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},yy=class extends iy{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new sy(this.url,this.headers,e,this.fetch)}get vectors(){return new my(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ay(this.url+"/iceberg",this.headers,this.fetch)}};const gf="2.90.1",br=30*1e3,Io=3,Sa=Io*br,wy="http://localhost:9999",xy="supabase.auth.token",_y={"X-Client-Info":`gotrue-js/${gf}`},$o="X-Supabase-Api-Version",vf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ky=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,by=10*60*1e3;class ts extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function P(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sy extends ts{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ey(e){return P(e)&&e.name==="AuthApiError"}class Zt extends ts{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vt extends ts{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Te extends vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jy(e){return P(e)&&e.name==="AuthSessionMissingError"}class vr extends vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rs extends vt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class As extends vt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ny(e){return P(e)&&e.name==="AuthImplicitGrantRedirectError"}class xc extends vt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cy extends vt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Lo extends vt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ea(e){return P(e)&&e.name==="AuthRetryableFetchError"}class _c extends vt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Uo extends vt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kc=` 	
\r=`.split(""),Ty=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kc.length;t+=1)e[kc[t].charCodeAt(0)]=-2;for(let t=0;t<vi.length;t+=1)e[vi[t].charCodeAt(0)]=t;return e})();function bc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vi[n]),t.queuedBits-=6}}function yf(e,t,r){const n=Ty[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Sc(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Ry(a,n,r)};for(let a=0;a<e.length;a+=1)yf(e.charCodeAt(a),s,i);return t.join("")}function Py(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Oy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Py(n,t)}}function Ry(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Ay(e){const t=[];return Oy(e,r=>t.push(r)),new Uint8Array(t)}function sr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>bc(s,r,n)),bc(null,r,n),t.join("")}function Iy(e){return Math.round(Date.now()/1e3)+e}function $y(){return Symbol("auth-callback")}const ce=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},wf=()=>{if(!ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function Ly(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const xf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Uy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ue=async(e,t)=>{await e.removeItem(t)};class Bi{constructor(){this.promise=new Bi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bi.promiseConstructor=Promise;function ja(e){const t=e.split(".");if(t.length!==3)throw new Uo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ky.test(t[n]))throw new Uo("JWT not in base64url format");return{header:JSON.parse(Sc(t[0])),payload:JSON.parse(Sc(t[1])),signature:qr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Dy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function My(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function zy(e){return("0"+e.toString(16)).substr(-2)}function By(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,zy).join("")}async function Fy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Vy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Fy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(e,t,r=!1){const n=By();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Sr(e,`${t}-code-verifier`,s);const i=await Vy(n);return[i,n===i?"plain":"s256"]}const Wy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qy(e){const t=e.headers.get($o);if(!t||!t.match(Wy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Hy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ky(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wr(e){if(!Gy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Na(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jy(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Ec(e){return JSON.parse(JSON.stringify(e))}const Xt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qy=[502,503,504];async function jc(e){var t;if(!Uy(e))throw new Lo(Xt(e),0);if(Qy.includes(e.status))throw new Lo(Xt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Zt(Xt(i),i)}let n;const s=qy(e);if(s&&s.getTime()>=vf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _c(Xt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Te}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new _c(Xt(r),e.status,r.weak_password.reasons);throw new Sy(Xt(r),e.status||500,n)}const Xy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function O(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[$o]||(i[$o]=vf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Yy(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Yy(e,t,r,n,s,i){const a=Xy(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new Lo(Xt(l),0)}if(o.ok||await jc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await jc(l)}}function He(e){var t;let r=null;t0(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Iy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Nc(e){const t=He(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Et(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Zy(e){return{data:e,error:null}}function e0(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Mi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Cc(e){return e}function t0(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ca=["global","local","others"];class r0{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ca[0]){if(Ca.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ca.join(", ")}`);try{return await O(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await O(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Et})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Mi(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:e0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(P(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await O(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Et})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Cc});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,w=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(P(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){wr(t);try{return await O(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Et})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){wr(t);try{return await O(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Et})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){wr(t);try{return await O(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Et})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){wr(t.userId);try{const{data:r,error:n}=await O(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteFactor(t){wr(t.userId),wr(t.id);try{return{data:await O(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await O(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Cc});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,w=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(P(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await O(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await O(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await O(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}}function Tc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const xr={debug:!!(globalThis&&wf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _f extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class n0 extends _f{}async function s0(e,t,r){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new n0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function i0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function a0(e){return parseInt(e,16)}function o0(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function l0(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=kf(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${w}

${g}`;let y=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let f=`
Resources:`;for(const m of c){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);f+=`
- ${m}`}y+=f}return`${x}
${y}`}class te extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class yi extends te{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function u0({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new te({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(bf(a)){if(i.rp.id!==a)return new te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function c0({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new te({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(bf(n)){if(r.rpId!==n)return new te({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class d0{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const h0=new d0;function f0(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Mi(e,["challenge","user","excludeCredentials"]),i=qr(t).buffer,a=Object.assign(Object.assign({},r),{id:qr(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:qr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function p0(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Mi(e,["challenge","allowCredentials"]),s=qr(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:qr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function m0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:sr(new Uint8Array(e.response.attestationObject)),clientDataJSON:sr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function g0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:sr(new Uint8Array(s.authenticatorData)),clientDataJSON:sr(new Uint8Array(s.clientDataJSON)),signature:sr(new Uint8Array(s.signature)),userHandle:s.userHandle?sr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Pc(){var e,t;return!!(ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function v0(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yi("Browser returned unexpected credential type",t)}:{data:null,error:new yi("Empty credential response",t)}}catch(t){return{data:null,error:u0({error:t,options:e})}}}async function y0(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yi("Browser returned unexpected credential type",t)}:{data:null,error:new yi("Empty credential response",t)}}catch(t){return{data:null,error:c0({error:t,options:e})}}}const w0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},x0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=wi(o,a):n[i]=wi(a)}else n[i]=a}return n}function _0(e,t){return wi(w0,e,t||{})}function k0(e,t){return wi(x0,e,t||{})}class b0{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const l=s??h0.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=_0(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await v0({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=k0(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await y0(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new Zt("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ts("rpId is required for WebAuthn authentication")};try{if(!Pc())return{data:null,error:new Zt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new Zt("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ts("rpId is required for WebAuthn registration")};try{if(!Pc())return{data:null,error:new Zt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new Zt("Unexpected error in register",a)}}}}i0();const S0={url:wy,storageKey:xy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_y,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Oc(e,t,r){return await r()}const _r={};class rs{get jwks(){var t,r;return(r=(t=_r[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=_r[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},S0),t);if(this.storageKey=i.storageKey,this.instanceID=(r=rs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,rs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ce()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new r0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xf(i.fetch),this.lock=i.lock||Oc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ce()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=s0:this.lock=Oc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new b0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Tc(this.memoryStorage)),ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ce()&&(r=Ly(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ce()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ny(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?this._returnResult({error:r}):this._returnResult({error:new Zt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:He}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let w=null,v=null;this.flowType==="pkce"&&([w,v]=await yr(this.storage,this.storageKey)),i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:w,code_challenge_method:v},xform:He})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:He})}else throw new Rs("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ue(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nc})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nc})}else throw new Rs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new vr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,l,c,d,h,p;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:g,wallet:x,statement:y,options:f}=t;let m;if(ce())if(typeof x=="object")m=x;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")m=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=x}const _=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),b=await m.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=kf(b[0]);let j=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const U=await m.request({method:"eth_chainId"});j=a0(U)}const C={domain:_.host,address:S,statement:y,uri:_.href,version:"1",chainId:j,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=f==null?void 0:f.signInWithEthereum)===null||d===void 0?void 0:d.resources};w=l0(C),v=await m.request({method:"personal_sign",params:[o0(w),S]})}try{const{data:g,error:x}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:He});if(x)throw x;if(!g||!g.session||!g.user){const y=new vr;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(P(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,i,a,o,l,c,d,h,p,w;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:x,wallet:y,statement:f,options:m}=t;let _;if(ce())if(typeof y=="object")_=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),f?{statement:f}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:x,error:y}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:sr(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:He});if(y)throw y;if(!x||!x.session||!x.user){const f=new vr;return this._returnResult({data:{user:null,session:null},error:f})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(P(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Gt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Cy;const{data:i,error:a}=await O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:He});if(await ue(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new vr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:He}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new vr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yr(this.storage,this.storageKey));const{error:h}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Rs("You must provide either an email or phone number.")}catch(o){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:He});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await yr(this.storage,this.storageKey));const c=await O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Zy});return!((i=c.data)===null||i===void 0)&&i.url&&ce()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Te;const{error:s}=await O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(P(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await O(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await O(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Rs("You must provide either an email or phone number and a type")}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Gt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Na()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Jy(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Et}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Te}:await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(r){if(P(r))return jy(r)&&(await this._removeSession(),await ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Te;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await yr(this.storage,this.storageKey));const{data:c,error:d}=await O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Et});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Te;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=ja(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Te;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ce())throw new As("No browser detected.");if(t.error||t.error_description||t.error_code)throw new As(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xc("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!a||!c)throw new As("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let p=d+h;l&&(p=parseInt(l));const w=p-d;w*1e3<=br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(P(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Ey(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=$y(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await yr(this.storage,this.storageKey,!0));try{return await O(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:h,error:p}=i;if(p)throw p;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await O(this.fetch,"GET",w,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ce()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(P(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:c,nonce:d}=t,h=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:He}),{data:p,error:w}=h;return w?this._returnResult({data:{user:null,session:null},error:w}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new vr}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:w}))}catch(s){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await O(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await My(async s=>(s>0&&await Dy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:He})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ea(i)&&Date.now()+a-n<br})}catch(n){if(this._debug(r,"error",n),P(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ce()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Gt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Gt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Sr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Na()}else if(s&&!s.user&&!s.user){const a=await Gt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ue(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,s)):s.user=Na()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sa;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Sa}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ea(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Te;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bi;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Te;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),P(i)){const a={data:null,error:i};return Ea(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ue(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Ec(s);await Sr(this.storage,this.storageKey,i)}else{const s=Ec(r);await Sr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ue(this.storage,this.storageKey),await ue(this.storage,this.storageKey+"-code-verifier"),await ue(this.storage,this.storageKey+"-user"),this.userStorage&&await ue(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),br);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${br}ms, refresh threshold is ${Io} ticks`),s<=Io&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _f)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await yr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await O(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await O(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?m0(t.webauthn.credential_response):g0(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f0(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:p0(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ja(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await O(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Te})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Te});const a=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Te});const a=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await O(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Te})})}catch(t){if(P(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await O(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Te})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+by>s)return n;const{data:i,error:a}=await O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:v}=await this.getSession();if(v||!w.session)return this._returnResult({data:null,error:v});n=w.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=ja(n);r!=null&&r.allowExpired||Hy(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:i,header:s,signature:a},error:null}}const d=Ky(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Ay(`${o}.${l}`)))throw new Uo("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}}rs.nextInstanceID={};const E0=rs,j0="2.90.1";let xn="";typeof Deno<"u"?xn="deno":typeof document<"u"?xn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xn="react-native":xn="node";const N0={"X-Client-Info":`supabase-js-${xn}/${j0}`},C0={headers:N0},T0={schema:"public"},P0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O0={};function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function R0(e,t){if(ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0(e){var t=R0(e,"string");return ns(t)=="symbol"?t:t+""}function I0(e,t,r){return(t=A0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rc(Object(r),!0).forEach(function(n){I0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const $0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),L0=()=>Headers,U0=(e,t,r)=>{const n=$0(r),s=L0();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Q(Q({},a),{},{headers:c}))}};function D0(e){return e.endsWith("/")?e:e+"/"}function M0(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:c,realtime:d,global:h}=t,p={db:Q(Q({},l),s),auth:Q(Q({},c),i),realtime:Q(Q({},d),a),storage:{},global:Q(Q(Q({},h),o),{},{headers:Q(Q({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function z0(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D0(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var B0=class extends E0{constructor(e){super(e)}},F0=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=z0(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:T0,realtime:O0,auth:Q(Q({},P0),{},{storageKey:a}),global:C0},l=M0(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=U0(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Q({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new _v(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new yy(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new gv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B0({url:this.authUrl.href,headers:Q(Q({},p),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Dv(this.realtimeUrl.href,Q(Q({},e),{},{params:Q(Q({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const V0=(e,t,r)=>new F0(e,t,r);function W0(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}W0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const q0="https://rtypzsrdktjbrrymqvnu.supabase.co",H0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0eXB6c3Jka3RqYnJyeW1xdm51Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxNDI3MjQsImV4cCI6MjA4MzcxODcyNH0.pcc5SVpH6I23U6To_JiWvn4QFJNxb8zgWh9rf0AVmlM",ke=V0(q0,H0),Sf=k.createContext(void 0);function K0({children:e}){const[t,r]=k.useState(null),[n,s]=k.useState(null),[i,a]=k.useState(null),[o,l]=k.useState(!0);k.useEffect(()=>{ke.auth.getSession().then(({data:{session:g}})=>{a(g),r((g==null?void 0:g.user)??null),g!=null&&g.user?c(g.user.id):l(!1)});const{data:{subscription:v}}=ke.auth.onAuthStateChange((g,x)=>{a(x),r((x==null?void 0:x.user)??null),x!=null&&x.user?c(x.user.id):(s(null),l(!1))});return()=>v.unsubscribe()},[]);async function c(v){try{const{data:g,error:x}=await ke.from("profiles").select("*").eq("id",v).maybeSingle();if(x)throw x;s(g)}catch(g){console.error("Error loading profile:",g)}finally{l(!1)}}async function d(v,g,x,y){try{const{data:f,error:m}=await ke.auth.signUp({email:v,password:g});if(m)return{error:m};if(f.user){const{error:_}=await ke.from("profiles").insert({id:f.user.id,full_name:x,phone:y||null,user_type:"user"});if(_)return console.error("Error creating profile:",_),{error:_}}return{error:null}}catch(f){return{error:f}}}async function h(v,g){const{error:x}=await ke.auth.signInWithPassword({email:v,password:g});return{error:x}}async function p(){await ke.auth.signOut(),s(null)}async function w(v){if(!t)return{error:new Error("No user logged in")};try{const{error:g}=await ke.from("profiles").update(v).eq("id",t.id);if(g)throw g;return s(x=>x?{...x,...v}:null),{error:null}}catch(g){return{error:g}}}return u.jsx(Sf.Provider,{value:{user:t,profile:n,session:i,loading:o,signUp:d,signIn:h,signOut:p,updateProfile:w},children:e})}function cs(){const e=k.useContext(Sf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>k.createElement("svg",{ref:d,...G0,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${J0(e)}`,o].join(" "),...c},[...t.map(([h,p])=>k.createElement(h,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=F("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=F("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=F("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=F("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=F("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=F("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=F("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=F("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=F("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=F("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=F("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=F("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Of({onSwitchToRegister:e,onSuccess:t,inModal:r=!1}){const[n,s]=k.useState(""),[i,a]=k.useState(""),[o,l]=k.useState(!1),[c,d]=k.useState(""),{signIn:h}=cs();async function p(v){v.preventDefault(),d(""),l(!0);const{error:g}=await h(n,i);g?(d(g.message),l(!1)):(l(!1),t==null||t())}const w=u.jsxs(u.Fragment,{children:[c&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:u.jsx("p",{className:"text-sm font-medium",children:c})}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(Fl,{className:"w-4 h-4"}),"Correo Electrnico"]}),u.jsx("input",{type:"email",value:n,onChange:v=>s(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"tu@email.com",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(Nf,{className:"w-4 h-4"}),"Contrasea"]}),u.jsx("input",{type:"password",value:i,onChange:v=>a(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"",required:!0})]}),u.jsx("button",{type:"submit",disabled:o,className:"w-full px-6 py-3 text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:o?"Iniciando sesin...":"Iniciar Sesin"})]})]});return r?w:u.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center px-4 py-12",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"text-center mb-10 animate-fade-in",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-28 h-28 bg-white rounded-3xl flex items-center justify-center shadow-2xl",children:u.jsx("span",{className:"text-6xl",children:""})})}),u.jsx("h1",{className:"text-5xl font-black text-white mb-3 drop-shadow-lg",children:"abitaX"}),u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[u.jsx("div",{className:"h-1 w-12 bg-white/50 rounded"}),u.jsx("p",{className:"text-white/90 text-xl font-bold",children:"Guinea Ecuatorial"}),u.jsx("div",{className:"h-1 w-12 bg-white/50 rounded"})]}),u.jsx("p",{className:"text-white/80 text-lg",children:"La SuperApp basada en mapas"})]}),u.jsxs("div",{className:"feature-card p-10 animate-fade-in glass-effect",style:{animationDelay:"0.1s"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"Iniciar Sesin"}),u.jsx("p",{className:"text-gray-600",children:"Accede a tu cuenta abitaX"})]}),w,e&&u.jsx("div",{className:"mt-8 text-center",children:u.jsxs("p",{className:"text-gray-600 text-lg",children:["No tienes cuenta?"," ",u.jsx("button",{onClick:e,className:"text-green-ge hover:text-green-dark font-bold underline",children:"Regstrate aqu"})]})})]})]})})}function Rf({onSwitchToLogin:e,onSuccess:t,inModal:r=!1}){const[n,s]=k.useState(""),[i,a]=k.useState(""),[o,l]=k.useState(""),[c,d]=k.useState(""),[h,p]=k.useState(!1),[w,v]=k.useState(""),[g,x]=k.useState(!1),{signUp:y}=cs();async function f(_){if(_.preventDefault(),v(""),p(!0),i.length<6){v("La contrasea debe tener al menos 6 caracteres"),p(!1);return}const{error:b}=await y(n,i,o,c);b?(v(b.message),p(!1)):(x(!0),p(!1),t?setTimeout(()=>{t()},1500):e&&setTimeout(()=>{e()},2e3))}const m=u.jsxs(u.Fragment,{children:[w&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:u.jsx("p",{className:"text-sm font-medium",children:w})}),g&&u.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4",children:u.jsx("p",{className:"text-sm font-medium",children:"Cuenta creada exitosamente!"})}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(Wl,{className:"w-4 h-4"}),"Nombre Completo"]}),u.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"Juan Prez",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(Fl,{className:"w-4 h-4"}),"Correo Electrnico"]}),u.jsx("input",{type:"email",value:n,onChange:_=>s(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"tu@email.com",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(Cf,{className:"w-4 h-4"}),"Telfono",u.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Opcional)"})]}),u.jsx("input",{type:"tel",value:c,onChange:_=>d(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"+240 XXX XXX XXX"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(Nf,{className:"w-4 h-4"}),"Contrasea"]}),u.jsx("input",{type:"password",value:i,onChange:_=>a(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"",required:!0,minLength:6}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres"})]}),u.jsx("button",{type:"submit",disabled:h||g,className:"w-full px-6 py-3 text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:h?"Creando cuenta...":g?" Cuenta creada":"Crear Cuenta"})]})]});return r?m:u.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center px-4 py-12",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"text-center mb-10 animate-fade-in",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-28 h-28 bg-white rounded-3xl flex items-center justify-center shadow-2xl",children:u.jsx("span",{className:"text-6xl",children:""})})}),u.jsx("h1",{className:"text-5xl font-black text-white mb-3 drop-shadow-lg",children:"abitaX"}),u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[u.jsx("div",{className:"h-1 w-12 bg-white/50 rounded"}),u.jsx("p",{className:"text-white/90 text-xl font-bold",children:"Guinea Ecuatorial"}),u.jsx("div",{className:"h-1 w-12 bg-white/50 rounded"})]}),u.jsx("p",{className:"text-white/80 text-lg",children:"La SuperApp basada en mapas"})]}),u.jsxs("div",{className:"feature-card p-10 animate-fade-in glass-effect",style:{animationDelay:"0.1s"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"Crear Cuenta"}),u.jsx("p",{className:"text-gray-600",children:"nete a la comunidad abitaX"})]}),m,e&&u.jsx("div",{className:"mt-8 text-center",children:u.jsxs("p",{className:"text-gray-600 text-lg",children:["Ya tienes cuenta?"," ",u.jsx("button",{onClick:e,className:"text-green-ge hover:text-green-dark font-bold underline",children:"Inicia sesin aqu"})]})})]})]})})}function aw(){var w,v;const[e,t]=k.useState(!1),[r,n]=k.useState(!1),[s,i]=k.useState(null),{profile:a,signOut:o,user:l}=cs(),c=pr(),d=g=>c.pathname===g,h=g=>{i(g)},p=[{path:"/",label:"Inicio"},{path:"/services",label:"Servicios"},{path:"/properties",label:"Propiedades"},{path:"/professionals",label:"Profesionales"},{path:"/profile",label:"Perfil"}];return u.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-20",children:[u.jsxs(Se,{to:"/",className:"flex items-center gap-2 flex-shrink-0",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-600 to-blue-600 rounded-lg flex items-center justify-center shadow-md",children:u.jsx("span",{className:"text-xl",children:""})}),u.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"abitaX"})]}),u.jsx("nav",{className:"hidden lg:flex items-center gap-8 flex-1 justify-center",children:p.map(g=>u.jsxs(Se,{to:g.path,className:`font-semibold text-sm transition-colors relative pb-1 ${d(g.path)?"text-gray-900":"text-gray-600 hover:text-gray-900"}`,children:[g.label,d(g.path)&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900 rounded-full"})]},g.path))}),u.jsx("div",{className:"hidden lg:flex items-center gap-3 flex-shrink-0",children:l?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-3 px-4 py-2 border border-gray-300 rounded-full hover:shadow-md transition-shadow",children:[u.jsx(Ac,{className:"w-4 h-4 text-gray-600"}),a!=null&&a.avatar_url?u.jsx("img",{src:a.avatar_url,alt:a.full_name,className:"w-8 h-8 rounded-full object-cover"}):u.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-600 to-blue-600 flex items-center justify-center text-white font-bold",children:((v=(w=a==null?void 0:a.full_name)==null?void 0:w[0])==null?void 0:v.toUpperCase())||"U"})]}),r&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-2xl shadow-xl border border-gray-100 py-2 z-50",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:a==null?void 0:a.full_name}),u.jsx("p",{className:"text-sm text-gray-500",children:l.email})]}),u.jsxs(Se,{to:"/profile",className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 text-gray-700 font-medium",onClick:()=>n(!1),children:[u.jsx(Wl,{className:"w-4 h-4"}),"Mi Perfil"]}),u.jsx("hr",{className:"my-2"}),u.jsxs("button",{onClick:()=>{o(),n(!1)},className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 text-red-600 w-full font-medium",children:[u.jsx(ew,{className:"w-4 h-4"}),"Cerrar Sesin"]})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>h("login"),className:"px-6 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-full transition-colors",children:"Iniciar sesin"}),u.jsx("button",{onClick:()=>h("register"),className:"px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 rounded-full transition-all shadow-md hover:shadow-lg",children:"Registrar aqu"})]})}),u.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 rounded-lg hover:bg-gray-50 transition-colors",children:e?u.jsx(_i,{className:"w-6 h-6"}):u.jsx(Ac,{className:"w-6 h-6"})})]})}),e&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 lg:hidden",onClick:()=>t(!1)}),u.jsx("div",{className:"lg:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-200 shadow-lg z-50",children:u.jsxs("nav",{className:"px-4 py-6 space-y-1",children:[p.map(g=>u.jsx(Se,{to:g.path,className:`block px-4 py-3 rounded-lg font-semibold transition-colors ${d(g.path)?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>t(!1),children:g.label},g.path)),l?u.jsxs(u.Fragment,{children:[u.jsx("hr",{className:"my-4"}),u.jsxs("div",{className:"px-4 py-2",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:a==null?void 0:a.full_name}),u.jsx("p",{className:"text-sm text-gray-500",children:l.email})]}),u.jsx("button",{onClick:()=>{o(),t(!1)},className:"block w-full text-left px-4 py-3 rounded-lg font-semibold text-red-600 hover:bg-red-50",children:"Cerrar Sesin"})]}):u.jsxs(u.Fragment,{children:[u.jsx("hr",{className:"my-4"}),u.jsx("button",{onClick:()=>{h("login"),t(!1)},className:"block w-full px-4 py-3 text-center rounded-lg font-semibold text-gray-700 border-2 border-gray-900 hover:bg-gray-50",children:"Iniciar sesin"}),u.jsx("button",{onClick:()=>{h("register"),t(!1)},className:"block w-full px-4 py-3 text-center rounded-lg font-semibold text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:"Registrar aqu"})]})]})})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[u.jsx("h3",{className:"text-xl font-bold",children:s==="login"?"Iniciar sesin":"Crear cuenta"}),u.jsx("button",{onClick:()=>i(null),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:u.jsx(_i,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[s==="login"?u.jsx(ow,{onSuccess:()=>i(null)}):u.jsx(lw,{onSuccess:()=>i(null)}),u.jsx("div",{className:"mt-6 text-center",children:s==="login"?u.jsxs("p",{className:"text-sm text-gray-600",children:["No tienes cuenta?"," ",u.jsx("button",{onClick:()=>i("register"),className:"text-green-600 font-semibold hover:text-green-700",children:"Regstrate aqu"})]}):u.jsxs("p",{className:"text-sm text-gray-600",children:["Ya tienes cuenta?"," ",u.jsx("button",{onClick:()=>i("login"),className:"text-green-600 font-semibold hover:text-green-700",children:"Inicia sesin"})]})})]})]})})]})}function ow({onSuccess:e}){return u.jsx(Of,{onSuccess:e,inModal:!0})}function lw({onSuccess:e}){return u.jsx(Rf,{onSuccess:e,inModal:!0})}function uw(){const e=pr(),t=r=>e.pathname===r;return u.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:u.jsxs("div",{className:"flex justify-around items-center h-16",children:[u.jsxs(Se,{to:"/",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(jf,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Inicio"})]}),u.jsxs(Se,{to:"/services",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/services")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(Fi,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Servicios"})]}),u.jsxs(Se,{to:"/properties",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/properties")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(Rn,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Propiedades"})]}),u.jsxs(Se,{to:"/professionals",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/professionals")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(Pf,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Profesionales"})]}),u.jsxs(Se,{to:"/profile",className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${t("/profile")?"text-green-ge":"text-gray-500"}`,children:[u.jsx(Wl,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Perfil"})]})]})})}function cw(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,[])).next())})}function dw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ta,Ic;function hw(){return Ic||(Ic=1,Ta=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}),Ta}var fw=hw(),pw=dw(fw);const $c="__googleMapsScriptId";var Dr;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Dr||(Dr={}));class er{constructor({apiKey:t,authReferrerPolicy:r,channel:n,client:s,id:i=$c,language:a,libraries:o=[],mapIds:l,nonce:c,region:d,retries:h=3,url:p="https://maps.googleapis.com/maps/api/js",version:w}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=n,this.client=s,this.id=i||$c,this.language=a,this.libraries=o,this.mapIds=l,this.nonce=c,this.region=d,this.retries=h,this.url=p,this.version=w,er.instance){if(!pw(this.options,er.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(er.instance.options)}`);return er.instance}er.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Dr.FAILURE:this.done?Dr.SUCCESS:this.loading?Dr.LOADING:Dr.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(n=>{n?r(n.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(i=>!n[i]&&delete n[i]),!((r=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||r===void 0)&&r.importLibrary||(i=>{let a,o,l,c="The Google Maps JavaScript API",d="google",h="importLibrary",p="__ib__",w=document,v=window;v=v[d]||(v[d]={});const g=v.maps||(v.maps={}),x=new Set,y=new URLSearchParams,f=()=>a||(a=new Promise((m,_)=>cw(this,void 0,void 0,function*(){var b;yield o=w.createElement("script"),o.id=this.id,y.set("libraries",[...x]+"");for(l in i)y.set(l.replace(/[A-Z]/g,S=>"_"+S[0].toLowerCase()),i[l]);y.set("callback",d+".maps."+p),o.src=this.url+"?"+y,g[p]=m,o.onerror=()=>a=_(Error(c+" could not load.")),o.nonce=this.nonce||((b=w.querySelector("script[nonce]"))===null||b===void 0?void 0:b.nonce)||"",w.head.append(o)})));g[h]?console.warn(c+" only loads once. Ignoring:",i):g[h]=(m,..._)=>x.add(m)&&f().then(()=>g[h](m,..._))})(n);const s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{const a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}function Af({center:e={lat:1.6508,lng:10.2679},zoom:t=8,markers:r=[],onMapClick:n,className:s="w-full h-96"}){const i=k.useRef(null),[a,o]=k.useState(null),[l,c]=k.useState([]);return k.useEffect(()=>{new er({apiKey:"AIzaSyCNskrqibDP4rG-3PN9jWIo1dslkQkXO6w",version:"weekly"}).load().then(()=>{if(i.current&&!a){const h=new google.maps.Map(i.current,{center:e,zoom:t,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});n&&h.addListener("click",p=>{p.latLng&&n(p.latLng.lat(),p.latLng.lng())}),o(h)}})},[]),k.useEffect(()=>{a&&e&&a.setCenter(e)},[a,e]),k.useEffect(()=>{if(!a)return;l.forEach(h=>h.setMap(null));const d=r.map(h=>{const p=new google.maps.Marker({position:{lat:h.lat,lng:h.lng},map:a,title:h.title,icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#007A33",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}});if(h.title){const w=new google.maps.InfoWindow({content:`<div class="p-2 font-semibold">${h.title}</div>`});p.addListener("click",()=>{w.open(a,p)})}return p});return c(d),()=>{d.forEach(h=>h.setMap(null))}},[a,r]),u.jsx("div",{ref:i,className:s})}function mw(){const[e,t]=k.useState(""),[r,n]=k.useState([]),[s,i]=k.useState([]);k.useEffect(()=>{a()},[]);async function a(){try{const[o,l]=await Promise.all([ke.from("properties").select("*").eq("available",!0).limit(3),ke.from("professionals").select("*, profiles(full_name, avatar_url)").eq("available",!0).order("rating",{ascending:!1}).limit(3)]);o.data&&n(o.data),l.data&&i(l.data)}catch(o){console.error("Error loading data:",o)}finally{}}return u.jsxs("div",{className:"min-h-screen",children:[u.jsx("div",{className:"gradient-bg text-white",children:u.jsx("div",{className:"page-container py-20",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center animate-fade-in",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-2xl",children:u.jsx("span",{className:"text-6xl",children:""})})}),u.jsx("h1",{className:"text-6xl font-black mb-4 text-white drop-shadow-lg",children:"Bienvenido a abitaX"}),u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[u.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-transparent to-white rounded"}),u.jsx("p",{className:"text-2xl font-bold text-white",children:"La SuperApp de Guinea Ecuatorial"}),u.jsx("div",{className:"h-1 w-16 bg-gradient-to-l from-transparent to-white rounded"})]}),u.jsx("p",{className:"text-lg mb-10 text-white/90 max-w-2xl mx-auto leading-relaxed",children:"Conectando personas, lugares y servicios en todo el pas. Descubre propiedades, encuentra profesionales verificados y accede a servicios de calidad."}),u.jsxs("div",{className:"search-bar-enhanced max-w-3xl mx-auto",children:[u.jsx(Vi,{className:"text-gray-400 ml-2 w-6 h-6"}),u.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:"Buscar servicios, propiedades, profesionales..."}),u.jsx("button",{className:"btn-primary px-8 py-3 text-lg font-bold",children:"Buscar"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-12 max-w-2xl mx-auto",children:[u.jsxs("div",{className:"stat-card glass-effect",children:[u.jsx("div",{className:"stat-number",children:"500+"}),u.jsx("div",{className:"stat-label",children:"Propiedades"})]}),u.jsxs("div",{className:"stat-card glass-effect",children:[u.jsx("div",{className:"stat-number",children:"1000+"}),u.jsx("div",{className:"stat-label",children:"Profesionales"})]}),u.jsxs("div",{className:"stat-card glass-effect",children:[u.jsx("div",{className:"stat-number",children:"100+"}),u.jsx("div",{className:"stat-label",children:"Servicios"})]})]})]})})}),u.jsxs("div",{className:"page-container py-16",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[u.jsx(Se,{to:"/services",className:"feature-card group",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-ge to-emerald-600 rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(Fi,{className:"text-white w-10 h-10"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Servicios"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Encuentra profesionales verificados para cualquier servicio que necesites"})]})}),u.jsx(Se,{to:"/properties",className:"feature-card group",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-ge to-blue-600 rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(Rn,{className:"text-white w-10 h-10"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Propiedades"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Explora casas, apartamentos y terrenos en venta o alquiler"})]})}),u.jsx(Se,{to:"/professionals",className:"feature-card group",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(Pf,{className:"text-white w-10 h-10"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Profesionales"}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Conecta con expertos calificados en diversas reas"})]})})]}),u.jsxs("div",{className:"mb-16",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"h-1 w-12 bg-gradient-to-r from-transparent to-green-ge rounded"}),u.jsx(Zr,{className:"text-green-ge w-8 h-8"}),u.jsx("div",{className:"h-1 w-12 bg-gradient-to-l from-transparent to-green-ge rounded"})]}),u.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-3",children:"Explora Guinea Ecuatorial"}),u.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Descubre ubicaciones, propiedades y servicios en todo el territorio nacional"})]}),u.jsx("div",{className:"map-container",children:u.jsx(Af,{center:{lat:1.6508,lng:10.2679},zoom:7,className:"w-full h-[500px]"})})]}),s.length>0&&u.jsxs("div",{className:"mb-16",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(iw,{className:"text-green-ge w-8 h-8"}),u.jsx("h2",{className:"text-4xl font-black text-gray-900",children:"Profesionales Destacados"})]}),u.jsx("p",{className:"text-gray-600 text-lg ml-11",children:"Los mejores profesionales verificados"})]}),u.jsx(Se,{to:"/professionals",className:"btn-outline px-6 py-3 font-bold hidden md:flex",children:"Ver todos "})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map(o=>{var l,c,d,h,p;return u.jsxs("div",{className:"feature-card",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[(l=o.profiles)!=null&&l.avatar_url?u.jsx("img",{src:o.profiles.avatar_url,alt:o.profiles.full_name,className:"w-20 h-20 rounded-2xl object-cover shadow-lg"}):u.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-green-ge to-emerald-600 flex items-center justify-center text-white text-3xl font-black shadow-lg",children:(h=(d=(c=o.profiles)==null?void 0:c.full_name)==null?void 0:d[0])==null?void 0:h.toUpperCase()}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:(p=o.profiles)==null?void 0:p.full_name}),u.jsx("p",{className:"text-sm text-gray-600 font-medium",children:o.profession})]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((w,v)=>u.jsx(Vl,{className:`w-5 h-5 ${v<Math.floor(o.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},v))}),u.jsx("span",{className:"font-bold text-gray-900",children:o.rating.toFixed(1)}),u.jsxs("span",{className:"text-gray-500 text-sm",children:["(",o.total_reviews," reseas)"]})]}),o.verified&&u.jsx("div",{className:"pro-badge pro-badge-verified",children:" Verificado"})]},o.id)})})]}),r.length>0&&u.jsxs("div",{className:"mb-16",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Rn,{className:"text-blue-ge w-8 h-8"}),u.jsx("h2",{className:"text-4xl font-black text-gray-900",children:"Propiedades Destacadas"})]}),u.jsx("p",{className:"text-gray-600 text-lg ml-11",children:"Las mejores oportunidades inmobiliarias"})]}),u.jsx(Se,{to:"/properties",className:"btn-outline px-6 py-3 font-bold hidden md:flex",children:"Ver todas "})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map(o=>{var l;return u.jsxs("div",{className:"feature-card p-0",children:[(l=o.images)!=null&&l[0]?u.jsx("img",{src:o.images[0],alt:o.title,className:"w-full h-56 object-cover"}):u.jsx("div",{className:"w-full h-56 bg-gradient-to-br from-blue-ge to-blue-600 flex items-center justify-center",children:u.jsx(Rn,{className:"w-20 h-20 text-white opacity-50"})}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-3 text-xl line-clamp-1",children:o.title}),u.jsxs("p",{className:"text-gray-600 mb-4 flex items-center gap-2",children:[u.jsx(Zr,{className:"w-5 h-5 text-green-ge"}),u.jsx("span",{className:"font-medium",children:o.city})]}),u.jsxs("div",{className:"price-tag mb-4",children:[u.jsx("span",{className:"price-amount",children:o.price.toLocaleString()}),u.jsx("span",{className:"price-currency",children:o.currency})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:`pro-badge ${o.listing_type==="venta"?"pro-badge-new":"pro-badge-featured"} capitalize text-xs`,children:o.listing_type}),u.jsx("button",{className:"text-green-ge hover:text-green-dark font-bold text-sm",children:"Ver detalles "})]})]})]},o.id)})})]})]})]})}const gw=["Todos","Construccin","Mantenimiento","Electricidad","Plomera","Carpintera","Pintura","Limpieza","Jardinera","Otros"];function vw(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,i]=k.useState("Todos"),[a,o]=k.useState(""),[l,c]=k.useState(!0),[d,h]=k.useState(!1);k.useEffect(()=>{p()},[]),k.useEffect(()=>{w()},[e,s,a]);async function p(){try{const{data:g,error:x}=await ke.from("services").select(`
          *,
          professionals (
            *,
            profiles (full_name, avatar_url)
          )
        `).eq("active",!0).order("created_at",{ascending:!1});if(x)throw x;t(g||[])}catch(g){console.error("Error loading services:",g)}finally{c(!1)}}function w(){let g=e;s!=="Todos"&&(g=g.filter(x=>x.category.toLowerCase()===s.toLowerCase())),a&&(g=g.filter(x=>x.title.toLowerCase().includes(a.toLowerCase())||x.description.toLowerCase().includes(a.toLowerCase()))),n(g)}const v=r.filter(g=>g.location).map(g=>({lat:g.location.coordinates[1],lng:g.location.coordinates[0],title:g.title}));return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-8",children:[u.jsx("div",{className:"gradient-bg text-white py-8",children:u.jsxs("div",{className:"page-container",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Servicios"}),u.jsx("p",{className:"text-green-light text-lg",children:"Encuentra profesionales para cualquier servicio que necesites"})]})}),u.jsxs("div",{className:"page-container py-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-2 flex items-center gap-2 mb-4",children:[u.jsx(Vi,{className:"text-gray-400 ml-2"}),u.jsx("input",{type:"text",value:a,onChange:g=>o(g.target.value),placeholder:"Buscar servicios...",className:"flex-1 px-4 py-3 outline-none"}),u.jsxs("button",{onClick:()=>h(!d),className:"btn-secondary py-3 px-6 flex items-center gap-2",children:[u.jsx(Zr,{className:"w-5 h-5"}),d?"Lista":"Mapa"]})]}),u.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[u.jsx(Ef,{className:"text-gray-600 flex-shrink-0"}),gw.map(g=>u.jsx("button",{onClick:()=>i(g),className:`px-4 py-2 rounded-full font-medium whitespace-nowrap transition-colors ${s===g?"bg-green-ge text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:g},g))]})]}),d?u.jsx("div",{className:"card overflow-hidden mb-8",children:u.jsx(Af,{markers:v,className:"w-full h-[600px]"})}):u.jsx(u.Fragment,{children:l?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"inline-block w-12 h-12 border-4 border-green-ge border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando servicios..."})]}):r.length===0?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-600 text-lg",children:"No se encontraron servicios"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(g=>{var x,y,f,m,_,b,S,j,C,U,I;return u.jsxs("div",{className:"card overflow-hidden hover:shadow-xl transition-shadow",children:[(x=g.images)!=null&&x[0]?u.jsx("img",{src:g.images[0],alt:g.title,className:"w-full h-48 object-cover"}):u.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-green-ge to-blue-ge"}),u.jsxs("div",{className:"p-5",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[(f=(y=g.professionals)==null?void 0:y.profiles)!=null&&f.avatar_url?u.jsx("img",{src:g.professionals.profiles.avatar_url,alt:g.professionals.profiles.full_name,className:"w-10 h-10 rounded-full object-cover"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-green-ge flex items-center justify-center text-white font-bold",children:(S=(b=(_=(m=g.professionals)==null?void 0:m.profiles)==null?void 0:_.full_name)==null?void 0:b[0])==null?void 0:S.toUpperCase()}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:(C=(j=g.professionals)==null?void 0:j.profiles)==null?void 0:C.full_name}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx(Vl,{className:"w-3 h-3 text-gold-ge fill-current"}),u.jsx("span",{children:((I=(U=g.professionals)==null?void 0:U.rating)==null?void 0:I.toFixed(1))||"0.0"})]})]})]}),u.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:g.title}),u.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:g.description}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"badge badge-success",children:g.category}),g.price_from&&u.jsxs("span",{className:"text-lg font-bold text-green-ge",children:[g.price_from.toLocaleString()," ",g.currency]})]})]})]},g.id)})})})]})]})}function yw({property:e,onFavorite:t}){var a;const[r,n]=k.useState(!1),s=o=>{o.preventDefault(),n(!r),t==null||t(e.id)},i=o=>({house:"Casa",apartment:"Apartamento",land:"Terreno",commercial:"Comercial"})[o]||o;return u.jsxs("div",{className:"group cursor-pointer",children:[u.jsxs("div",{className:"relative mb-3",children:[u.jsx("div",{className:"aspect-[4/3] rounded-xl overflow-hidden",children:(a=e.images)!=null&&a[0]?u.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center",children:u.jsx(Zr,{className:"w-16 h-16 text-slate-300"})})}),u.jsx("button",{onClick:s,className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-white/90 hover:bg-white hover:scale-110 transition-all shadow-md",children:u.jsx(Y0,{className:`w-4 h-4 transition-colors ${r?"fill-red-500 text-red-500":"text-gray-700"}`})}),u.jsx("div",{className:"absolute bottom-3 left-3",children:u.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-white text-gray-900 shadow-md",children:e.listing_type==="sale"?"En Venta":"En Alquiler"})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:e.city}),u.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-md whitespace-nowrap",children:i(e.property_type)})]}),u.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:e.title}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[e.bedrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(X0,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:e.bedrooms})]}),e.bathrooms&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Q0,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:e.bathrooms})]}),e.area_sqm&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(tw,{className:"w-3.5 h-3.5"}),u.jsxs("span",{children:[e.area_sqm,"m"]})]})]}),u.jsx("div",{className:"pt-1",children:u.jsxs("span",{className:"font-semibold text-gray-900",children:[e.price.toLocaleString()," ",e.currency]})})]})]})}const ww=[{id:"all",label:"Todos",icon:Tf},{id:"house",label:"Casas",icon:jf},{id:"apartment",label:"Apartamentos",icon:Rn},{id:"land",label:"Terrenos",icon:Z0},{id:"commercial",label:"Comercial",icon:sw}];function xw({selectedType:e,selectedListing:t,onTypeChange:r,onListingChange:n,onShowFilters:s}){return u.jsx("div",{className:"border-b border-gray-200 bg-white sticky top-0 z-20",children:u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"flex items-center gap-8 py-4 overflow-x-auto scrollbar-hide",children:[u.jsx("div",{className:"flex items-center gap-6 flex-shrink-0",children:ww.map(i=>{const a=i.icon,o=e===i.id;return u.jsxs("button",{onClick:()=>r(i.id),className:`flex flex-col items-center gap-2 pb-2 border-b-2 transition-colors min-w-[60px] ${o?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900 hover:border-gray-300"}`,children:[u.jsx(a,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-semibold whitespace-nowrap",children:i.label})]},i.id)})}),u.jsxs("div",{className:"flex items-center gap-3 ml-auto flex-shrink-0",children:[u.jsxs("select",{value:t,onChange:i=>n(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-semibold hover:border-gray-900 cursor-pointer focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:[u.jsx("option",{value:"all",children:"Todas las operaciones"}),u.jsx("option",{value:"sale",children:"En Venta"}),u.jsx("option",{value:"rent",children:"En Alquiler"})]}),u.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-semibold hover:border-gray-900 transition-colors",children:[u.jsx(Tf,{className:"w-4 h-4"}),"Filtros"]})]})]})})})}const _w=["Todas las ciudades","Malabo","Bata","Ebebiyin","Aconibe","Mongomo","Evinayong"];function kw({searchQuery:e,selectedCity:t,onSearchChange:r,onCityChange:n}){return u.jsx("div",{className:"bg-white border-b border-gray-200 py-4",children:u.jsx("div",{className:"page-container",children:u.jsx("div",{className:"flex items-center gap-3 max-w-4xl mx-auto",children:u.jsxs("div",{className:"flex-1 flex items-center bg-white border border-gray-300 hover:shadow-md transition-shadow rounded-full overflow-hidden",children:[u.jsxs("div",{className:"flex-1 flex items-center px-6 py-3 border-r border-gray-300",children:[u.jsx(Zr,{className:"w-5 h-5 text-gray-400 mr-3"}),u.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"flex-1 text-sm font-semibold outline-none cursor-pointer bg-transparent",children:_w.map(s=>u.jsx("option",{value:s,children:s},s))})]}),u.jsx("div",{className:"flex-1 flex items-center px-6 py-3",children:u.jsx("input",{type:"text",value:e,onChange:s=>r(s.target.value),placeholder:"Buscar propiedades...",className:"flex-1 text-sm font-semibold outline-none placeholder:text-gray-400 placeholder:font-normal"})}),u.jsx("button",{className:"m-2 w-10 h-10 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center hover:scale-105 transition-transform",children:u.jsx(Vi,{className:"w-5 h-5 text-white"})})]})})})})}function bw(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,i]=k.useState("all"),[a,o]=k.useState("all"),[l,c]=k.useState("Todas las ciudades"),[d,h]=k.useState(""),[p,w]=k.useState(!0),[v,g]=k.useState(!1);k.useEffect(()=>{x()},[]),k.useEffect(()=>{y()},[e,s,a,l,d]);async function x(){try{const{data:f,error:m}=await ke.from("properties").select("*").eq("available",!0).order("created_at",{ascending:!1});if(m)throw m;t(f||[])}catch(f){console.error("Error loading properties:",f)}finally{w(!1)}}function y(){let f=e;s!=="all"&&(f=f.filter(m=>m.property_type===s)),a!=="all"&&(f=f.filter(m=>m.listing_type===a)),l!=="Todas las ciudades"&&(f=f.filter(m=>m.city===l)),d&&(f=f.filter(m=>m.title.toLowerCase().includes(d.toLowerCase())||m.address.toLowerCase().includes(d.toLowerCase())||m.city.toLowerCase().includes(d.toLowerCase()))),n(f)}return u.jsxs("div",{className:"min-h-screen bg-white pb-20 md:pb-8",children:[u.jsx(kw,{searchQuery:d,selectedCity:l,onSearchChange:h,onCityChange:c}),u.jsx(xw,{selectedType:s,selectedListing:a,onTypeChange:i,onListingChange:o,onShowFilters:()=>g(!0)}),u.jsx("div",{className:"page-container py-6",children:p?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-block w-12 h-12 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("p",{className:"text-gray-600 font-medium",children:"Cargando propiedades..."})]})}):r.length===0?u.jsxs("div",{className:"text-center py-20",children:[u.jsx(Zr,{className:"w-20 h-20 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No se encontraron propiedades"}),u.jsx("p",{className:"text-gray-600",children:"Intenta ajustar tus filtros o buscar en otra ubicacin"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-6",children:u.jsxs("h2",{className:"text-sm text-gray-600",children:[r.length," propiedades encontradas"]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-6 gap-y-10",children:r.map(f=>u.jsx(yw,{property:f},f.id))})]})}),v&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end md:items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-t-2xl md:rounded-2xl w-full md:max-w-2xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-bold",children:"Filtros"}),u.jsx("button",{onClick:()=>g(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:u.jsx(_i,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"font-semibold mb-3",children:"Tipo de operacin"}),u.jsx("div",{className:"space-y-2",children:["all","sale","rent"].map(f=>u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"listing",checked:a===f,onChange:()=>o(f),className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm",children:[f==="all"&&"Todas las operaciones",f==="sale"&&"En Venta",f==="rent"&&"En Alquiler"]})]},f))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"font-semibold mb-3",children:"Tipo de propiedad"}),u.jsx("div",{className:"space-y-2",children:["all","house","apartment","land","commercial"].map(f=>u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"property",checked:s===f,onChange:()=>i(f),className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm",children:[f==="all"&&"Todos los tipos",f==="house"&&"Casas",f==="apartment"&&"Apartamentos",f==="land"&&"Terrenos",f==="commercial"&&"Comercial"]})]},f))})]})]}),u.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex items-center gap-3",children:[u.jsx("button",{onClick:()=>{i("all"),o("all"),c("Todas las ciudades"),h("")},className:"flex-1 px-6 py-3 border border-gray-900 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Limpiar filtros"}),u.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-6 py-3 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 transition-colors",children:"Mostrar propiedades"})]})]})})]})}const Sw=["Todos","Construccin","Electricista","Plomero","Carpintero","Pintor","Mecnico","Jardinero","Limpieza","Abogado","Mdico","Ingeniero","Arquitecto","Otros"];function Ew(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,i]=k.useState("Todos"),[a,o]=k.useState(""),[l,c]=k.useState(!0),[d,h]=k.useState(!1);k.useEffect(()=>{p()},[]),k.useEffect(()=>{w()},[e,s,a,d]);async function p(){try{const{data:v,error:g}=await ke.from("professionals").select(`
          *,
          profiles (full_name, avatar_url, phone, bio)
        `).eq("available",!0).order("rating",{ascending:!1});if(g)throw g;t(v||[])}catch(v){console.error("Error loading professionals:",v)}finally{c(!1)}}function w(){let v=e;s!=="Todos"&&(v=v.filter(g=>g.profession.toLowerCase()===s.toLowerCase())),d&&(v=v.filter(g=>g.verified)),a&&(v=v.filter(g=>{var x,y,f;return((y=(x=g.profiles)==null?void 0:x.full_name)==null?void 0:y.toLowerCase().includes(a.toLowerCase()))||g.profession.toLowerCase().includes(a.toLowerCase())||((f=g.company_name)==null?void 0:f.toLowerCase().includes(a.toLowerCase()))})),n(v)}return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-8",children:[u.jsx("div",{className:"gradient-bg text-white py-8",children:u.jsxs("div",{className:"page-container",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Profesionales"}),u.jsx("p",{className:"text-green-light text-lg",children:"Conecta con expertos verificados en Guinea Ecuatorial"})]})}),u.jsxs("div",{className:"page-container py-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-2 flex items-center gap-2 mb-4",children:[u.jsx(Vi,{className:"text-gray-400 ml-2"}),u.jsx("input",{type:"text",value:a,onChange:v=>o(v.target.value),placeholder:"Buscar profesionales...",className:"flex-1 px-4 py-3 outline-none"}),u.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-green-light rounded-lg cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:d,onChange:v=>h(v.target.checked),className:"w-4 h-4 text-green-ge rounded"}),u.jsx(xi,{className:"w-4 h-4 text-green-ge"}),u.jsx("span",{className:"text-sm font-medium text-green-dark",children:"Solo Verificados"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[u.jsx(Ef,{className:"text-gray-600 flex-shrink-0"}),Sw.map(v=>u.jsx("button",{onClick:()=>i(v),className:`px-4 py-2 rounded-full font-medium whitespace-nowrap transition-colors ${s===v?"bg-green-ge text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:v},v))]})]}),l?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"inline-block w-12 h-12 border-4 border-green-ge border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando profesionales..."})]}):r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Fi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"No se encontraron profesionales"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>{var g,x,y,f,m,_,b;return u.jsxs("div",{className:"card p-6 hover:shadow-xl transition-shadow",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[(g=v.profiles)!=null&&g.avatar_url?u.jsx("img",{src:v.profiles.avatar_url,alt:v.profiles.full_name,className:"w-20 h-20 rounded-full object-cover"}):u.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-ge to-blue-ge flex items-center justify-center text-white text-3xl font-bold",children:(f=(y=(x=v.profiles)==null?void 0:x.full_name)==null?void 0:y[0])==null?void 0:f.toUpperCase()}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-1",children:(m=v.profiles)==null?void 0:m.full_name}),u.jsx("p",{className:"text-gray-600 font-medium mb-2",children:v.profession}),v.company_name&&u.jsx("p",{className:"text-sm text-gray-500",children:v.company_name})]})]}),((_=v.profiles)==null?void 0:_.bio)&&u.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:v.profiles.bio}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Vl,{className:"w-5 h-5 text-gold-ge fill-current"}),u.jsx("span",{className:"font-bold text-lg",children:v.rating.toFixed(1)})]}),u.jsxs("span",{className:"text-gray-600 text-sm",children:["(",v.total_reviews," reseas)"]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.verified&&u.jsxs("span",{className:"badge bg-green-ge text-white flex items-center gap-1",children:[u.jsx(xi,{className:"w-3 h-3"}),"Verificado"]}),v.years_experience>0&&u.jsxs("span",{className:"badge badge-success",children:[v.years_experience," aos exp."]})]}),((b=v.certifications)==null?void 0:b.length)>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Certificaciones:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:v.certifications.slice(0,3).map((S,j)=>u.jsx("span",{className:"badge badge-warning text-xs",children:S},j))})]}),u.jsx("button",{className:"btn-primary w-full",children:"Contactar"})]},v.id)})})]})]})}function Lc(){var x,y,f;const{profile:e,user:t,updateProfile:r}=cs(),[n,s]=k.useState(!1),[i,a]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(null),[h,p]=k.useState({full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",bio:(e==null?void 0:e.bio)||""});k.useEffect(()=>{(e==null?void 0:e.user_type)==="professional"&&(l(!0),w())},[e]);async function w(){if(t)try{const{data:m,error:_}=await ke.from("professionals").select("*").eq("user_id",t.id).maybeSingle();if(_)throw _;m&&d(m)}catch(m){console.error("Error loading professional data:",m)}}async function v(){a(!0);const{error:m}=await r(h);m?alert("Error al actualizar el perfil"):s(!1),a(!1)}function g(){p({full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",bio:(e==null?void 0:e.bio)||""}),s(!1)}return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-8",children:[u.jsx("div",{className:"gradient-bg text-white py-12",children:u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-4xl font-bold",children:"Mi Perfil"}),!n&&u.jsxs("button",{onClick:()=>s(!0),className:"bg-white text-green-ge px-6 py-2 rounded-lg font-semibold hover:bg-green-light transition-colors flex items-center gap-2",children:[u.jsx(rw,{className:"w-4 h-4"}),"Editar"]})]})})}),u.jsx("div",{className:"page-container py-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:"card p-8 mb-6",children:u.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[e!=null&&e.avatar_url?u.jsx("img",{src:e.avatar_url,alt:e.full_name,className:"w-32 h-32 rounded-full object-cover"}):u.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-green-ge to-blue-ge flex items-center justify-center text-white text-5xl font-bold",children:(y=(x=e==null?void 0:e.full_name)==null?void 0:x[0])==null?void 0:y.toUpperCase()}),u.jsx("div",{className:"flex-1",children:n?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),u.jsx("input",{type:"text",value:h.full_name,onChange:m=>p({...h,full_name:m.target.value}),className:"input-field"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),u.jsx("input",{type:"tel",value:h.phone,onChange:m=>p({...h,phone:m.target.value}),className:"input-field"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biografa"}),u.jsx("textarea",{value:h.bio,onChange:m=>p({...h,bio:m.target.value}),className:"input-field",rows:4,placeholder:"Cuntanos sobre ti..."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:v,disabled:i,className:"btn-primary flex items-center gap-2 disabled:opacity-50",children:[u.jsx(nw,{className:"w-4 h-4"}),i?"Guardando...":"Guardar Cambios"]}),u.jsxs("button",{onClick:g,disabled:i,className:"px-6 py-3 border-2 border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors flex items-center gap-2",children:[u.jsx(_i,{className:"w-4 h-4"}),"Cancelar"]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e==null?void 0:e.full_name}),o&&u.jsx("span",{className:"badge bg-green-ge text-white mb-3",children:"Profesional"}),u.jsxs("div",{className:"space-y-2 mt-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(Fl,{className:"w-5 h-5"}),u.jsx("span",{children:t==null?void 0:t.email})]}),(e==null?void 0:e.phone)&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(Cf,{className:"w-5 h-5"}),u.jsx("span",{children:e.phone})]})]}),(e==null?void 0:e.bio)&&u.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:u.jsx("p",{className:"text-gray-700",children:e.bio})})]})})]})}),o&&c&&u.jsxs("div",{className:"card p-8",children:[u.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[u.jsx(Fi,{className:"text-green-ge"}),"Informacin Profesional"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profesin"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c.profession})]}),c.company_name&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c.company_name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aos de Experiencia"}),u.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[c.years_experience," aos"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificacin"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl font-bold text-green-ge",children:c.rating.toFixed(1)}),u.jsxs("span",{className:"text-gray-600",children:["(",c.total_reviews," reseas)"]})]})]})]}),((f=c.certifications)==null?void 0:f.length)>0&&u.jsxs("div",{className:"mt-6",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(xi,{className:"w-5 h-5 text-green-ge"}),"Certificaciones"]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:c.certifications.map((m,_)=>u.jsx("span",{className:"badge badge-warning",children:m},_))})]}),u.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[c.verified&&u.jsxs("span",{className:"badge bg-green-ge text-white flex items-center gap-2",children:[u.jsx(xi,{className:"w-4 h-4"}),"Verificado"]}),u.jsx("span",{className:`badge ${c.available?"badge-success":"bg-gray-400 text-white"}`,children:c.available?"Disponible":"No Disponible"})]})]})]})})]})}function jw(){const[e,t]=k.useState(!0),{user:r,loading:n}=cs();return n?u.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:u.jsx("span",{className:"text-5xl",children:""})}),u.jsx("div",{className:"inline-block w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-white text-xl mt-4 font-semibold",children:"Cargando abitaX..."})]})}):r?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(aw,{}),u.jsxs(rv,{children:[u.jsx(wt,{path:"/",element:u.jsx(mw,{})}),u.jsx(wt,{path:"/services",element:u.jsx(vw,{})}),u.jsx(wt,{path:"/properties",element:u.jsx(bw,{})}),u.jsx(wt,{path:"/professionals",element:u.jsx(Ew,{})}),u.jsx(wt,{path:"/profile",element:u.jsx(Lc,{})}),u.jsx(wt,{path:"/settings",element:u.jsx(Lc,{})}),u.jsx(wt,{path:"*",element:u.jsx(ev,{to:"/",replace:!0})})]}),u.jsx(uw,{})]}):e?u.jsx(Of,{onSwitchToRegister:()=>t(!1)}):u.jsx(Rf,{onSwitchToLogin:()=>t(!0)})}function Nw(){return u.jsx(uv,{children:u.jsx(K0,{children:u.jsx(jw,{})})})}Pa.createRoot(document.getElementById("root")).render(u.jsx(Kc.StrictMode,{children:u.jsx(Nw,{})}));
